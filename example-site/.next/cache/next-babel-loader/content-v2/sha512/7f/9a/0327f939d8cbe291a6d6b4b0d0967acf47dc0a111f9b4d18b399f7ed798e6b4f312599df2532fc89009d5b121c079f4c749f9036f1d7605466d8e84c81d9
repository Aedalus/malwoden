{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/joshuabevers/git/cacti-term/example-site/examples/input/mouse-input.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { CharCode, Color, Terminal, Input } from \"malwoden\";\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  var _super = _createSuper(_default);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var mount = document.getElementById(\"example\");\n      var width = 48;\n      var height = 30;\n      var terminal = new Terminal.RetroTerminal({\n        width: width,\n        height: height,\n        imageURL: \"/font_16.png\",\n        charWidth: 16,\n        charHeight: 16,\n        mountNode: mount\n      });\n      var clickMessage = \"Try Clicking!\";\n      var mouse = new Input.MouseHandler();\n      var c = new Input.MouseContext().onMouseDown(function (pos) {\n        var termPos = terminal.pixelToChar(pos);\n        clickMessage = \"mousedown on \".concat(termPos.x, \", \").concat(termPos.y);\n      }).onMouseUp(function (pos) {\n        var termPos = terminal.pixelToChar(pos);\n        clickMessage = \"mouseup on \".concat(termPos.x, \", \").concat(termPos.y);\n      });\n      mouse.setContext(c);\n\n      function loop() {\n        terminal.clear(); // Draw mouse position\n\n        var mousePos = mouse.getPos();\n\n        var _char = terminal.pixelToChar(mousePos);\n\n        terminal.drawCharCode(_char, CharCode.at, Color.Yellow); // Draw mouse message\n\n        terminal.writeAt({\n          x: 0,\n          y: 0\n        }, clickMessage); // Render\n\n        terminal.render();\n        requestAnimationFrame(loop);\n      }\n\n      requestAnimationFrame(loop);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"example\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }, this);\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/joshuabevers/git/cacti-term/example-site/examples/input/mouse-input.tsx"],"names":["React","CharCode","Color","Terminal","Input","mount","document","getElementById","width","height","terminal","RetroTerminal","imageURL","charWidth","charHeight","mountNode","clickMessage","mouse","MouseHandler","c","MouseContext","onMouseDown","pos","termPos","pixelToChar","x","y","onMouseUp","setContext","loop","clear","mousePos","getPos","char","drawCharCode","at","Yellow","writeAt","render","requestAnimationFrame","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,QAA1B,EAAoCC,KAApC,QAAuD,UAAvD;;;;;;;;;;;;;;;wCAGsB;AAClB,UAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAd;AACA,UAAMC,KAAK,GAAG,EAAd;AACA,UAAMC,MAAM,GAAG,EAAf;AACA,UAAMC,QAAQ,GAAG,IAAIP,QAAQ,CAACQ,aAAb,CAA2B;AAC1CH,QAAAA,KAAK,EAALA,KAD0C;AAE1CC,QAAAA,MAAM,EAANA,MAF0C;AAG1CG,QAAAA,QAAQ,EAAE,cAHgC;AAI1CC,QAAAA,SAAS,EAAE,EAJ+B;AAK1CC,QAAAA,UAAU,EAAE,EAL8B;AAM1CC,QAAAA,SAAS,EAAEV;AAN+B,OAA3B,CAAjB;AASA,UAAIW,YAAY,GAAG,eAAnB;AACA,UAAMC,KAAK,GAAG,IAAIb,KAAK,CAACc,YAAV,EAAd;AACA,UAAMC,CAAC,GAAG,IAAIf,KAAK,CAACgB,YAAV,GACPC,WADO,CACK,UAACC,GAAD,EAAS;AACpB,YAAMC,OAAO,GAAGb,QAAQ,CAACc,WAAT,CAAqBF,GAArB,CAAhB;AACAN,QAAAA,YAAY,0BAAmBO,OAAO,CAACE,CAA3B,eAAiCF,OAAO,CAACG,CAAzC,CAAZ;AACD,OAJO,EAKPC,SALO,CAKG,UAACL,GAAD,EAAS;AAClB,YAAMC,OAAO,GAAGb,QAAQ,CAACc,WAAT,CAAqBF,GAArB,CAAhB;AACAN,QAAAA,YAAY,wBAAiBO,OAAO,CAACE,CAAzB,eAA+BF,OAAO,CAACG,CAAvC,CAAZ;AACD,OARO,CAAV;AASAT,MAAAA,KAAK,CAACW,UAAN,CAAiBT,CAAjB;;AAEA,eAASU,IAAT,GAAgB;AACdnB,QAAAA,QAAQ,CAACoB,KAAT,GADc,CAEd;;AACA,YAAMC,QAAQ,GAAGd,KAAK,CAACe,MAAN,EAAjB;;AACA,YAAMC,KAAI,GAAGvB,QAAQ,CAACc,WAAT,CAAqBO,QAArB,CAAb;;AACArB,QAAAA,QAAQ,CAACwB,YAAT,CAAsBD,KAAtB,EAA4BhC,QAAQ,CAACkC,EAArC,EAAyCjC,KAAK,CAACkC,MAA/C,EALc,CAOd;;AACA1B,QAAAA,QAAQ,CAAC2B,OAAT,CAAiB;AAAEZ,UAAAA,CAAC,EAAE,CAAL;AAAQC,UAAAA,CAAC,EAAE;AAAX,SAAjB,EAAiCV,YAAjC,EARc,CAUd;;AACAN,QAAAA,QAAQ,CAAC4B,MAAT;AACAC,QAAAA,qBAAqB,CAACV,IAAD,CAArB;AACD;;AACDU,MAAAA,qBAAqB,CAACV,IAAD,CAArB;AACD;;;6BAEQ;AACP,0BAAO;AAAK,QAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;;;EA9C0B7B,KAAK,CAACwC,S","sourcesContent":["import React from \"react\";\n\nimport { CharCode, Color, Terminal, Input, Util } from \"malwoden\";\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const mount = document.getElementById(\"example\");\n    const width = 48;\n    const height = 30;\n    const terminal = new Terminal.RetroTerminal({\n      width,\n      height,\n      imageURL: \"/font_16.png\",\n      charWidth: 16,\n      charHeight: 16,\n      mountNode: mount,\n    });\n\n    let clickMessage = \"Try Clicking!\";\n    const mouse = new Input.MouseHandler();\n    const c = new Input.MouseContext()\n      .onMouseDown((pos) => {\n        const termPos = terminal.pixelToChar(pos);\n        clickMessage = `mousedown on ${termPos.x}, ${termPos.y}`;\n      })\n      .onMouseUp((pos) => {\n        const termPos = terminal.pixelToChar(pos);\n        clickMessage = `mouseup on ${termPos.x}, ${termPos.y}`;\n      });\n    mouse.setContext(c);\n\n    function loop() {\n      terminal.clear();\n      // Draw mouse position\n      const mousePos = mouse.getPos();\n      const char = terminal.pixelToChar(mousePos);\n      terminal.drawCharCode(char, CharCode.at, Color.Yellow);\n\n      // Draw mouse message\n      terminal.writeAt({ x: 0, y: 0 }, clickMessage);\n\n      // Render\n      terminal.render();\n      requestAnimationFrame(loop);\n    }\n    requestAnimationFrame(loop);\n  }\n\n  render() {\n    return <div id=\"example\"></div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}