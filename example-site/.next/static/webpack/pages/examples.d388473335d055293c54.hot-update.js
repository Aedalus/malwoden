webpackHotUpdate_N_E("pages/examples",{

/***/ "../dist/malwoden.es5.js":
/*!*******************************!*\
  !*** ../dist/malwoden.es5.js ***!
  \*******************************/
/*! exports provided: Terminal, Input, Generation, Pathfinding, GUI, Rand, Util, FOV, CharCode, Glyph, Color */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Terminal\", function() { return index; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Input\", function() { return index$1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Generation\", function() { return index$4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pathfinding\", function() { return index$5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUI\", function() { return index$6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rand\", function() { return index$3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Util\", function() { return index$2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FOV\", function() { return index$7; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharCode\", function() { return CharCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Glyph\", function() { return Glyph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar Color = /** @class */ (function () {\r\n    function Color(r, g, b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n    Color.prototype.isEqual = function (color) {\r\n        return this.r === color.r && this.g === color.g && this.b === color.b;\r\n    };\r\n    Color.prototype.cssColor = function () {\r\n        return \"rgb(\" + this.r + \",\" + this.g + \",\" + this.b + \")\";\r\n    };\r\n    Color.prototype.sanitizeElement = function (rgb) {\r\n        return Math.round(Math.min(Math.max(rgb, 0), 255));\r\n    };\r\n    Color.prototype.add = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 1; }\r\n        return new Color(this.sanitizeElement(this.r + other.r * fractionOther), this.sanitizeElement(this.g + other.g * fractionOther), this.sanitizeElement(this.b + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blend = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 0.5; }\r\n        var fractionThis = 1.0 - fractionOther;\r\n        return new Color(this.sanitizeElement(this.r * fractionThis + other.r * fractionOther), this.sanitizeElement(this.g * fractionThis + other.g * fractionOther), this.sanitizeElement(this.b * fractionThis + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blendPercent = function (other, percentOther) {\r\n        return this.blend(other, percentOther / 100);\r\n    };\r\n    Color.prototype.toGrayscale = function () {\r\n        var total = this.r + this.g + this.b;\r\n        return new Color(this.sanitizeElement(total / 3), this.sanitizeElement(total / 3), this.sanitizeElement(total / 3));\r\n    };\r\n    // CSS Extended Color Palette\r\n    // https://en.wikipedia.org/wiki/Web_colors\r\n    // Pink Colors\r\n    Color.MediumVioletRed = new Color(199, 21, 133);\r\n    Color.DeepPink = new Color(255, 20, 147);\r\n    Color.PaleVioletRed = new Color(219, 112, 147);\r\n    Color.HotPink = new Color(255, 105, 180);\r\n    Color.LightPink = new Color(255, 182, 193);\r\n    Color.Pink = new Color(255, 192, 203);\r\n    // Red Colors\r\n    Color.DarkRed = new Color(139, 0, 0);\r\n    Color.Red = new Color(255, 0, 0);\r\n    Color.Firebrick = new Color(178, 34, 34);\r\n    Color.Crimson = new Color(220, 20, 60);\r\n    Color.IndianRed = new Color(205, 92, 92);\r\n    Color.LightCoral = new Color(240, 128, 128);\r\n    Color.Salmon = new Color(250, 128, 114);\r\n    Color.DarkSalmon = new Color(233, 150, 122);\r\n    Color.LightSalmon = new Color(255, 160, 122);\r\n    // Orange Colors\r\n    Color.OrangeRed = new Color(255, 69, 0);\r\n    Color.Tomato = new Color(255, 99, 71);\r\n    Color.DarkOrange = new Color(255, 140, 0);\r\n    Color.Coral = new Color(255, 127, 80);\r\n    Color.Orange = new Color(255, 165, 0);\r\n    // Yellow Colors\r\n    Color.DarkKhaki = new Color(189, 183, 107);\r\n    Color.Gold = new Color(255, 215, 0);\r\n    Color.Khaki = new Color(240, 230, 140);\r\n    Color.PeachPuff = new Color(255, 218, 185);\r\n    Color.Yellow = new Color(255, 255, 0);\r\n    Color.PaleGoldenrod = new Color(238, 232, 170);\r\n    Color.Moccasin = new Color(255, 228, 181);\r\n    Color.PapayaWhip = new Color(255, 239, 213);\r\n    Color.LightGoldenrodYellow = new Color(250, 250, 210);\r\n    Color.LemonChiffon = new Color(255, 250, 205);\r\n    Color.LightYellow = new Color(255, 255, 224);\r\n    // Brown Colors\r\n    Color.Maroon = new Color(128, 0, 0);\r\n    Color.Brown = new Color(165, 42, 42);\r\n    Color.SaddleBrown = new Color(139, 69, 19);\r\n    Color.Sienna = new Color(160, 82, 45);\r\n    Color.Chocolate = new Color(210, 105, 30);\r\n    Color.DarkGoldenrod = new Color(184, 134, 11);\r\n    Color.Peru = new Color(205, 133, 63);\r\n    Color.RosyBrown = new Color(188, 143, 143);\r\n    Color.Goldenrod = new Color(218, 165, 32);\r\n    Color.SandyBrown = new Color(244, 164, 96);\r\n    Color.Tan = new Color(210, 180, 140);\r\n    Color.Burlywood = new Color(222, 184, 135);\r\n    Color.Wheat = new Color(245, 222, 179);\r\n    Color.NavajoWhite = new Color(255, 222, 173);\r\n    Color.Bisque = new Color(255, 228, 196);\r\n    Color.BlanchedAlmond = new Color(255, 235, 205);\r\n    Color.Cornsilk = new Color(255, 248, 220);\r\n    // Purple/Violet/Magenta Colors\r\n    Color.Indigo = new Color(75, 0, 130);\r\n    Color.Purple = new Color(128, 0, 128);\r\n    Color.DarkMagenta = new Color(139, 9, 139);\r\n    Color.DarkViolet = new Color(148, 0, 211);\r\n    Color.DarkSlateBlue = new Color(72, 61, 129);\r\n    Color.BlueViolet = new Color(138, 43, 226);\r\n    Color.DarkOrchid = new Color(153, 50, 204);\r\n    Color.Fuchsia = new Color(255, 0, 255);\r\n    Color.Magenta = new Color(255, 0, 255); // Alias Fuchsia\r\n    Color.SlateBlue = new Color(106, 90, 205);\r\n    Color.MediumSlateBlue = new Color(123, 104, 238);\r\n    Color.MediumOrchid = new Color(186, 85, 211);\r\n    Color.MediumPurple = new Color(147, 112, 219);\r\n    Color.Orchid = new Color(218, 11, 214);\r\n    Color.Violet = new Color(238, 130, 238);\r\n    Color.Plum = new Color(221, 160, 221);\r\n    Color.Thistle = new Color(216, 191, 216);\r\n    Color.Lavender = new Color(230, 230, 250);\r\n    // White Colors\r\n    Color.MistyRose = new Color(255, 228, 225);\r\n    Color.AntiqueWhite = new Color(250, 235, 215);\r\n    Color.Linen = new Color(250, 240, 230);\r\n    Color.Beige = new Color(245, 245, 220);\r\n    Color.WhiteSmoke = new Color(245, 245, 245);\r\n    Color.LavenderBlush = new Color(255, 240, 245);\r\n    Color.OldLace = new Color(253, 245, 230);\r\n    Color.AliceBlue = new Color(240, 248, 255);\r\n    Color.Seashell = new Color(255, 245, 238);\r\n    Color.GhostWhite = new Color(248, 248, 255);\r\n    Color.Honeydew = new Color(240, 255, 240);\r\n    Color.FloralWhite = new Color(255, 250, 240);\r\n    Color.Azure = new Color(240, 255, 255);\r\n    Color.MintCream = new Color(245, 255, 250);\r\n    Color.Snow = new Color(255, 250, 250);\r\n    Color.Ivory = new Color(255, 255, 240);\r\n    Color.White = new Color(255, 255, 255);\r\n    // Grey + Black Colors\r\n    Color.Black = new Color(0, 0, 0);\r\n    Color.DarkSlateGray = new Color(47, 79, 79);\r\n    Color.DimGray = new Color(105, 105, 105);\r\n    Color.SlateGray = new Color(112, 128, 144);\r\n    Color.Gray = new Color(128, 128, 128);\r\n    Color.LightSlateGray = new Color(119, 136, 153);\r\n    Color.DarkGray = new Color(169, 169, 169);\r\n    Color.Silver = new Color(192, 192, 192);\r\n    Color.LightGray = new Color(211, 211, 211);\r\n    Color.Gainsboro = new Color(220, 220, 220);\r\n    // Green Colors\r\n    Color.DarkGreen = new Color(0, 100, 0);\r\n    Color.Green = new Color(0, 128, 0);\r\n    Color.DarkOliveGreen = new Color(85, 107, 47);\r\n    Color.ForestGreen = new Color(34, 139, 34);\r\n    Color.SeaGreen = new Color(46, 139, 87);\r\n    Color.Olive = new Color(128, 128, 0);\r\n    Color.OliveDrab = new Color(107, 142, 35);\r\n    Color.MediumSeaGreen = new Color(60, 179, 113);\r\n    Color.LimeGreen = new Color(50, 205, 50);\r\n    Color.Lime = new Color(0, 255, 0);\r\n    Color.SpringGreen = new Color(0, 255, 127);\r\n    Color.MediumSpringGreen = new Color(0, 250, 154);\r\n    Color.DarkSeaGreen = new Color(143, 188, 143);\r\n    Color.MediumAquamarine = new Color(102, 205, 170);\r\n    Color.YellowGreen = new Color(154, 205, 50);\r\n    Color.LawnGreen = new Color(124, 252, 0);\r\n    Color.Chartreuse = new Color(127, 255, 0);\r\n    Color.LightGreen = new Color(133, 238, 144);\r\n    Color.GreenYellow = new Color(173, 255, 47);\r\n    Color.PaleGreen = new Color(152, 251, 152);\r\n    // Cyan Colors\r\n    Color.Teal = new Color(0, 128, 128);\r\n    Color.DarkCyan = new Color(0, 139, 139);\r\n    Color.LightSeaGreen = new Color(32, 178, 170);\r\n    Color.CadetBlue = new Color(95, 158, 160);\r\n    Color.DarkTurquoise = new Color(0, 206, 209);\r\n    Color.MediumTurquoise = new Color(72, 209, 204);\r\n    Color.Turquoise = new Color(64, 224, 208);\r\n    Color.Aqua = new Color(0, 255, 255);\r\n    Color.Cyan = new Color(0, 255, 255);\r\n    Color.Aquamarine = new Color(127, 255, 212);\r\n    Color.PaleTurquoise = new Color(175, 238, 238);\r\n    Color.LightCyan = new Color(244, 255, 255);\r\n    // Blue Colors\r\n    Color.Navy = new Color(0, 0, 128);\r\n    Color.DarkBlue = new Color(0, 0, 139);\r\n    Color.MediumBlue = new Color(0, 0, 205);\r\n    Color.Blue = new Color(0, 0, 225);\r\n    Color.MidnightBlue = new Color(25, 25, 112);\r\n    Color.RoyalBlue = new Color(65, 105, 225);\r\n    Color.SteelBlue = new Color(70, 130, 180);\r\n    Color.DodgerBlue = new Color(30, 144, 255);\r\n    Color.DeepSkyBlue = new Color(0, 191, 255);\r\n    Color.CornflowerBlue = new Color(100, 149, 237);\r\n    Color.SkyBlue = new Color(135, 206, 235);\r\n    Color.LightSkyBlue = new Color(135, 206, 250);\r\n    Color.LightSteelBlue = new Color(176, 196, 222);\r\n    Color.LightBlue = new Color(173, 216, 230);\r\n    Color.PowderBlue = new Color(176, 224, 230);\r\n    return Color;\r\n}());\r\n//# sourceMappingURL=color.js.map\n\n/**\r\n * Represents a glyph to be drawn to the screen.\r\n */\r\nvar Glyph = /** @class */ (function () {\r\n    /**\r\n     * Creates a Glyph from a single character.\r\n     *\r\n     * @param char - A single character.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    function Glyph(char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        this.char = char.charCodeAt(0);\r\n        this.fore = fore;\r\n        this.back = back;\r\n    }\r\n    /**\r\n     * Creates a glyph from a charCode.\r\n     *\r\n     * @param char - A number representing a charCode.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    Glyph.fromCharCode = function (char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        return new Glyph(String.fromCharCode(char), fore, back);\r\n    };\r\n    /**\r\n     * Checks to see if two glyphs are equal.\r\n     * @param other Glyph - The other glyph.\r\n     */\r\n    Glyph.prototype.isEqual = function (other) {\r\n        if (other instanceof Glyph === false)\r\n            return false;\r\n        return (this.char === other.char &&\r\n            this.fore.isEqual(other.fore) &&\r\n            this.back.isEqual(other.back));\r\n    };\r\n    return Glyph;\r\n}());\r\n//# sourceMappingURL=glyph.js.map\n\nvar BaseTerminal = /** @class */ (function () {\r\n    function BaseTerminal(config) {\r\n        var _a, _b;\r\n        this.width = config.width;\r\n        this.height = config.height;\r\n        this.foreColor = (_a = config.foreColor) !== null && _a !== void 0 ? _a : Color.White;\r\n        this.backColor = (_b = config.backColor) !== null && _b !== void 0 ? _b : Color.Black;\r\n    }\r\n    BaseTerminal.prototype.size = function () {\r\n        return {\r\n            x: this.width,\r\n            y: this.height,\r\n        };\r\n    };\r\n    BaseTerminal.prototype.clear = function () {\r\n        this.fill({ x: 0, y: 0 }, { x: this.width - 1, y: this.height - 1 }, new Glyph(\" \"));\r\n    };\r\n    BaseTerminal.prototype.fill = function (v1, v2, glyph) {\r\n        for (var x = v1.x; x <= v2.x; x++) {\r\n            for (var y = v1.y; y <= v2.y; y++) {\r\n                this.drawGlyph({ x: x, y: y }, glyph);\r\n            }\r\n        }\r\n    };\r\n    BaseTerminal.prototype.writeAt = function (pos, text, fore, back) {\r\n        if (fore === void 0) { fore = this.foreColor; }\r\n        if (back === void 0) { back = this.backColor; }\r\n        for (var i = 0; i < text.length; i++) {\r\n            if (pos.x + i >= this.width)\r\n                break;\r\n            this.drawGlyph({\r\n                x: pos.x + i,\r\n                y: pos.y,\r\n            }, Glyph.fromCharCode(text.charCodeAt(i), fore, back));\r\n        }\r\n    };\r\n    BaseTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal(pos, { x: width, y: height }, this);\r\n    };\r\n    BaseTerminal.prototype.drawCharCode = function (pos, charCode, foreColor, backColor) {\r\n        if (foreColor === void 0) { foreColor = this.foreColor; }\r\n        if (backColor === void 0) { backColor = this.backColor; }\r\n        this.drawGlyph(pos, Glyph.fromCharCode(charCode, foreColor, backColor));\r\n    };\r\n    return BaseTerminal;\r\n}());\r\nvar RenderableTerminal = /** @class */ (function (_super) {\r\n    __extends(RenderableTerminal, _super);\r\n    function RenderableTerminal() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return RenderableTerminal;\r\n}(BaseTerminal));\r\nvar PortTerminal = /** @class */ (function (_super) {\r\n    __extends(PortTerminal, _super);\r\n    function PortTerminal(pos, size, root) {\r\n        var _this = _super.call(this, { width: size.x, height: size.y }) || this;\r\n        _this._x = pos.x;\r\n        _this._y = pos.y;\r\n        _this.portSize = size;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    PortTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        if (pos.x < 0 || pos.x >= this.width)\r\n            return;\r\n        if (pos.y < 0 || pos.y >= this.height)\r\n            return;\r\n        this.root.drawGlyph({ x: this._x + pos.x, y: this._y + pos.y }, glyph);\r\n    };\r\n    PortTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal({\r\n            x: this._x + pos.x,\r\n            y: this._y + pos.y,\r\n        }, { x: width, y: height }, this.root);\r\n    };\r\n    return PortTerminal;\r\n}(BaseTerminal));\r\n//# sourceMappingURL=terminal.js.map\n\nvar Table = /** @class */ (function () {\r\n    function Table(width, height) {\r\n        this.items = [];\r\n        this.width = width;\r\n        this.height = height;\r\n        // ToDo - Initialize empty array\r\n    }\r\n    Table.prototype.fill = function (value) {\r\n        var size = this.width * this.height;\r\n        for (var i = 0; i < size; i++) {\r\n            this.items[i] = value;\r\n        }\r\n    };\r\n    Table.prototype.get = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (!this.isInBounds({ x: x, y: y }))\r\n            return undefined;\r\n        var index = y * this.width + x;\r\n        return this.items[index];\r\n    };\r\n    Table.prototype.set = function (pos, item) {\r\n        if (this.isInBounds(pos) === false)\r\n            throw new Error(pos.x + \":\" + pos.y + \" is not in bounds\");\r\n        var index = pos.y * this.width + pos.x;\r\n        if (item !== undefined)\r\n            this.items[index] = item;\r\n        else\r\n            delete this.items[index];\r\n    };\r\n    Table.prototype.isInBounds = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    Table.prototype.getNeighbors = function (pos, predicate, topology) {\r\n        var _this = this;\r\n        if (topology === void 0) { topology = \"eight\"; }\r\n        var neighbors = [];\r\n        neighbors.push({ x: pos.x + 1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + -1 });\r\n        neighbors.push({ x: pos.x + -1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + 1 });\r\n        if (topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + -1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        neighbors = neighbors.filter(function (v) { return _this.isInBounds(v); });\r\n        if (predicate) {\r\n            neighbors = neighbors.filter(function (v) { return predicate(v, _this.get(v)); });\r\n        }\r\n        return neighbors;\r\n    };\r\n    Table.prototype.floodFillSelect = function (pos, targetValue) {\r\n        if (!targetValue) {\r\n            targetValue = this.get(pos);\r\n        }\r\n        // If given a target value, must match start position\r\n        if (this.get(pos) !== targetValue) {\r\n            return [];\r\n        }\r\n        var horizon = [pos];\r\n        // \"x:y\", for quick indexing\r\n        var floodFill = new Set();\r\n        while (horizon.length) {\r\n            var point = horizon.shift();\r\n            var value = this.get(point);\r\n            // If not the right type of value, we're done.\r\n            if (value !== targetValue)\r\n                continue;\r\n            // If we've already marked this spot\r\n            if (floodFill.has(point.x + \":\" + point.y))\r\n                continue;\r\n            // If it is the proper value, collect it\r\n            floodFill.add(point.x + \":\" + point.y);\r\n            // The add it's neighbors to the search horizon\r\n            var neighbors = this.getNeighbors(point, undefined, \"four\");\r\n            horizon.push.apply(horizon, neighbors);\r\n        }\r\n        var fill = Array.from(floodFill.keys()).map(function (str) {\r\n            var _a = str.split(\":\"), x = _a[0], y = _a[1];\r\n            return {\r\n                x: Number.parseInt(x),\r\n                y: Number.parseInt(y),\r\n            };\r\n        });\r\n        return fill;\r\n    };\r\n    return Table;\r\n}());\r\n//# sourceMappingURL=table.js.map\n\n/** Represents glyph data, agnostic to how it is rendered. */\r\nvar Display = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Display\r\n     * @param width - The number of glyphs wide the display is\r\n     * @param height - The number of glyphs tall the display is\r\n     */\r\n    function Display(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.glyphs = new Table(width, height);\r\n        this.changedGlyphs = new Table(width, height);\r\n    }\r\n    /**\r\n     * Returns a Vector representing the width/height of the display.\r\n     */\r\n    Display.prototype.size = function () {\r\n        return { x: this.width, y: this.height };\r\n    };\r\n    /**\r\n     * Sets a single glyph in the display.\r\n     *\r\n     * @param pos Vector2 - The position of the Glyph\r\n     * @param glyph Glyph - The Glyph\r\n     */\r\n    Display.prototype.setGlyph = function (pos, glyph) {\r\n        if (this.glyphs.isInBounds(pos) === false)\r\n            return;\r\n        if (glyph.isEqual(this.glyphs.get(pos))) {\r\n            this.changedGlyphs.set(pos, undefined);\r\n        }\r\n        else {\r\n            this.changedGlyphs.set(pos, glyph);\r\n        }\r\n    };\r\n    /**\r\n     * Calls the callback with each x/y/glyph pair.\r\n     * The terminal needs to decide how to render the display.\r\n     * The callback is called bottom to top, right to left.\r\n     */\r\n    Display.prototype.render = function (callback) {\r\n        for (var y = this.height - 1; y >= 0; y--) {\r\n            for (var x = this.width - 1; x >= 0; x--) {\r\n                var glyph = this.changedGlyphs.get({ x: x, y: y });\r\n                if (!glyph)\r\n                    continue;\r\n                callback({ x: x, y: y }, glyph);\r\n                this.glyphs.set({ x: x, y: y }, glyph);\r\n                this.changedGlyphs.set({ x: x, y: y }, undefined);\r\n            }\r\n        }\r\n    };\r\n    return Display;\r\n}());\r\n//# sourceMappingURL=display.js.map\n\nvar Font = /** @class */ (function () {\r\n    function Font(family, size, charWidth, height, x, y) {\r\n        this.family = family;\r\n        this.size = size;\r\n        this.charWidth = charWidth;\r\n        this.lineHeight = height;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return Font;\r\n}());\r\n/**\r\n * Renders a display by writing fonts to a canvas.\r\n */\r\nvar CanvasTerminal = /** @class */ (function (_super) {\r\n    __extends(CanvasTerminal, _super);\r\n    /**\r\n     * Creates a new CanvasTerminal.\r\n     *\r\n     * @param config - The config for the CanvasTerminal\r\n     * @param config.width - The width of the terminal in characters.\r\n     * @param config.height - The height of the terminal in characters.\r\n     * @param config.font Font - A font object\r\n     * @param config.mountNode - Will mount the canvas as a child of this node if provided.\r\n     */\r\n    function CanvasTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        _this.scale = window.devicePixelRatio;\r\n        _this.display = new Display(config.width, config.height);\r\n        _this.font = config.font;\r\n        _this.canvas = window.document.createElement(\"canvas\");\r\n        _this.context = _this.canvas.getContext(\"2d\");\r\n        var canvasWidth = _this.font.charWidth * _this.display.width;\r\n        var canvasHeight = _this.font.lineHeight * _this.display.height;\r\n        _this.canvas.width = canvasWidth * _this.scale;\r\n        _this.canvas.height = canvasHeight * _this.scale;\r\n        _this.canvas.style.width = canvasWidth + \"px\";\r\n        _this.canvas.style.height = canvasHeight + \"px\";\r\n        // Mount the canvas\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(_this.canvas);\r\n        }\r\n        else {\r\n            window.document.body.appendChild(_this.canvas);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws a glyph on the display.\r\n     *\r\n     * @param pos Vector2 - Position of the Glyph\r\n     * @param glyph Glyph - The Glyph to render\r\n     */\r\n    CanvasTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this.display.setGlyph(pos, glyph);\r\n    };\r\n    /**\r\n     * Renders the display to the canvas.\r\n     * Usually drawn once per animation frame.\r\n     */\r\n    CanvasTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        this.context.font = this.font.size * this.scale + \"px \" + this.font.family + \", monospace\";\r\n        this.display.render(function (pos, glyph) {\r\n            // Fill the background\r\n            _this.context.fillStyle = glyph.back.cssColor();\r\n            _this.context.fillRect(pos.x * _this.font.charWidth * _this.scale, pos.y * _this.font.lineHeight * _this.scale, _this.font.charWidth * _this.scale, _this.font.lineHeight * _this.scale);\r\n            // Dont bother drawing empty characters\r\n            if (glyph.char === 0 || \" \".charCodeAt(0) === glyph.char) {\r\n                return;\r\n            }\r\n            // Fill the char\r\n            _this.context.fillStyle = glyph.fore.cssColor();\r\n            _this.context.fillText(String.fromCharCode(glyph.char), (pos.x * _this.font.charWidth + _this.font.x) * _this.scale, (pos.y * _this.font.lineHeight + _this.font.y) * _this.scale);\r\n        });\r\n    };\r\n    /**\r\n     * Returns the character position given a pixel coordinate.\r\n     */\r\n    CanvasTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this.canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this.font.charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this.font.lineHeight),\r\n        };\r\n    };\r\n    /**\r\n     * Deletes the terminal, removing the canvas.\r\n     */\r\n    CanvasTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this.canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this.canvas);\r\n    };\r\n    return CanvasTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=canvas-terminal.js.map\n\n/// Unicode code points for various special characters that also exist on\r\n/// [code page 437][font].\r\n///\r\n/// [font]: http://en.wikipedia.org/wiki/Code_page_437\r\nvar CharCode;\r\n(function (CharCode) {\r\n    // 1 - 15.\r\n    CharCode[CharCode[\"whiteSmilingFace\"] = 9786] = \"whiteSmilingFace\";\r\n    CharCode[CharCode[\"blackSmilingFace\"] = 9787] = \"blackSmilingFace\";\r\n    CharCode[CharCode[\"blackHeartSuit\"] = 9829] = \"blackHeartSuit\";\r\n    CharCode[CharCode[\"blackDiamondSuit\"] = 9830] = \"blackDiamondSuit\";\r\n    CharCode[CharCode[\"blackClubSuit\"] = 9827] = \"blackClubSuit\";\r\n    CharCode[CharCode[\"blackSpadeSuit\"] = 9824] = \"blackSpadeSuit\";\r\n    CharCode[CharCode[\"bullet\"] = 8226] = \"bullet\";\r\n    CharCode[CharCode[\"inverseBullet\"] = 9688] = \"inverseBullet\";\r\n    CharCode[CharCode[\"whiteCircle\"] = 9675] = \"whiteCircle\";\r\n    CharCode[CharCode[\"inverseWhiteCircle\"] = 9689] = \"inverseWhiteCircle\";\r\n    CharCode[CharCode[\"maleSign\"] = 9794] = \"maleSign\";\r\n    CharCode[CharCode[\"femaleSign\"] = 9792] = \"femaleSign\";\r\n    CharCode[CharCode[\"eighthNote\"] = 9834] = \"eighthNote\";\r\n    CharCode[CharCode[\"beamedEighthNotes\"] = 9835] = \"beamedEighthNotes\";\r\n    CharCode[CharCode[\"whiteSunWithRays\"] = 9788] = \"whiteSunWithRays\";\r\n    // 16 - 31.\r\n    CharCode[CharCode[\"blackRightPointingPointer\"] = 9658] = \"blackRightPointingPointer\";\r\n    CharCode[CharCode[\"blackLeftPointingPointer\"] = 9668] = \"blackLeftPointingPointer\";\r\n    CharCode[CharCode[\"upDownArrow\"] = 8597] = \"upDownArrow\";\r\n    CharCode[CharCode[\"doubleExclamationMark\"] = 8252] = \"doubleExclamationMark\";\r\n    CharCode[CharCode[\"pilcrow\"] = 182] = \"pilcrow\";\r\n    CharCode[CharCode[\"sectionSign\"] = 167] = \"sectionSign\";\r\n    CharCode[CharCode[\"blackRectangle\"] = 9644] = \"blackRectangle\";\r\n    CharCode[CharCode[\"upDownArrowWithBase\"] = 8616] = \"upDownArrowWithBase\";\r\n    CharCode[CharCode[\"upwardsArrow\"] = 8593] = \"upwardsArrow\";\r\n    CharCode[CharCode[\"downwardsArrow\"] = 8595] = \"downwardsArrow\";\r\n    CharCode[CharCode[\"rightwardsArrow\"] = 8594] = \"rightwardsArrow\";\r\n    CharCode[CharCode[\"leftwardsArrow\"] = 8592] = \"leftwardsArrow\";\r\n    CharCode[CharCode[\"rightAngle\"] = 8735] = \"rightAngle\";\r\n    CharCode[CharCode[\"leftRightArrow\"] = 8596] = \"leftRightArrow\";\r\n    CharCode[CharCode[\"blackUpPointingTriangle\"] = 9650] = \"blackUpPointingTriangle\";\r\n    CharCode[CharCode[\"blackDownPointingTriangle\"] = 9660] = \"blackDownPointingTriangle\";\r\n    // 32 - 47.\r\n    CharCode[CharCode[\"space\"] = 32] = \"space\";\r\n    CharCode[CharCode[\"exclamationPoint\"] = 33] = \"exclamationPoint\";\r\n    CharCode[CharCode[\"doubleQuote\"] = 34] = \"doubleQuote\";\r\n    CharCode[CharCode[\"numberSign\"] = 35] = \"numberSign\";\r\n    CharCode[CharCode[\"dollarSign\"] = 36] = \"dollarSign\";\r\n    CharCode[CharCode[\"percent\"] = 37] = \"percent\";\r\n    CharCode[CharCode[\"ampersand\"] = 38] = \"ampersand\";\r\n    CharCode[CharCode[\"apostrophe\"] = 39] = \"apostrophe\";\r\n    CharCode[CharCode[\"leftParenthesis\"] = 40] = \"leftParenthesis\";\r\n    CharCode[CharCode[\"rightParenthesis\"] = 41] = \"rightParenthesis\";\r\n    CharCode[CharCode[\"asterisk\"] = 42] = \"asterisk\";\r\n    CharCode[CharCode[\"plus\"] = 43] = \"plus\";\r\n    CharCode[CharCode[\"comma\"] = 44] = \"comma\";\r\n    CharCode[CharCode[\"minus\"] = 45] = \"minus\";\r\n    CharCode[CharCode[\"period\"] = 46] = \"period\";\r\n    CharCode[CharCode[\"slash\"] = 47] = \"slash\";\r\n    // 48 - 63.\r\n    CharCode[CharCode[\"zero\"] = 48] = \"zero\";\r\n    CharCode[CharCode[\"one\"] = 49] = \"one\";\r\n    CharCode[CharCode[\"two\"] = 50] = \"two\";\r\n    CharCode[CharCode[\"three\"] = 51] = \"three\";\r\n    CharCode[CharCode[\"four\"] = 52] = \"four\";\r\n    CharCode[CharCode[\"five\"] = 53] = \"five\";\r\n    CharCode[CharCode[\"six\"] = 54] = \"six\";\r\n    CharCode[CharCode[\"seven\"] = 55] = \"seven\";\r\n    CharCode[CharCode[\"eight\"] = 56] = \"eight\";\r\n    CharCode[CharCode[\"nine\"] = 57] = \"nine\";\r\n    CharCode[CharCode[\"colon\"] = 58] = \"colon\";\r\n    CharCode[CharCode[\"semicolon\"] = 59] = \"semicolon\";\r\n    CharCode[CharCode[\"lessThan\"] = 60] = \"lessThan\";\r\n    CharCode[CharCode[\"equals\"] = 61] = \"equals\";\r\n    CharCode[CharCode[\"greaterThan\"] = 62] = \"greaterThan\";\r\n    CharCode[CharCode[\"questionMark\"] = 63] = \"questionMark\";\r\n    // 64 - 95.\r\n    CharCode[CharCode[\"at\"] = 64] = \"at\";\r\n    CharCode[CharCode[\"aUpper\"] = 65] = \"aUpper\";\r\n    CharCode[CharCode[\"bUpper\"] = 66] = \"bUpper\";\r\n    CharCode[CharCode[\"cUpper\"] = 67] = \"cUpper\";\r\n    CharCode[CharCode[\"dUpper\"] = 68] = \"dUpper\";\r\n    CharCode[CharCode[\"eUpper\"] = 69] = \"eUpper\";\r\n    CharCode[CharCode[\"fUpper\"] = 70] = \"fUpper\";\r\n    CharCode[CharCode[\"gUpper\"] = 71] = \"gUpper\";\r\n    CharCode[CharCode[\"hUpper\"] = 72] = \"hUpper\";\r\n    CharCode[CharCode[\"iUpper\"] = 73] = \"iUpper\";\r\n    CharCode[CharCode[\"jUpper\"] = 74] = \"jUpper\";\r\n    CharCode[CharCode[\"kUpper\"] = 75] = \"kUpper\";\r\n    CharCode[CharCode[\"lUpper\"] = 76] = \"lUpper\";\r\n    CharCode[CharCode[\"mUpper\"] = 77] = \"mUpper\";\r\n    CharCode[CharCode[\"nUpper\"] = 78] = \"nUpper\";\r\n    CharCode[CharCode[\"oUpper\"] = 79] = \"oUpper\";\r\n    CharCode[CharCode[\"pUpper\"] = 80] = \"pUpper\";\r\n    CharCode[CharCode[\"qUpper\"] = 81] = \"qUpper\";\r\n    CharCode[CharCode[\"rUpper\"] = 82] = \"rUpper\";\r\n    CharCode[CharCode[\"sUpper\"] = 83] = \"sUpper\";\r\n    CharCode[CharCode[\"tUpper\"] = 84] = \"tUpper\";\r\n    CharCode[CharCode[\"uUpper\"] = 85] = \"uUpper\";\r\n    CharCode[CharCode[\"vUpper\"] = 86] = \"vUpper\";\r\n    CharCode[CharCode[\"wUpper\"] = 87] = \"wUpper\";\r\n    CharCode[CharCode[\"xUpper\"] = 88] = \"xUpper\";\r\n    CharCode[CharCode[\"yUpper\"] = 89] = \"yUpper\";\r\n    CharCode[CharCode[\"zUpper\"] = 90] = \"zUpper\";\r\n    CharCode[CharCode[\"leftBracket\"] = 91] = \"leftBracket\";\r\n    CharCode[CharCode[\"backSlash\"] = 92] = \"backSlash\";\r\n    CharCode[CharCode[\"rightBracket\"] = 93] = \"rightBracket\";\r\n    CharCode[CharCode[\"caret\"] = 94] = \"caret\";\r\n    CharCode[CharCode[\"underscore\"] = 95] = \"underscore\";\r\n    // 96 - 127.\r\n    CharCode[CharCode[\"accent\"] = 96] = \"accent\";\r\n    CharCode[CharCode[\"aLower\"] = 97] = \"aLower\";\r\n    CharCode[CharCode[\"bLower\"] = 98] = \"bLower\";\r\n    CharCode[CharCode[\"cLower\"] = 99] = \"cLower\";\r\n    CharCode[CharCode[\"dLower\"] = 100] = \"dLower\";\r\n    CharCode[CharCode[\"eLower\"] = 101] = \"eLower\";\r\n    CharCode[CharCode[\"fLower\"] = 102] = \"fLower\";\r\n    CharCode[CharCode[\"gLower\"] = 103] = \"gLower\";\r\n    CharCode[CharCode[\"hLower\"] = 104] = \"hLower\";\r\n    CharCode[CharCode[\"iLower\"] = 105] = \"iLower\";\r\n    CharCode[CharCode[\"jLower\"] = 106] = \"jLower\";\r\n    CharCode[CharCode[\"kLower\"] = 107] = \"kLower\";\r\n    CharCode[CharCode[\"lLower\"] = 108] = \"lLower\";\r\n    CharCode[CharCode[\"mLower\"] = 109] = \"mLower\";\r\n    CharCode[CharCode[\"nLower\"] = 110] = \"nLower\";\r\n    CharCode[CharCode[\"oLower\"] = 111] = \"oLower\";\r\n    CharCode[CharCode[\"pLower\"] = 112] = \"pLower\";\r\n    CharCode[CharCode[\"qLower\"] = 113] = \"qLower\";\r\n    CharCode[CharCode[\"rLower\"] = 114] = \"rLower\";\r\n    CharCode[CharCode[\"sLower\"] = 115] = \"sLower\";\r\n    CharCode[CharCode[\"tLower\"] = 116] = \"tLower\";\r\n    CharCode[CharCode[\"uLower\"] = 117] = \"uLower\";\r\n    CharCode[CharCode[\"vLower\"] = 118] = \"vLower\";\r\n    CharCode[CharCode[\"wLower\"] = 119] = \"wLower\";\r\n    CharCode[CharCode[\"xLower\"] = 120] = \"xLower\";\r\n    CharCode[CharCode[\"yLower\"] = 121] = \"yLower\";\r\n    CharCode[CharCode[\"zLower\"] = 122] = \"zLower\";\r\n    CharCode[CharCode[\"leftBrace\"] = 123] = \"leftBrace\";\r\n    CharCode[CharCode[\"pipe\"] = 124] = \"pipe\";\r\n    CharCode[CharCode[\"rightBrace\"] = 125] = \"rightBrace\";\r\n    CharCode[CharCode[\"tilde\"] = 126] = \"tilde\";\r\n    CharCode[CharCode[\"house\"] = 8962] = \"house\";\r\n    // 128 - 143.\r\n    CharCode[CharCode[\"latinCapitalLetterCWithCedilla\"] = 199] = \"latinCapitalLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithDiaeresis\"] = 252] = \"latinSmallLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithAcute\"] = 233] = \"latinSmallLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithCircumflex\"] = 226] = \"latinSmallLetterAWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithDiaeresis\"] = 228] = \"latinSmallLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithGrave\"] = 224] = \"latinSmallLetterAWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithRingAbove\"] = 229] = \"latinSmallLetterAWithRingAbove\";\r\n    CharCode[CharCode[\"latinSmallLetterCWithCedilla\"] = 231] = \"latinSmallLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithCircumflex\"] = 234] = \"latinSmallLetterEWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithDiaeresis\"] = 235] = \"latinSmallLetterEWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithGrave\"] = 232] = \"latinSmallLetterEWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithDiaeresis\"] = 239] = \"latinSmallLetterIWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithCircumflex\"] = 238] = \"latinSmallLetterIWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithGrave\"] = 236] = \"latinSmallLetterIWithGrave\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithDiaeresis\"] = 196] = \"latinCapitalLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithRingAbove\"] = 197] = \"latinCapitalLetterAWithRingAbove\";\r\n    // 144 - 159.\r\n    CharCode[CharCode[\"latinCapitalLetterEWithAcute\"] = 201] = \"latinCapitalLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAe\"] = 230] = \"latinSmallLetterAe\";\r\n    CharCode[CharCode[\"latinCapitalLetterAe\"] = 198] = \"latinCapitalLetterAe\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithCircumflex\"] = 244] = \"latinSmallLetterOWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithDiaeresis\"] = 246] = \"latinSmallLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithGrave\"] = 242] = \"latinSmallLetterOWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithCircumflex\"] = 251] = \"latinSmallLetterUWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithGrave\"] = 249] = \"latinSmallLetterUWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterYWithDiaeresis\"] = 255] = \"latinSmallLetterYWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterOWithDiaeresis\"] = 214] = \"latinCapitalLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterUWithDiaeresis\"] = 220] = \"latinCapitalLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"centSign\"] = 162] = \"centSign\";\r\n    CharCode[CharCode[\"poundSign\"] = 163] = \"poundSign\";\r\n    CharCode[CharCode[\"yenSign\"] = 165] = \"yenSign\";\r\n    CharCode[CharCode[\"pesetaSign\"] = 8359] = \"pesetaSign\";\r\n    CharCode[CharCode[\"latinSmallLetterFWithHook\"] = 402] = \"latinSmallLetterFWithHook\";\r\n    // 160 - 175.\r\n    CharCode[CharCode[\"latinSmallLetterAWithAcute\"] = 225] = \"latinSmallLetterAWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithAcute\"] = 237] = \"latinSmallLetterIWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithAcute\"] = 243] = \"latinSmallLetterOWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithAcute\"] = 250] = \"latinSmallLetterUWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterNWithTilde\"] = 241] = \"latinSmallLetterNWithTilde\";\r\n    CharCode[CharCode[\"latinCapitalLetterNWithTilde\"] = 209] = \"latinCapitalLetterNWithTilde\";\r\n    CharCode[CharCode[\"feminineOrdinalIndicator\"] = 170] = \"feminineOrdinalIndicator\";\r\n    CharCode[CharCode[\"masculineOrdinalIndicator\"] = 186] = \"masculineOrdinalIndicator\";\r\n    CharCode[CharCode[\"invertedQuestionMark\"] = 191] = \"invertedQuestionMark\";\r\n    CharCode[CharCode[\"reversedNotSign\"] = 8976] = \"reversedNotSign\";\r\n    CharCode[CharCode[\"notSign\"] = 172] = \"notSign\";\r\n    CharCode[CharCode[\"vulgarFractionOneHalf\"] = 189] = \"vulgarFractionOneHalf\";\r\n    CharCode[CharCode[\"vulgarFractionOneQuarter\"] = 188] = \"vulgarFractionOneQuarter\";\r\n    CharCode[CharCode[\"invertedExclamationMark\"] = 161] = \"invertedExclamationMark\";\r\n    CharCode[CharCode[\"leftPointingDoubleAngleQuotationMark\"] = 171] = \"leftPointingDoubleAngleQuotationMark\";\r\n    CharCode[CharCode[\"rightPointingDoubleAngleQuotationMark\"] = 187] = \"rightPointingDoubleAngleQuotationMark\";\r\n    // 176 - 191.\r\n    CharCode[CharCode[\"lightShade\"] = 9617] = \"lightShade\";\r\n    CharCode[CharCode[\"mediumShade\"] = 9618] = \"mediumShade\";\r\n    CharCode[CharCode[\"darkShade\"] = 9619] = \"darkShade\";\r\n    CharCode[CharCode[\"boxDrawingsLightVertical\"] = 9474] = \"boxDrawingsLightVertical\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndLeft\"] = 9508] = \"boxDrawingsLightVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndLeftDouble\"] = 9569] = \"boxDrawingsVerticalSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndLeftSingle\"] = 9570] = \"boxDrawingsVerticalDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndLeftSingle\"] = 9558] = \"boxDrawingsDownDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndLeftDouble\"] = 9557] = \"boxDrawingsDownSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndLeft\"] = 9571] = \"boxDrawingsDoubleVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVertical\"] = 9553] = \"boxDrawingsDoubleVertical\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndLeft\"] = 9559] = \"boxDrawingsDoubleDownAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndLeft\"] = 9565] = \"boxDrawingsDoubleUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndLeftSingle\"] = 9564] = \"boxDrawingsUpDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndLeftDouble\"] = 9563] = \"boxDrawingsUpSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndLeft\"] = 9488] = \"boxDrawingsLightDownAndLeft\";\r\n    // 192 - 207.\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndRight\"] = 9492] = \"boxDrawingsLightUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndHorizontal\"] = 9524] = \"boxDrawingsLightUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndHorizontal\"] = 9516] = \"boxDrawingsLightDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndRight\"] = 9500] = \"boxDrawingsLightVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightHorizontal\"] = 9472] = \"boxDrawingsLightHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndHorizontal\"] = 9532] = \"boxDrawingsLightVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndRightDouble\"] = 9566] = \"boxDrawingsVerticalSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndRightSingle\"] = 9567] = \"boxDrawingsVerticalDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndRight\"] = 9562] = \"boxDrawingsDoubleUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndRight\"] = 9556] = \"boxDrawingsDoubleDownAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndHorizontal\"] = 9577] = \"boxDrawingsDoubleUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndHorizontal\"] = 9574] = \"boxDrawingsDoubleDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndRight\"] = 9568] = \"boxDrawingsDoubleVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleHorizontal\"] = 9552] = \"boxDrawingsDoubleHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndHorizontal\"] = 9580] = \"boxDrawingsDoubleVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndHorizontalDouble\"] = 9575] = \"boxDrawingsUpSingleAndHorizontalDouble\";\r\n    // 208 - 223.\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndHorizontalSingle\"] = 9576] = \"boxDrawingsUpDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndHorizontalDouble\"] = 9572] = \"boxDrawingsDownSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndHorizontalSingle\"] = 9573] = \"boxDrawingsDownDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndRightSingle\"] = 9561] = \"boxDrawingsUpDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndRightDouble\"] = 9560] = \"boxDrawingsUpSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndRightDouble\"] = 9554] = \"boxDrawingsDownSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndRightSingle\"] = 9555] = \"boxDrawingsDownDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndHorizontalSingle\"] = 9579] = \"boxDrawingsVerticalDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndHorizontalDouble\"] = 9578] = \"boxDrawingsVerticalSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndLeft\"] = 9496] = \"boxDrawingsLightUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndRight\"] = 9484] = \"boxDrawingsLightDownAndRight\";\r\n    CharCode[CharCode[\"fullBlock\"] = 9608] = \"fullBlock\";\r\n    CharCode[CharCode[\"lowerHalfBlock\"] = 9604] = \"lowerHalfBlock\";\r\n    CharCode[CharCode[\"leftHalfBlock\"] = 9612] = \"leftHalfBlock\";\r\n    CharCode[CharCode[\"rightHalfBlock\"] = 9616] = \"rightHalfBlock\";\r\n    CharCode[CharCode[\"upperHalfBlock\"] = 9600] = \"upperHalfBlock\";\r\n    // 224 - 239.\r\n    CharCode[CharCode[\"greekSmallLetterAlpha\"] = 945] = \"greekSmallLetterAlpha\";\r\n    CharCode[CharCode[\"latinSmallLetterSharpS\"] = 223] = \"latinSmallLetterSharpS\";\r\n    CharCode[CharCode[\"greekCapitalLetterGamma\"] = 915] = \"greekCapitalLetterGamma\";\r\n    CharCode[CharCode[\"greekSmallLetterPi\"] = 960] = \"greekSmallLetterPi\";\r\n    CharCode[CharCode[\"greekCapitalLetterSigma\"] = 931] = \"greekCapitalLetterSigma\";\r\n    CharCode[CharCode[\"greekSmallLetterSigma\"] = 963] = \"greekSmallLetterSigma\";\r\n    CharCode[CharCode[\"microSign\"] = 181] = \"microSign\";\r\n    CharCode[CharCode[\"greekSmallLetterTau\"] = 964] = \"greekSmallLetterTau\";\r\n    CharCode[CharCode[\"greekCapitalLetterPhi\"] = 934] = \"greekCapitalLetterPhi\";\r\n    CharCode[CharCode[\"greekCapitalLetterTheta\"] = 920] = \"greekCapitalLetterTheta\";\r\n    CharCode[CharCode[\"greekCapitalLetterOmega\"] = 937] = \"greekCapitalLetterOmega\";\r\n    CharCode[CharCode[\"greekSmallLetterDelta\"] = 948] = \"greekSmallLetterDelta\";\r\n    CharCode[CharCode[\"infinity\"] = 8734] = \"infinity\";\r\n    CharCode[CharCode[\"greekSmallLetterPhi\"] = 966] = \"greekSmallLetterPhi\";\r\n    CharCode[CharCode[\"greekSmallLetterEpsilon\"] = 949] = \"greekSmallLetterEpsilon\";\r\n    CharCode[CharCode[\"intersection\"] = 8745] = \"intersection\";\r\n    // 240 - 254.\r\n    CharCode[CharCode[\"identicalTo\"] = 8801] = \"identicalTo\";\r\n    CharCode[CharCode[\"plusMinusSign\"] = 177] = \"plusMinusSign\";\r\n    CharCode[CharCode[\"greaterThanOrEqualTo\"] = 8805] = \"greaterThanOrEqualTo\";\r\n    CharCode[CharCode[\"lessThanOrEqualTo\"] = 8804] = \"lessThanOrEqualTo\";\r\n    CharCode[CharCode[\"topHalfIntegral\"] = 8992] = \"topHalfIntegral\";\r\n    CharCode[CharCode[\"bottomHalfIntegral\"] = 8993] = \"bottomHalfIntegral\";\r\n    CharCode[CharCode[\"divisionSign\"] = 247] = \"divisionSign\";\r\n    CharCode[CharCode[\"almostEqualTo\"] = 8776] = \"almostEqualTo\";\r\n    CharCode[CharCode[\"degreeSign\"] = 176] = \"degreeSign\";\r\n    CharCode[CharCode[\"bulletOperator\"] = 8729] = \"bulletOperator\";\r\n    CharCode[CharCode[\"middleDot\"] = 183] = \"middleDot\";\r\n    CharCode[CharCode[\"squareRoot\"] = 8730] = \"squareRoot\";\r\n    CharCode[CharCode[\"superscriptLatinSmallLetterN\"] = 8319] = \"superscriptLatinSmallLetterN\";\r\n    CharCode[CharCode[\"superscriptTwo\"] = 178] = \"superscriptTwo\";\r\n    CharCode[CharCode[\"blackSquare\"] = 9632] = \"blackSquare\";\r\n})(CharCode || (CharCode = {}));\r\n//# sourceMappingURL=char-code.js.map\n\nvar _a;\r\nvar unicodeMap = (_a = {},\r\n    // 1 - 15.\r\n    _a[CharCode.whiteSmilingFace] = 1,\r\n    _a[CharCode.blackSmilingFace] = 2,\r\n    _a[CharCode.blackHeartSuit] = 3,\r\n    _a[CharCode.blackDiamondSuit] = 4,\r\n    _a[CharCode.blackClubSuit] = 5,\r\n    _a[CharCode.blackSpadeSuit] = 6,\r\n    _a[CharCode.bullet] = 7,\r\n    _a[CharCode.inverseBullet] = 8,\r\n    _a[CharCode.whiteCircle] = 9,\r\n    _a[CharCode.inverseWhiteCircle] = 10,\r\n    _a[CharCode.maleSign] = 11,\r\n    _a[CharCode.femaleSign] = 12,\r\n    _a[CharCode.eighthNote] = 13,\r\n    _a[CharCode.beamedEighthNotes] = 14,\r\n    _a[CharCode.whiteSunWithRays] = 15,\r\n    // 16 - 31.\r\n    _a[CharCode.blackRightPointingPointer] = 16,\r\n    _a[CharCode.blackLeftPointingPointer] = 17,\r\n    _a[CharCode.upDownArrow] = 18,\r\n    _a[CharCode.doubleExclamationMark] = 19,\r\n    _a[CharCode.pilcrow] = 20,\r\n    _a[CharCode.sectionSign] = 21,\r\n    _a[CharCode.blackRectangle] = 22,\r\n    _a[CharCode.upDownArrowWithBase] = 23,\r\n    _a[CharCode.upwardsArrow] = 24,\r\n    _a[CharCode.downwardsArrow] = 25,\r\n    _a[CharCode.rightwardsArrow] = 26,\r\n    _a[CharCode.leftwardsArrow] = 27,\r\n    _a[CharCode.rightAngle] = 28,\r\n    _a[CharCode.leftRightArrow] = 29,\r\n    _a[CharCode.blackUpPointingTriangle] = 30,\r\n    _a[CharCode.blackDownPointingTriangle] = 31,\r\n    // 127.\r\n    _a[CharCode.house] = 127,\r\n    // 128 - 143.\r\n    _a[CharCode.latinCapitalLetterCWithCedilla] = 128,\r\n    _a[CharCode.latinSmallLetterUWithDiaeresis] = 129,\r\n    _a[CharCode.latinSmallLetterEWithAcute] = 130,\r\n    _a[CharCode.latinSmallLetterAWithCircumflex] = 131,\r\n    _a[CharCode.latinSmallLetterAWithDiaeresis] = 132,\r\n    _a[CharCode.latinSmallLetterAWithGrave] = 133,\r\n    _a[CharCode.latinSmallLetterAWithRingAbove] = 134,\r\n    _a[CharCode.latinSmallLetterCWithCedilla] = 135,\r\n    _a[CharCode.latinSmallLetterEWithCircumflex] = 136,\r\n    _a[CharCode.latinSmallLetterEWithDiaeresis] = 137,\r\n    _a[CharCode.latinSmallLetterEWithGrave] = 138,\r\n    _a[CharCode.latinSmallLetterIWithDiaeresis] = 139,\r\n    _a[CharCode.latinSmallLetterIWithCircumflex] = 140,\r\n    _a[CharCode.latinSmallLetterIWithGrave] = 141,\r\n    _a[CharCode.latinCapitalLetterAWithDiaeresis] = 142,\r\n    _a[CharCode.latinCapitalLetterAWithRingAbove] = 143,\r\n    // 144 - 159.\r\n    _a[CharCode.latinCapitalLetterEWithAcute] = 144,\r\n    _a[CharCode.latinSmallLetterAe] = 145,\r\n    _a[CharCode.latinCapitalLetterAe] = 146,\r\n    _a[CharCode.latinSmallLetterOWithCircumflex] = 147,\r\n    _a[CharCode.latinSmallLetterOWithDiaeresis] = 148,\r\n    _a[CharCode.latinSmallLetterOWithGrave] = 149,\r\n    _a[CharCode.latinSmallLetterUWithCircumflex] = 150,\r\n    _a[CharCode.latinSmallLetterUWithGrave] = 151,\r\n    _a[CharCode.latinSmallLetterYWithDiaeresis] = 152,\r\n    _a[CharCode.latinCapitalLetterOWithDiaeresis] = 153,\r\n    _a[CharCode.latinCapitalLetterUWithDiaeresis] = 154,\r\n    _a[CharCode.centSign] = 155,\r\n    _a[CharCode.poundSign] = 156,\r\n    _a[CharCode.yenSign] = 157,\r\n    _a[CharCode.pesetaSign] = 158,\r\n    _a[CharCode.latinSmallLetterFWithHook] = 159,\r\n    // 160 - 175.\r\n    _a[CharCode.latinSmallLetterAWithAcute] = 160,\r\n    _a[CharCode.latinSmallLetterIWithAcute] = 161,\r\n    _a[CharCode.latinSmallLetterOWithAcute] = 162,\r\n    _a[CharCode.latinSmallLetterUWithAcute] = 163,\r\n    _a[CharCode.latinSmallLetterNWithTilde] = 164,\r\n    _a[CharCode.latinCapitalLetterNWithTilde] = 165,\r\n    _a[CharCode.feminineOrdinalIndicator] = 166,\r\n    _a[CharCode.masculineOrdinalIndicator] = 167,\r\n    _a[CharCode.invertedQuestionMark] = 168,\r\n    _a[CharCode.reversedNotSign] = 169,\r\n    _a[CharCode.notSign] = 170,\r\n    _a[CharCode.vulgarFractionOneHalf] = 171,\r\n    _a[CharCode.vulgarFractionOneQuarter] = 172,\r\n    _a[CharCode.invertedExclamationMark] = 173,\r\n    _a[CharCode.leftPointingDoubleAngleQuotationMark] = 174,\r\n    _a[CharCode.rightPointingDoubleAngleQuotationMark] = 175,\r\n    // 176 - 191.\r\n    _a[CharCode.lightShade] = 176,\r\n    _a[CharCode.mediumShade] = 177,\r\n    _a[CharCode.darkShade] = 178,\r\n    _a[CharCode.boxDrawingsLightVertical] = 179,\r\n    _a[CharCode.boxDrawingsLightVerticalAndLeft] = 180,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndLeftDouble] = 181,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndLeftSingle] = 182,\r\n    _a[CharCode.boxDrawingsDownDoubleAndLeftSingle] = 183,\r\n    _a[CharCode.boxDrawingsDownSingleAndLeftDouble] = 184,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndLeft] = 185,\r\n    _a[CharCode.boxDrawingsDoubleVertical] = 186,\r\n    _a[CharCode.boxDrawingsDoubleDownAndLeft] = 187,\r\n    _a[CharCode.boxDrawingsDoubleUpAndLeft] = 188,\r\n    _a[CharCode.boxDrawingsUpDoubleAndLeftSingle] = 189,\r\n    _a[CharCode.boxDrawingsUpSingleAndLeftDouble] = 190,\r\n    _a[CharCode.boxDrawingsLightDownAndLeft] = 191,\r\n    // 192 - 207.\r\n    _a[CharCode.boxDrawingsLightUpAndRight] = 192,\r\n    _a[CharCode.boxDrawingsLightUpAndHorizontal] = 193,\r\n    _a[CharCode.boxDrawingsLightDownAndHorizontal] = 194,\r\n    _a[CharCode.boxDrawingsLightVerticalAndRight] = 195,\r\n    _a[CharCode.boxDrawingsLightHorizontal] = 196,\r\n    _a[CharCode.boxDrawingsLightVerticalAndHorizontal] = 197,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndRightDouble] = 198,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndRightSingle] = 199,\r\n    _a[CharCode.boxDrawingsDoubleUpAndRight] = 200,\r\n    _a[CharCode.boxDrawingsDoubleDownAndRight] = 201,\r\n    _a[CharCode.boxDrawingsDoubleUpAndHorizontal] = 202,\r\n    _a[CharCode.boxDrawingsDoubleDownAndHorizontal] = 203,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndRight] = 204,\r\n    _a[CharCode.boxDrawingsDoubleHorizontal] = 205,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndHorizontal] = 206,\r\n    _a[CharCode.boxDrawingsUpSingleAndHorizontalDouble] = 207,\r\n    // 208 - 223.\r\n    _a[CharCode.boxDrawingsUpDoubleAndHorizontalSingle] = 208,\r\n    _a[CharCode.boxDrawingsDownSingleAndHorizontalDouble] = 209,\r\n    _a[CharCode.boxDrawingsDownDoubleAndHorizontalSingle] = 210,\r\n    _a[CharCode.boxDrawingsUpDoubleAndRightSingle] = 211,\r\n    _a[CharCode.boxDrawingsUpSingleAndRightDouble] = 212,\r\n    _a[CharCode.boxDrawingsDownSingleAndRightDouble] = 213,\r\n    _a[CharCode.boxDrawingsDownDoubleAndRightSingle] = 214,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndHorizontalSingle] = 215,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndHorizontalDouble] = 216,\r\n    _a[CharCode.boxDrawingsLightUpAndLeft] = 217,\r\n    _a[CharCode.boxDrawingsLightDownAndRight] = 218,\r\n    _a[CharCode.fullBlock] = 219,\r\n    _a[CharCode.lowerHalfBlock] = 220,\r\n    _a[CharCode.leftHalfBlock] = 221,\r\n    _a[CharCode.rightHalfBlock] = 222,\r\n    _a[CharCode.upperHalfBlock] = 223,\r\n    // 224 - 239.\r\n    _a[CharCode.greekSmallLetterAlpha] = 224,\r\n    _a[CharCode.latinSmallLetterSharpS] = 225,\r\n    _a[CharCode.greekCapitalLetterGamma] = 226,\r\n    _a[CharCode.greekSmallLetterPi] = 227,\r\n    _a[CharCode.greekCapitalLetterSigma] = 228,\r\n    _a[CharCode.greekSmallLetterSigma] = 229,\r\n    _a[CharCode.microSign] = 230,\r\n    _a[CharCode.greekSmallLetterTau] = 231,\r\n    _a[CharCode.greekCapitalLetterPhi] = 232,\r\n    _a[CharCode.greekCapitalLetterTheta] = 233,\r\n    _a[CharCode.greekCapitalLetterOmega] = 234,\r\n    _a[CharCode.greekSmallLetterDelta] = 235,\r\n    _a[CharCode.infinity] = 236,\r\n    _a[CharCode.greekSmallLetterPhi] = 237,\r\n    _a[CharCode.greekSmallLetterEpsilon] = 238,\r\n    _a[CharCode.intersection] = 239,\r\n    // 240 - 255.\r\n    _a[CharCode.identicalTo] = 240,\r\n    _a[CharCode.plusMinusSign] = 241,\r\n    _a[CharCode.greaterThanOrEqualTo] = 242,\r\n    _a[CharCode.lessThanOrEqualTo] = 243,\r\n    _a[CharCode.topHalfIntegral] = 244,\r\n    _a[CharCode.bottomHalfIntegral] = 245,\r\n    _a[CharCode.divisionSign] = 246,\r\n    _a[CharCode.almostEqualTo] = 247,\r\n    _a[CharCode.degreeSign] = 248,\r\n    _a[CharCode.bulletOperator] = 249,\r\n    _a[CharCode.middleDot] = 250,\r\n    _a[CharCode.squareRoot] = 251,\r\n    _a[CharCode.superscriptLatinSmallLetterN] = 252,\r\n    _a[CharCode.superscriptTwo] = 253,\r\n    _a[CharCode.blackSquare] = 254,\r\n    _a);\r\n//# sourceMappingURL=unicodemap.js.map\n\nvar RetroTerminal = /** @class */ (function (_super) {\r\n    __extends(RetroTerminal, _super);\r\n    function RetroTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        // A cache of the tinted font images. Each key is a color, and the image is the font in that color.\r\n        _this._fontColorCache = new Map();\r\n        _this._imageLoaded = false;\r\n        _this._display = new Display(config.width, config.height);\r\n        _this._charWidth = config.charWidth;\r\n        _this._charHeight = config.charHeight;\r\n        _this._scale = window.devicePixelRatio;\r\n        // Font\r\n        _this._font = new Image();\r\n        _this._font.src = config.imageURL;\r\n        // Create canvas\r\n        var canvas = window.document.createElement(\"canvas\");\r\n        var canvasWidth = config.charWidth * config.width;\r\n        var canvasHeight = config.charHeight * config.height;\r\n        canvas.width = canvasWidth * _this._scale;\r\n        canvas.height = canvasHeight * _this._scale;\r\n        canvas.style.width = canvasWidth + \"px\";\r\n        canvas.style.height = canvasHeight + \"px\";\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(canvas);\r\n        }\r\n        else {\r\n            document.body.appendChild(canvas);\r\n        }\r\n        _this._canvas = canvas;\r\n        _this._context = canvas.getContext(\"2d\");\r\n        _this._font.onload = function () {\r\n            _this._imageLoaded = true;\r\n            _this.render();\r\n        };\r\n        return _this;\r\n    }\r\n    RetroTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this._display.setGlyph(pos, glyph);\r\n    };\r\n    RetroTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this._imageLoaded)\r\n            return;\r\n        this._display.render(function (pos, glyph) {\r\n            var char = glyph.char;\r\n            // Remap it if it's a Unicode character\r\n            if (unicodeMap[char] !== undefined) {\r\n                char = unicodeMap[char];\r\n            }\r\n            var sx = (char % 32) * _this._charWidth;\r\n            var sy = Math.floor(char / 32) * _this._charHeight;\r\n            // Fill the background\r\n            _this._context.fillStyle = glyph.back.cssColor();\r\n            _this._context.fillRect(pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n            // Dont bother with empty characters\r\n            if (char == 0 || char == CharCode.space)\r\n                return;\r\n            var color = _this.getColorFont(glyph.fore);\r\n            _this._context.imageSmoothingEnabled = false;\r\n            _this._context.drawImage(color, sx, sy, _this._charWidth, _this._charHeight, pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n        });\r\n    };\r\n    RetroTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this._canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this._charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this._charHeight),\r\n        };\r\n    };\r\n    RetroTerminal.prototype.getColorFont = function (color) {\r\n        // If cached return\r\n        var colorName = color.cssColor();\r\n        var cached = this._fontColorCache.get(colorName);\r\n        if (cached)\r\n            return cached;\r\n        // Create a font using the given color.\r\n        var tint = window.document.createElement(\"canvas\");\r\n        tint.width = this._font.width;\r\n        tint.height = this._font.height;\r\n        var context = tint.getContext(\"2d\");\r\n        // Draw the font\r\n        context.drawImage(this._font, 0, 0);\r\n        // Tint it by filling in the existing alpha with the color\r\n        context.globalCompositeOperation = \"source-atop\";\r\n        context.fillStyle = color.cssColor();\r\n        context.fillRect(0, 0, this._font.width, this._font.height);\r\n        this._fontColorCache.set(colorName, tint);\r\n        return tint;\r\n    };\r\n    /** Deletes the terminal, removing the canvas. */\r\n    RetroTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this._canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this._canvas);\r\n    };\r\n    return RetroTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=retro-terminal.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index = /*#__PURE__*/Object.freeze({\n    CanvasTerminal: CanvasTerminal,\n    Font: Font,\n    RetroTerminal: RetroTerminal,\n    Color: Color,\n    Glyph: Glyph,\n    get CharCode () { return CharCode; },\n    BaseTerminal: BaseTerminal,\n    PortTerminal: PortTerminal\n});\n\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Shift\"] = 16] = \"Shift\";\r\n    KeyCode[KeyCode[\"Ctrl\"] = 17] = \"Ctrl\";\r\n    KeyCode[KeyCode[\"Alt\"] = 18] = \"Alt\";\r\n    KeyCode[KeyCode[\"PauseBreak\"] = 19] = \"PauseBreak\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Escape\"] = 27] = \"Escape\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"LeftArrow\"] = 37] = \"LeftArrow\";\r\n    KeyCode[KeyCode[\"UpArrow\"] = 38] = \"UpArrow\";\r\n    KeyCode[KeyCode[\"RightArrow\"] = 39] = \"RightArrow\";\r\n    KeyCode[KeyCode[\"DownArrow\"] = 40] = \"DownArrow\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Zero\"] = 48] = \"Zero\";\r\n    KeyCode[KeyCode[\"ClosedParen\"] = 48] = \"ClosedParen\";\r\n    KeyCode[KeyCode[\"One\"] = 49] = \"One\";\r\n    KeyCode[KeyCode[\"ExclamationMark\"] = 49] = \"ExclamationMark\";\r\n    KeyCode[KeyCode[\"Two\"] = 50] = \"Two\";\r\n    KeyCode[KeyCode[\"AtSign\"] = 50] = \"AtSign\";\r\n    KeyCode[KeyCode[\"Three\"] = 51] = \"Three\";\r\n    KeyCode[KeyCode[\"PoundSign\"] = 51] = \"PoundSign\";\r\n    KeyCode[KeyCode[\"Hash\"] = 51] = \"Hash\";\r\n    KeyCode[KeyCode[\"Four\"] = 52] = \"Four\";\r\n    KeyCode[KeyCode[\"DollarSign\"] = 52] = \"DollarSign\";\r\n    KeyCode[KeyCode[\"Five\"] = 53] = \"Five\";\r\n    KeyCode[KeyCode[\"PercentSign\"] = 53] = \"PercentSign\";\r\n    KeyCode[KeyCode[\"Six\"] = 54] = \"Six\";\r\n    KeyCode[KeyCode[\"Caret\"] = 54] = \"Caret\";\r\n    KeyCode[KeyCode[\"Hat\"] = 54] = \"Hat\";\r\n    KeyCode[KeyCode[\"Seven\"] = 55] = \"Seven\";\r\n    KeyCode[KeyCode[\"Ampersand\"] = 55] = \"Ampersand\";\r\n    KeyCode[KeyCode[\"Eight\"] = 56] = \"Eight\";\r\n    KeyCode[KeyCode[\"Star\"] = 56] = \"Star\";\r\n    KeyCode[KeyCode[\"Asterik\"] = 56] = \"Asterik\";\r\n    KeyCode[KeyCode[\"Nine\"] = 57] = \"Nine\";\r\n    KeyCode[KeyCode[\"OpenParen\"] = 57] = \"OpenParen\";\r\n    KeyCode[KeyCode[\"A\"] = 65] = \"A\";\r\n    KeyCode[KeyCode[\"B\"] = 66] = \"B\";\r\n    KeyCode[KeyCode[\"C\"] = 67] = \"C\";\r\n    KeyCode[KeyCode[\"D\"] = 68] = \"D\";\r\n    KeyCode[KeyCode[\"E\"] = 69] = \"E\";\r\n    KeyCode[KeyCode[\"F\"] = 70] = \"F\";\r\n    KeyCode[KeyCode[\"G\"] = 71] = \"G\";\r\n    KeyCode[KeyCode[\"H\"] = 72] = \"H\";\r\n    KeyCode[KeyCode[\"I\"] = 73] = \"I\";\r\n    KeyCode[KeyCode[\"J\"] = 74] = \"J\";\r\n    KeyCode[KeyCode[\"K\"] = 75] = \"K\";\r\n    KeyCode[KeyCode[\"L\"] = 76] = \"L\";\r\n    KeyCode[KeyCode[\"M\"] = 77] = \"M\";\r\n    KeyCode[KeyCode[\"N\"] = 78] = \"N\";\r\n    KeyCode[KeyCode[\"O\"] = 79] = \"O\";\r\n    KeyCode[KeyCode[\"P\"] = 80] = \"P\";\r\n    KeyCode[KeyCode[\"Q\"] = 81] = \"Q\";\r\n    KeyCode[KeyCode[\"R\"] = 82] = \"R\";\r\n    KeyCode[KeyCode[\"S\"] = 83] = \"S\";\r\n    KeyCode[KeyCode[\"T\"] = 84] = \"T\";\r\n    KeyCode[KeyCode[\"U\"] = 85] = \"U\";\r\n    KeyCode[KeyCode[\"V\"] = 86] = \"V\";\r\n    KeyCode[KeyCode[\"W\"] = 87] = \"W\";\r\n    KeyCode[KeyCode[\"X\"] = 88] = \"X\";\r\n    KeyCode[KeyCode[\"Y\"] = 89] = \"Y\";\r\n    KeyCode[KeyCode[\"Z\"] = 90] = \"Z\";\r\n    KeyCode[KeyCode[\"LeftWindowKey\"] = 91] = \"LeftWindowKey\";\r\n    KeyCode[KeyCode[\"RightWindowKey\"] = 92] = \"RightWindowKey\";\r\n    KeyCode[KeyCode[\"SelectKey\"] = 93] = \"SelectKey\";\r\n    KeyCode[KeyCode[\"Numpad0\"] = 96] = \"Numpad0\";\r\n    KeyCode[KeyCode[\"Numpad1\"] = 97] = \"Numpad1\";\r\n    KeyCode[KeyCode[\"Numpad2\"] = 98] = \"Numpad2\";\r\n    KeyCode[KeyCode[\"Numpad3\"] = 99] = \"Numpad3\";\r\n    KeyCode[KeyCode[\"Numpad4\"] = 100] = \"Numpad4\";\r\n    KeyCode[KeyCode[\"Numpad5\"] = 101] = \"Numpad5\";\r\n    KeyCode[KeyCode[\"Numpad6\"] = 102] = \"Numpad6\";\r\n    KeyCode[KeyCode[\"Numpad7\"] = 103] = \"Numpad7\";\r\n    KeyCode[KeyCode[\"Numpad8\"] = 104] = \"Numpad8\";\r\n    KeyCode[KeyCode[\"Numpad9\"] = 105] = \"Numpad9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"DecimalPoint\"] = 110] = \"DecimalPoint\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"SemiColon\"] = 186] = \"SemiColon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"UnderScore\"] = 189] = \"UnderScore\";\r\n    KeyCode[KeyCode[\"PlusSign\"] = 187] = \"PlusSign\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"Tilde\"] = 192] = \"Tilde\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"ClosedBracket\"] = 221] = \"ClosedBracket\";\r\n    KeyCode[KeyCode[\"Quote\"] = 222] = \"Quote\";\r\n})(KeyCode || (KeyCode = {}));\r\n//# sourceMappingURL=keycode.js.map\n\n/**\r\n * Represents a global keyboard. Will likely only create one per app.\r\n *\r\n * You can bind/switch KeyboardContexts to the Keyboard handler\r\n * to change input 'modes'.\r\n */\r\nvar KeyboardHandler = /** @class */ (function () {\r\n    /** Creates a new KeyboardHandler */\r\n    function KeyboardHandler() {\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"keydown\", this.onKeyDownEvent.bind(this));\r\n        document.addEventListener(\"keyup\", this.onKeyUpEvent.bind(this));\r\n    }\r\n    KeyboardHandler.prototype.onKeyDownEvent = function (e) {\r\n        this._isDown.add(e.keyCode);\r\n        this.context && this.context.fireOnDown(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    KeyboardHandler.prototype.onKeyUpEvent = function (e) {\r\n        this._isDown.delete(e.keyCode);\r\n        this.context && this.context.fireOnUp(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    /**\r\n     * Sets the active context of the keyboard handler.\r\n     * @param context KeyboardContext - The context to use\r\n     */\r\n    KeyboardHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Clears the active context for the keyboard handler.\r\n     */\r\n    KeyboardHandler.prototype.clearContext = function () {\r\n        var existing = this.context;\r\n        this.context = undefined;\r\n        return existing;\r\n    };\r\n    /**\r\n     * Returns if a key is currently held down.\r\n     * @param keyCode KeyCode | number - The keyCode to check\r\n     */\r\n    KeyboardHandler.prototype.isKeyDown = function (keyCode) {\r\n        return this._isDown.has(keyCode);\r\n    };\r\n    return KeyboardHandler;\r\n}());\r\n/** Represents a keyboard 'mode', like navigating a menu or world. */\r\nvar KeyboardContext = /** @class */ (function () {\r\n    function KeyboardContext() {\r\n        this._onDown = new Map();\r\n        this._onUp = new Map();\r\n    }\r\n    /**\r\n     * Fires callback on KeyDown\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onDown = function (key, callback) {\r\n        this._onDown.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Fires callback on KeyUp\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onUp = function (key, callback) {\r\n        this._onUp.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was pressed.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnDown = function (key) {\r\n        var fn = this._onDown.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was lifted.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnUp = function (key) {\r\n        var fn = this._onUp.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    return KeyboardContext;\r\n}());\r\n//# sourceMappingURL=keyboard.js.map\n\n/** Abstracts browser mouse input */\r\nvar MouseHandler = /** @class */ (function () {\r\n    /** Creates a new Mouse Handler */\r\n    function MouseHandler() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"mousemove\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mouseenter\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mousedown\", this.onMouseDownEvent.bind(this));\r\n        document.addEventListener(\"mouseup\", this.onMouseUpEvent.bind(this));\r\n    }\r\n    MouseHandler.prototype.onMouseDownEvent = function (e) {\r\n        this._isDown.add(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseDown({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpEvent = function (e) {\r\n        this._isDown.delete(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseUp({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpdateEvent = function (e) {\r\n        this.x = e.pageX;\r\n        this.y = e.pageY;\r\n    };\r\n    /**\r\n     * Returns true if the given mouse button is down.\r\n     * @param mouseButton number - Default 0 for left click.\r\n     */\r\n    MouseHandler.prototype.isMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        return this._isDown.has(mouseButton);\r\n    };\r\n    /** Gets the current window position of the mouse */\r\n    MouseHandler.prototype.getPos = function () {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n        };\r\n    };\r\n    /**\r\n     * Sets the active mouse context\r\n     * @param context MouseContext\r\n     */\r\n    MouseHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /** Clears the active mouse context */\r\n    MouseHandler.prototype.clearContext = function () {\r\n        this.context = undefined;\r\n    };\r\n    return MouseHandler;\r\n}());\r\nvar MouseContext = /** @class */ (function () {\r\n    function MouseContext() {\r\n        this.onDown = new Map();\r\n        this.onUp = new Map();\r\n    }\r\n    /**\r\n     * Registers a callback for a mousedown event\r\n     * @param callback - The function to call on mousedown\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseDown = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Registers a callback for a mouseup event\r\n     * @param callback - The function to call on mouseup\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseUp = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Clears a registered function for mousedown\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Clears a registered function for mouseup\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseUp = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mousedown\r\n     * @param pos Vector2 - The pos for the mouse\r\n     * @param mouseButton - The mouse button pressed\r\n     */\r\n    MouseContext.prototype.callOnMouseDown = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onDown.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mouseup\r\n     * @param pos\r\n     * @param mouseButton\r\n     */\r\n    MouseContext.prototype.callOnMouseUp = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onUp.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    return MouseContext;\r\n}());\r\n//# sourceMappingURL=mouse.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n    get KeyCode () { return KeyCode; },\n    KeyboardContext: KeyboardContext,\n    KeyboardHandler: KeyboardHandler,\n    MouseHandler: MouseHandler,\n    MouseContext: MouseContext\n});\n\n//# sourceMappingURL=vector.js.map\n\n// ToDo - Make this more efficient via heap\r\nvar PriorityQueue = /** @class */ (function () {\r\n    function PriorityQueue(priorityFunc) {\r\n        this.data = [];\r\n        this.priorityFunc = priorityFunc;\r\n    }\r\n    PriorityQueue.prototype.insert = function (data) {\r\n        var score = this.priorityFunc(data);\r\n        this.data.push([score, data]);\r\n    };\r\n    PriorityQueue.prototype.peek = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        return this.data[minIndex][1];\r\n    };\r\n    PriorityQueue.prototype.pop = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        var popped = this.data.splice(minIndex, 1);\r\n        return popped[0][1];\r\n    };\r\n    PriorityQueue.prototype.size = function () {\r\n        return this.data.length;\r\n    };\r\n    return PriorityQueue;\r\n}());\r\n//# sourceMappingURL=priority-queue.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    Table: Table,\n    PriorityQueue: PriorityQueue\n});\n\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\r\n// Johannes Baagøe <baagoe@baagoe.com>, 2010\r\nfunction Mash() {\r\n    var n = 0xefc8249d;\r\n    var mash = function (data) {\r\n        data = data.toString();\r\n        for (var i = 0; i < data.length; i++) {\r\n            n += data.charCodeAt(i);\r\n            var h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nvar AleaRNG = /** @class */ (function () {\r\n    function AleaRNG(seed) {\r\n        this.s0 = 0;\r\n        this.s1 = 0;\r\n        this.s2 = 0;\r\n        this.c = 0;\r\n        // Initialize seed if needed\r\n        this.seed = seed === undefined ? new Date().toString() : seed;\r\n        this.reset();\r\n    }\r\n    AleaRNG.prototype.reset = function () {\r\n        var mash = Mash();\r\n        // Initial mashes\r\n        this.s0 = mash(\" \");\r\n        this.s1 = mash(\" \");\r\n        this.s2 = mash(\" \");\r\n        this.c = 1;\r\n        this.s0 -= mash(this.seed);\r\n        this.s1 -= mash(this.seed);\r\n        this.s2 -= mash(this.seed);\r\n        this.sanitize();\r\n    };\r\n    AleaRNG.prototype.sanitize = function () {\r\n        if (this.s0 < 0)\r\n            this.s0 += 1;\r\n        if (this.s1 < 0)\r\n            this.s1 += 1;\r\n        if (this.s2 < 0)\r\n            this.s2 += 1;\r\n    };\r\n    AleaRNG.prototype.step = function () {\r\n        // The dark magic that makes the number generator run\r\n        var t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = t | 0));\r\n    };\r\n    // Returns between [0,1)\r\n    AleaRNG.prototype.nextRand = function () {\r\n        return (this.step() + ((this.step() * 0x200000) | 0) * 1.1102230246251565e-16); // 2^-53\r\n    };\r\n    AleaRNG.prototype.next = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 1; }\r\n        return this.nextRand() * (max - min) + min;\r\n    };\r\n    AleaRNG.prototype.nextInt = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 100; }\r\n        return Math.floor(this.next() * (max - min) + min);\r\n    };\r\n    AleaRNG.prototype.nextBoolean = function () {\r\n        return this.nextRand() > 0.5;\r\n    };\r\n    AleaRNG.prototype.nextItem = function (array) {\r\n        if (array.length === 0)\r\n            return undefined;\r\n        var i = this.nextInt(0, array.length);\r\n        return array[i];\r\n    };\r\n    AleaRNG.prototype.shuffle = function (array) {\r\n        var result = [];\r\n        var clone = array.slice();\r\n        while (clone.length) {\r\n            var index = this.nextInt(0, clone.length);\r\n            result.push(clone.splice(index, 1)[0]);\r\n        }\r\n        return result;\r\n    };\r\n    AleaRNG.prototype.clone = function () {\r\n        var a = new AleaRNG();\r\n        a.s0 = this.s0;\r\n        a.s1 = this.s1;\r\n        a.s2 = this.s2;\r\n        a.c = this.c;\r\n        return a;\r\n    };\r\n    return AleaRNG;\r\n}());\r\n//# sourceMappingURL=alea.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$3 = /*#__PURE__*/Object.freeze({\n    AleaRNG: AleaRNG\n});\n\n/** Contains math for common vector operations. */\r\nvar Vector = /** @class */ (function () {\r\n    function Vector() {\r\n    }\r\n    /**\r\n     * Returns true if two vectors have the same x and y values.\r\n     * @param v1 The first Vector2.\r\n     * @param v2 The second Vector2.\r\n     */\r\n    Vector.areEqual = function (v1, v2) {\r\n        return v1.x === v2.x && v1.y === v2.y;\r\n    };\r\n    /**\r\n     * Returns the distance between two vectors.\r\n     *\r\n     * If no topology is given, diagonal distance is sqrt(2).\r\n     * If topology is four, diagonal distance is 2.\r\n     * If topology is eight, diagonal distance is 1.\r\n     *\r\n     * @param start The starting Vector2.\r\n     * @param end The ending Vector2.\r\n     * @param topology Can use \"four\" or \"eight\" for non-cartesian distances.\r\n     */\r\n    Vector.getDistance = function (start, end, topology) {\r\n        if (topology === \"four\") {\r\n            return Math.abs(start.x - end.x) + Math.abs(start.y - end.y);\r\n        }\r\n        else if (topology === \"eight\") {\r\n            return Math.max(Math.abs(start.x - end.x), Math.abs(start.y - end.y));\r\n        }\r\n        else {\r\n            var a = start.x - end.x;\r\n            var b = start.y - end.y;\r\n            return Math.sqrt(a * a + b * b);\r\n        }\r\n    };\r\n    /**\r\n     * Will find the center of an area by averaging all Vectors in the area.\r\n     * This point may not be in the area itself, for example in a donut shaped area.\r\n     * @param area Vector2\r\n     */\r\n    Vector.getCenter = function (area) {\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find center of empty area\");\r\n        }\r\n        var sx = 0;\r\n        var sy = 0;\r\n        for (var _i = 0, area_1 = area; _i < area_1.length; _i++) {\r\n            var v = area_1[_i];\r\n            sx += v.x;\r\n            sy += v.y;\r\n        }\r\n        return {\r\n            x: sx / area.length,\r\n            y: sy / area.length,\r\n        };\r\n    };\r\n    /**\r\n     * Will find the position in the area closest to the target\r\n     * @param area Vector2[]\r\n     * @param target Vector2\r\n     * @param topology Either 'four' or 'eight'. Default 'four'\r\n     */\r\n    Vector.getClosest = function (area, target, topology) {\r\n        if (topology === void 0) { topology = \"four\"; }\r\n        // Throw an error if area is empty\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find closest position of an empty area\");\r\n        }\r\n        // Keep track of the closest we've found.\r\n        var minDistance = Infinity;\r\n        var closest = area[0];\r\n        for (var _i = 0, area_2 = area; _i < area_2.length; _i++) {\r\n            var v = area_2[_i];\r\n            var distance = Vector.getDistance(target, v, topology);\r\n            // Found exact one, immediately return\r\n            if (distance === 0) {\r\n                return {\r\n                    x: target.x,\r\n                    y: target.y,\r\n                };\r\n            }\r\n            // Closer than currently known\r\n            if (distance < minDistance) {\r\n                minDistance = distance;\r\n                closest = v;\r\n            }\r\n        }\r\n        return closest;\r\n    };\r\n    return Vector;\r\n}());\r\n//# sourceMappingURL=vector.js.map\n\n//# sourceMappingURL=index.js.map\n\nfunction getRing8(originX, originY, range) {\r\n    if (range === 0)\r\n        return [{ x: originX, y: originY }];\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    //Start at the 3 o'clock, (0 degrees), rotate all the way around\r\n    // Top Right Side, no corner\r\n    for (var x = maxX, y = originY; y > minY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top Side, right to left. Include top corners\r\n    for (var x = maxX, y = minY; x >= minX; x--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Left side, no corners\r\n    for (var x = minX, y = minY + 1; y < maxY; y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom side, corners\r\n    for (var x = minX, y = maxY; x <= maxX; x++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Right side back to to 0 degrees, no corner\r\n    for (var x = maxX, y = maxY - 1; y > originY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\nfunction getRing4(originX, originY, range) {\r\n    if (range === 0) {\r\n        return [\r\n            {\r\n                x: originX,\r\n                y: originY,\r\n            },\r\n        ];\r\n    }\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    // Top right arc\r\n    for (var x = maxX, y = originY; x > originX; x--, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top left arc\r\n    for (var x = originX, y = minY; x > minX; x--, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom left arc\r\n    for (var x = minX, y = originY; x < originX; x++, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom right arc\r\n    for (var x = originX, y = maxY; x < maxX; x++, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\n//# sourceMappingURL=get-ring.js.map\n\nvar AStar = /** @class */ (function () {\r\n    /**\r\n     * @param config - General parameters for the AStar Pathfinder\r\n     * @param config.isBlockedCallback - Return true if the position is blocked.\r\n     * @param config.topology - four | eight\r\n     */\r\n    function AStar(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    /**\r\n     * Get all neightbors of a point. Returns orthogonal\r\n     * directions first, then diagonal if topology is 8.\r\n     * Results in more natural looking paths.\r\n     * @param pos - Vector2\r\n     */\r\n    AStar.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    /**\r\n     * @param start Vector2 - The starting position\r\n     * @param end  Vector2 - The ending position\r\n     *\r\n     * @returns Vector2[] | undefined - Returns the path,\r\n     * including start + end, or undefined if no path is found.\r\n     */\r\n    AStar.prototype.compute = function (start, end) {\r\n        var _this = this;\r\n        // openSet is the set of discovered nodes, and more might be found\r\n        var openSet = new PriorityQueue(function (n) { return n.fScore; });\r\n        openSet.insert({\r\n            v: start,\r\n            fScore: Vector.getDistance(start, end, \"eight\"),\r\n        });\r\n        // cameFrom maps a node to the one preceding it with the cheapest path\r\n        var cameFrom = new Map();\r\n        // gScore tracks the cheapest path from start to the node\r\n        // fScore tracks gScore + esimated\r\n        var gScore = new Map();\r\n        gScore.set(start.x + \":\" + start.y, 0);\r\n        while (openSet.size()) {\r\n            var current = openSet.pop().v;\r\n            if (Vector.areEqual(current, end)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.has(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            var currentGScore = gScore.get(current.x + \":\" + current.y);\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                // ToDo - allow the distance to be determined by function\r\n                var tentative_gScore = currentGScore + 1;\r\n                if (gScore.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                    gScore.set(n.x + \":\" + n.y, tentative_gScore);\r\n                    var fScore = tentative_gScore + Vector.getDistance(n, end, \"eight\");\r\n                    openSet.insert({\r\n                        v: n,\r\n                        fScore: fScore,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // We never got current == end\r\n        return undefined;\r\n    };\r\n    return AStar;\r\n}());\r\n//# sourceMappingURL=astar.js.map\n\n/**\r\n * Connects areas of the map to ensure they are all connected.\r\n *\r\n * For instance, if you're using an alive value of 1 for walls,\r\n * then this can connect the dead value of 0 to ensure all\r\n * squares on the map are accessable.\r\n *\r\n * @param value The value to connect (default this.deadValue)\r\n */\r\nfunction connect(table, value) {\r\n    var spacesToConnect = new Set();\r\n    var groups = [];\r\n    var paths = [];\r\n    // Get all spaces with the value\r\n    for (var x = 0; x < table.width; x++) {\r\n        for (var y = 0; y < table.height; y++) {\r\n            if (table.get({ x: x, y: y }) === value) {\r\n                spacesToConnect.add(x + \":\" + y);\r\n            }\r\n        }\r\n    }\r\n    // Figure out which groups there are\r\n    while (spacesToConnect.size > 0) {\r\n        var v = Array.from(spacesToConnect.entries())[0][0];\r\n        var _a = v.split(\":\"), x = _a[0], y = _a[1];\r\n        var position = {\r\n            x: Number.parseInt(x),\r\n            y: Number.parseInt(y),\r\n        };\r\n        // Grab an area, then remove those tiles from the spacesToConnect\r\n        var selection = table.floodFillSelect(position);\r\n        groups.push(selection);\r\n        for (var _i = 0, selection_1 = selection; _i < selection_1.length; _i++) {\r\n            var s = selection_1[_i];\r\n            spacesToConnect.delete(s.x + \":\" + s.y);\r\n        }\r\n    }\r\n    // spacesToConnect is now empty.\r\n    // Each group in groups is an isolated set of tiles\r\n    for (var i = 0; i < groups.length; i++) {\r\n        // Ignore the last group\r\n        if (i === groups.length - 1)\r\n            break;\r\n        var current = groups[i];\r\n        var next = groups[i + 1];\r\n        // Get the center point from each area\r\n        var currentCenter = Vector.getCenter(current);\r\n        var currentPoint = Vector.getClosest(current, currentCenter);\r\n        var nextCenter = Vector.getCenter(next);\r\n        var nextPoint = Vector.getClosest(next, nextCenter);\r\n        // Get two points that are close to the edge for each section\r\n        var closestCurrent = Vector.getClosest(next, currentPoint);\r\n        var closestNext = Vector.getClosest(current, nextPoint);\r\n        var a = new AStar({ topology: \"four\" });\r\n        var connection = a.compute(closestCurrent, closestNext);\r\n        // Connect the paths\r\n        if (!connection)\r\n            throw new Error(\"Error: Could not connect cell areas\");\r\n        for (var _b = 0, connection_1 = connection; _b < connection_1.length; _b++) {\r\n            var v = connection_1[_b];\r\n            table.set(v, value);\r\n        }\r\n        paths.push(connection);\r\n    }\r\n    return {\r\n        groups: groups,\r\n        paths: paths,\r\n    };\r\n}\r\n//# sourceMappingURL=connect.js.map\n\n/** Used to create CellularAutomata Maps. */\r\nvar CellularAutomata = /** @class */ (function () {\r\n    /**\r\n     * Creates a Cellular Automata Map Generator\r\n     *\r\n     * @param width The width of the map.\r\n     * @param height The height of the map.\r\n     * @param options Additional options.\r\n     */\r\n    function CellularAutomata(width, height, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.table = new Table(width, height);\r\n        // Set up defaults\r\n        this.aliveValue =\r\n            options.aliveValue === undefined ? 1 : options.aliveValue;\r\n        this.deadValue =\r\n            options.deadValue === undefined ? 0 : options.deadValue;\r\n        this.rng = options.rng === undefined ? new AleaRNG() : options.rng;\r\n    }\r\n    /**\r\n     * Randomly sets each cell to either alive or dead.\r\n     *\r\n     * @param isAliveChance The chance for a cell to be set to the 'alive' value.\r\n     */\r\n    CellularAutomata.prototype.randomize = function (isAliveChance) {\r\n        if (isAliveChance === void 0) { isAliveChance = 0.6; }\r\n        for (var x = 0; x < this.table.width; x++) {\r\n            for (var y = 0; y < this.table.height; y++) {\r\n                var isAlive = this.rng.next() > isAliveChance;\r\n                if (isAlive) {\r\n                    this.table.set({ x: x, y: y }, this.aliveValue);\r\n                }\r\n                else {\r\n                    this.table.set({ x: x, y: y }, this.deadValue);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CellularAutomata.prototype.countAliveNeighbors = function (x, y) {\r\n        var count = 0;\r\n        for (var i = -1; i < 2; i++) {\r\n            for (var j = -1; j < 2; j++) {\r\n                var neighbor_x = x + i;\r\n                var neighbor_y = y + j;\r\n                if (i == 0 && j == 0) ;\r\n                else if (this.table.isInBounds({ x: neighbor_x, y: neighbor_y }) == false) {\r\n                    count++;\r\n                }\r\n                else if (this.table.get({ x: neighbor_x, y: neighbor_y }) == this.aliveValue) {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    };\r\n    /**\r\n     * Runs a number of simulation steps.\r\n     * Each step generally \"smooths\" the map.\r\n     *\r\n     * @param stepCount The number of steps to run.\r\n     */\r\n    CellularAutomata.prototype.doSimulationStep = function (stepCount) {\r\n        if (stepCount === void 0) { stepCount = 1; }\r\n        for (var step = 0; step < stepCount; step++) {\r\n            var newMap = new Table(this.table.width, this.table.height);\r\n            var oldMap = this.table; //this just renames the table to prevent 'this' all over the place.\r\n            for (var x = 0; x < oldMap.width; x++) {\r\n                for (var y = 0; y < oldMap.height; y++) {\r\n                    var nbs = this.countAliveNeighbors(x, y);\r\n                    if (oldMap.get({ x: x, y: y }) === this.aliveValue) {\r\n                        if (nbs < 4) {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (nbs > 3) {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.table = newMap;\r\n        }\r\n    };\r\n    /**\r\n     * Connects areas of the map to ensure they are all connected.\r\n     *\r\n     * For instance, if you're using an alive value of 1 for walls,\r\n     * then this can connect the dead value of 0 to ensure all\r\n     * squares on the map are accessable.\r\n     *\r\n     * @param value The value to connect (default this.deadValue)\r\n     */\r\n    CellularAutomata.prototype.connect = function (value) {\r\n        if (value === void 0) { value = this.deadValue; }\r\n        return connect(this.table, value);\r\n    };\r\n    return CellularAutomata;\r\n}());\r\n//# sourceMappingURL=cellular-automata.js.map\n\n/** Generator to perform a Drunkard's Walk*/\r\nvar DrunkardsWalk = /** @class */ (function () {\r\n    /**\r\n     * Creates a new DrunkardsWalk Generator\r\n     * @param config - Generator Config\r\n     * @param config.width number - Width of the map\r\n     * @param config.height number - Height of the map\r\n     * @param config.rng IRNG - Optional random number generator\r\n     * @param config.topology \"four\" | \"eight\" - Topology to use. Default four.\r\n     */\r\n    function DrunkardsWalk(config) {\r\n        var _a, _b;\r\n        this._path = [];\r\n        this._steps = 0;\r\n        this._coveredCount = 0;\r\n        this.table = new Table(config.width, config.height);\r\n        this._rng = (_a = config.rng) !== null && _a !== void 0 ? _a : new AleaRNG();\r\n        this._topology = (_b = config.topology) !== null && _b !== void 0 ? _b : \"four\";\r\n        // Initialize Table\r\n        this.table.fill(0);\r\n    }\r\n    /**\r\n     * Returns the path traveled so far.\r\n     */\r\n    DrunkardsWalk.prototype.getPath = function () {\r\n        return this._path;\r\n    };\r\n    /**\r\n     * Returns the last visited location.\r\n     */\r\n    DrunkardsWalk.prototype.getCurrent = function () {\r\n        return this._path[this._path.length - 1];\r\n    };\r\n    /**\r\n     * Returns the total number of steps taken\r\n     */\r\n    DrunkardsWalk.prototype.getSteps = function () {\r\n        return this._steps;\r\n    };\r\n    /**\r\n     * Returns the total number of unique spaces visited\r\n     */\r\n    DrunkardsWalk.prototype.getCoveredCount = function () {\r\n        return this._coveredCount;\r\n    };\r\n    /**\r\n     * Adds a point to the drunkards walk,\r\n     * adjusting path, table, and steps as needed.\r\n     * @param point Vector2 - The point to add\r\n     */\r\n    DrunkardsWalk.prototype.addPoint = function (point) {\r\n        this._steps++;\r\n        if (this.table.get(point) !== 1) {\r\n            this._coveredCount++;\r\n        }\r\n        this.table.set(point, 1);\r\n        this._path.push(point);\r\n    };\r\n    /**\r\n     * Generate a path by walking a number of steps.\r\n     * Can be called multiple times to have the Drunkard 'jump' to a different spot.\r\n     * @param config - The walk configuration\r\n     * @param config.steps number - The number of steps to take.\r\n     * @param config.start Vector2 - The starting position. Default random.\r\n     * @param config.maxCoveredTiles number - Stops walking if the total number of tiles\r\n     * ever covered reaches this limit. Default Infinity.\r\n     */\r\n    DrunkardsWalk.prototype.walkSteps = function (config) {\r\n        var _a, _b;\r\n        // Initialize config\r\n        var maxCoveredTiles = (_a = config.maxCoveredTiles) !== null && _a !== void 0 ? _a : Infinity;\r\n        var steps = config.steps;\r\n        // Set the initial coordinate\r\n        this.addPoint((_b = config.start) !== null && _b !== void 0 ? _b : this.getRandPoint());\r\n        for (var i = 0; i < steps - 1; i++) {\r\n            // Break if we're over the covered limit\r\n            if (this._coveredCount >= maxCoveredTiles) {\r\n                break;\r\n            }\r\n            var current = this._path[this._path.length - 1];\r\n            var next = this.getRandomNeighbor(current);\r\n            this.addPoint(next);\r\n        }\r\n    };\r\n    DrunkardsWalk.prototype.getRandPoint = function () {\r\n        var x = this._rng.nextInt(0, this.table.width);\r\n        var y = this._rng.nextInt(0, this.table.height);\r\n        return { x: x, y: y };\r\n    };\r\n    DrunkardsWalk.prototype.getRandomNeighbor = function (pos) {\r\n        var next = undefined;\r\n        while (next === undefined) {\r\n            // Get next neighbor\r\n            var neighbors = this._topology === \"four\"\r\n                ? getRing4(pos.x, pos.y, 1)\r\n                : getRing8(pos.x, pos.y, 1);\r\n            var n = this._rng.nextItem(neighbors);\r\n            // Check if it is in bounds\r\n            if (this.table.isInBounds(n)) {\r\n                next = n;\r\n            }\r\n        }\r\n        return next;\r\n    };\r\n    return DrunkardsWalk;\r\n}());\r\n//# sourceMappingURL=drunkards-walk.js.map\n\n// export { BSPTreeRect } from \"./bsp-tree\";\r\n//# sourceMappingURL=index.js.map\n\nvar index$4 = /*#__PURE__*/Object.freeze({\n    CellularAutomata: CellularAutomata,\n    DrunkardsWalk: DrunkardsWalk\n});\n\nvar Dijkstra = /** @class */ (function () {\r\n    function Dijkstra(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    Dijkstra.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    /**\r\n     * Compute processes the distances between start and end goals\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    Dijkstra.prototype.compute = function (initial, goal) {\r\n        var _this = this;\r\n        //unpackage config.\r\n        var cameFrom = new Map();\r\n        var processed = new Set();\r\n        var processing = [initial];\r\n        cameFrom.set(initial.x + \":\" + initial.y, \"\");\r\n        while (processing.length !== 0) {\r\n            //shift the last node off the array.\r\n            var current = processing.shift();\r\n            //short circut\r\n            if (processed.has(current.x + \":\" + current.y)) {\r\n                continue;\r\n            }\r\n            else {\r\n                processed.add(current.x + \":\" + current.y);\r\n            }\r\n            // check to see if the space is where you need to be. If so, exit loop.\r\n            if (Vector.areEqual(current, goal)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.get(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                processing.push(n);\r\n                if (cameFrom.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return Dijkstra;\r\n}());\n\n//# sourceMappingURL=index.js.map\n\nvar index$5 = /*#__PURE__*/Object.freeze({\n    AStar: AStar,\n    Dijkstra: Dijkstra\n});\n\nfunction box(terminal, options) {\r\n    var x1 = options.x1, x2 = options.x2, y1 = options.y1, y2 = options.y2, title = options.title;\r\n    // Corners\r\n    terminal.drawGlyph({ x: x1, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndLeft));\r\n    terminal.drawGlyph({ x: x1, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndLeft));\r\n    // Horizontal Bars\r\n    for (var dx = x1 + 1; dx < x2; dx++) {\r\n        terminal.drawGlyph({ x: dx, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n        terminal.drawGlyph({ x: dx, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n    }\r\n    // Vertical Bars\r\n    for (var dy = y1 + 1; dy < y2; dy++) {\r\n        terminal.drawGlyph({ x: x1, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n        terminal.drawGlyph({ x: x2, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n    }\r\n    if (title) {\r\n        terminal.writeAt({ x: x1 + 2, y: y1 }, \" \" + title + \" \");\r\n    }\r\n}\r\n//# sourceMappingURL=box.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$6 = /*#__PURE__*/Object.freeze({\n    box: box\n});\n\n/** FOV Algorithm that calculates angles of shadows and merges them together. */\r\nvar PreciseShadowcasting = /** @class */ (function () {\r\n    /**\r\n     * Creates a new PreciseShadowcasting object\r\n     * which can calulate viewsheds.\r\n     *\r\n     * @param config\r\n     * @param config.lightPasses Vector2 => Boolean - Whether a position is visible\r\n     * @param config.topology \"four\" | \"eight\" | \"free\" - The topology to use\r\n     * @param config.returnAll Return all spaces in range, even if not visible. Default false.\r\n     * @param config.cartesianRange If set, will calculate range as a^2 + b^2 = c^2. Results in round shape. Default false.\r\n     */\r\n    function PreciseShadowcasting(config) {\r\n        var _a, _b;\r\n        this.lightPasses = config.lightPasses;\r\n        // free uses an 8 ring topology\r\n        this.getRing = config.topology === \"four\" ? getRing4 : getRing8;\r\n        this.returnAll = (_a = config.returnAll) !== null && _a !== void 0 ? _a : false;\r\n        this.cartesianRange = (_b = config.cartesianRange) !== null && _b !== void 0 ? _b : false;\r\n    }\r\n    /**\r\n     * Calculates an array of visible Vectors. Same as calculateCallback,\r\n     * but returns an Array instead.\r\n     *\r\n     * @param origin Vector2 - The position to start from.\r\n     * @param range Number - The range of vision\r\n     */\r\n    PreciseShadowcasting.prototype.calculateArray = function (origin, range) {\r\n        var v = [];\r\n        this.calculateCallback(origin, range, function (pos, r, visibility) {\r\n            v.push({ pos: pos, r: r, visibility: visibility });\r\n        });\r\n        return v;\r\n    };\r\n    /**\r\n     * Calculates visible positions, and invokes the given callback for each one.\r\n     *\r\n     * @param origin Vector2 - The position to start from\r\n     * @param range Number - The range of vision\r\n     * @param callback (pos: Vector2, range: number, visibility: number) => void - The function to call for each visible tile\r\n     */\r\n    PreciseShadowcasting.prototype.calculateCallback = function (origin, range, callback) {\r\n        // Always call the original\r\n        callback(origin, 0, 1);\r\n        var shadows = [];\r\n        // For all rings\r\n        for (var r = 1; r <= range; r++) {\r\n            var ring = this.getRing(origin.x, origin.y, r);\r\n            // * by 2 here since we're making 2 arcs per tile\r\n            var arcCount = ring.length * 2;\r\n            // For all cells\r\n            for (var i = 0; i < ring.length; i++) {\r\n                var cell = ring[i];\r\n                // If it's the first angle, we shift the negative value to a positive one.\r\n                // i.e. -1/8 -> 7/8\r\n                var lesserN = i === 0 ? arcCount - 1 : 2 * i - 1;\r\n                // ToDo - Fix naming\r\n                var lesserAngle = [lesserN, arcCount];\r\n                var greaterAngle = [2 * i + 1, arcCount];\r\n                var blocks = this.lightPasses(cell) === false;\r\n                var visibility = this.checkVisibility(lesserAngle, greaterAngle, blocks, shadows);\r\n                if (visibility || this.returnAll) {\r\n                    if (this.cartesianRange) {\r\n                        var absRange = Vector.getDistance(origin, cell);\r\n                        if (absRange <= range) {\r\n                            callback(cell, r, visibility);\r\n                        }\r\n                    }\r\n                    else {\r\n                        callback(cell, r, visibility);\r\n                    }\r\n                }\r\n                // ToDo - Short circuit if entirely surrounded\r\n            }\r\n        }\r\n    };\r\n    PreciseShadowcasting.prototype.checkVisibility = function (A1, A2, blocks, shadows) {\r\n        if (A1[0] > A2[0]) {\r\n            /* split into two sub-arcs */\r\n            var v1 = this.checkVisibility(A1, [A1[1], A1[1]], blocks, shadows);\r\n            var v2 = this.checkVisibility([0, 1], A2, blocks, shadows);\r\n            return (v1 + v2) / 2;\r\n        }\r\n        /* index1: first shadow >= A1 */\r\n        var index1 = 0, edge1 = false;\r\n        while (index1 < shadows.length) {\r\n            var old = shadows[index1];\r\n            var diff = old[0] * A1[1] - A1[0] * old[1];\r\n            if (diff >= 0) {\r\n                /* old >= A1 */\r\n                if (diff == 0 && !(index1 % 2)) {\r\n                    edge1 = true;\r\n                }\r\n                break;\r\n            }\r\n            index1++;\r\n        }\r\n        /* index2: last shadow <= A2 */\r\n        var index2 = shadows.length, edge2 = false;\r\n        while (index2--) {\r\n            var old = shadows[index2];\r\n            var diff = A2[0] * old[1] - old[0] * A2[1];\r\n            if (diff >= 0) {\r\n                /* old <= A2 */\r\n                if (diff == 0 && index2 % 2) {\r\n                    edge2 = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        var visible = this.checkShadowVisibility(index1, index2, edge1, edge2);\r\n        if (!visible) {\r\n            return 0;\r\n        } /* fast case: not visible */\r\n        var visibleLength;\r\n        /* compute the length of visible arc, adjust list of shadows (if blocking) */\r\n        var remove = index2 - index1 + 1;\r\n        if (remove % 2) {\r\n            if (index1 % 2) {\r\n                /* first edge within existing shadow, second outside */\r\n                var P = shadows[index1];\r\n                visibleLength = (A2[0] * P[1] - P[0] * A2[1]) / (P[1] * A2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A2);\r\n                }\r\n            }\r\n            else {\r\n                /* second edge within existing shadow, first outside */\r\n                var P = shadows[index2];\r\n                visibleLength = (P[0] * A1[1] - A1[0] * P[1]) / (A1[1] * P[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (index1 % 2) {\r\n                /* both edges within existing shadows */\r\n                var P1 = shadows[index1];\r\n                var P2 = shadows[index2];\r\n                visibleLength = (P2[0] * P1[1] - P1[0] * P2[1]) / (P1[1] * P2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove);\r\n                }\r\n            }\r\n            else {\r\n                /* both edges outside existing shadows */\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1, A2);\r\n                }\r\n                return 1; /* whole arc visible! */\r\n            }\r\n        }\r\n        var arcLength = (A2[0] * A1[1] - A1[0] * A2[1]) / (A1[1] * A2[1]);\r\n        return visibleLength / arcLength;\r\n    };\r\n    PreciseShadowcasting.prototype.checkShadowVisibility = function (index1, index2, edge1, edge2) {\r\n        var visible = true;\r\n        if (index1 == index2 && (edge1 || edge2)) {\r\n            /* subset of existing shadow, one of the edges match */\r\n            visible = false;\r\n        }\r\n        else if (edge1 && edge2 && index1 + 1 == index2 && index2 % 2) {\r\n            /* completely equivalent with existing shadow */\r\n            visible = false;\r\n        }\r\n        else if (index1 > index2 && index1 % 2) {\r\n            /* subset of existing shadow, not touching */\r\n            visible = false;\r\n        }\r\n        return visible;\r\n    };\r\n    return PreciseShadowcasting;\r\n}());\r\n//# sourceMappingURL=precise.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$7 = /*#__PURE__*/Object.freeze({\n    PreciseShadowcasting: PreciseShadowcasting\n});\n\n//# sourceMappingURL=malwoden.js.map\n\n\n//# sourceMappingURL=malwoden.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uL2Rpc3QvbWFsd29kZW4uZXM1LmpzPzg4OTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsbUJBQW1CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxQkFBcUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3Qjs7QUFFQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQixFQUFFO0FBQ3hDO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGFBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFd0w7QUFDeEwiLCJmaWxlIjoiLi4vZGlzdC9tYWx3b2Rlbi5lczUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBDb2xvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbG9yKHIsIGcsIGIpIHtcclxuICAgICAgICB0aGlzLnIgPSByO1xyXG4gICAgICAgIHRoaXMuZyA9IGc7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgIH1cclxuICAgIENvbG9yLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuciA9PT0gY29sb3IuciAmJiB0aGlzLmcgPT09IGNvbG9yLmcgJiYgdGhpcy5iID09PSBjb2xvci5iO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS5jc3NDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gXCJyZ2IoXCIgKyB0aGlzLnIgKyBcIixcIiArIHRoaXMuZyArIFwiLFwiICsgdGhpcy5iICsgXCIpXCI7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLnNhbml0aXplRWxlbWVudCA9IGZ1bmN0aW9uIChyZ2IpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLm1pbihNYXRoLm1heChyZ2IsIDApLCAyNTUpKTtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG90aGVyLCBmcmFjdGlvbk90aGVyKSB7XHJcbiAgICAgICAgaWYgKGZyYWN0aW9uT3RoZXIgPT09IHZvaWQgMCkgeyBmcmFjdGlvbk90aGVyID0gMTsgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IodGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5yICsgb3RoZXIuciAqIGZyYWN0aW9uT3RoZXIpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLmcgKyBvdGhlci5nICogZnJhY3Rpb25PdGhlciksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuYiArIG90aGVyLmIgKiBmcmFjdGlvbk90aGVyKSk7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLmJsZW5kID0gZnVuY3Rpb24gKG90aGVyLCBmcmFjdGlvbk90aGVyKSB7XHJcbiAgICAgICAgaWYgKGZyYWN0aW9uT3RoZXIgPT09IHZvaWQgMCkgeyBmcmFjdGlvbk90aGVyID0gMC41OyB9XHJcbiAgICAgICAgdmFyIGZyYWN0aW9uVGhpcyA9IDEuMCAtIGZyYWN0aW9uT3RoZXI7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcih0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLnIgKiBmcmFjdGlvblRoaXMgKyBvdGhlci5yICogZnJhY3Rpb25PdGhlciksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuZyAqIGZyYWN0aW9uVGhpcyArIG90aGVyLmcgKiBmcmFjdGlvbk90aGVyKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5iICogZnJhY3Rpb25UaGlzICsgb3RoZXIuYiAqIGZyYWN0aW9uT3RoZXIpKTtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUuYmxlbmRQZXJjZW50ID0gZnVuY3Rpb24gKG90aGVyLCBwZXJjZW50T3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ibGVuZChvdGhlciwgcGVyY2VudE90aGVyIC8gMTAwKTtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUudG9HcmF5c2NhbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5yICsgdGhpcy5nICsgdGhpcy5iO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IodGhpcy5zYW5pdGl6ZUVsZW1lbnQodG90YWwgLyAzKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodG90YWwgLyAzKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodG90YWwgLyAzKSk7XHJcbiAgICB9O1xyXG4gICAgLy8gQ1NTIEV4dGVuZGVkIENvbG9yIFBhbGV0dGVcclxuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9jb2xvcnNcclxuICAgIC8vIFBpbmsgQ29sb3JzXHJcbiAgICBDb2xvci5NZWRpdW1WaW9sZXRSZWQgPSBuZXcgQ29sb3IoMTk5LCAyMSwgMTMzKTtcclxuICAgIENvbG9yLkRlZXBQaW5rID0gbmV3IENvbG9yKDI1NSwgMjAsIDE0Nyk7XHJcbiAgICBDb2xvci5QYWxlVmlvbGV0UmVkID0gbmV3IENvbG9yKDIxOSwgMTEyLCAxNDcpO1xyXG4gICAgQ29sb3IuSG90UGluayA9IG5ldyBDb2xvcigyNTUsIDEwNSwgMTgwKTtcclxuICAgIENvbG9yLkxpZ2h0UGluayA9IG5ldyBDb2xvcigyNTUsIDE4MiwgMTkzKTtcclxuICAgIENvbG9yLlBpbmsgPSBuZXcgQ29sb3IoMjU1LCAxOTIsIDIwMyk7XHJcbiAgICAvLyBSZWQgQ29sb3JzXHJcbiAgICBDb2xvci5EYXJrUmVkID0gbmV3IENvbG9yKDEzOSwgMCwgMCk7XHJcbiAgICBDb2xvci5SZWQgPSBuZXcgQ29sb3IoMjU1LCAwLCAwKTtcclxuICAgIENvbG9yLkZpcmVicmljayA9IG5ldyBDb2xvcigxNzgsIDM0LCAzNCk7XHJcbiAgICBDb2xvci5Dcmltc29uID0gbmV3IENvbG9yKDIyMCwgMjAsIDYwKTtcclxuICAgIENvbG9yLkluZGlhblJlZCA9IG5ldyBDb2xvcigyMDUsIDkyLCA5Mik7XHJcbiAgICBDb2xvci5MaWdodENvcmFsID0gbmV3IENvbG9yKDI0MCwgMTI4LCAxMjgpO1xyXG4gICAgQ29sb3IuU2FsbW9uID0gbmV3IENvbG9yKDI1MCwgMTI4LCAxMTQpO1xyXG4gICAgQ29sb3IuRGFya1NhbG1vbiA9IG5ldyBDb2xvcigyMzMsIDE1MCwgMTIyKTtcclxuICAgIENvbG9yLkxpZ2h0U2FsbW9uID0gbmV3IENvbG9yKDI1NSwgMTYwLCAxMjIpO1xyXG4gICAgLy8gT3JhbmdlIENvbG9yc1xyXG4gICAgQ29sb3IuT3JhbmdlUmVkID0gbmV3IENvbG9yKDI1NSwgNjksIDApO1xyXG4gICAgQ29sb3IuVG9tYXRvID0gbmV3IENvbG9yKDI1NSwgOTksIDcxKTtcclxuICAgIENvbG9yLkRhcmtPcmFuZ2UgPSBuZXcgQ29sb3IoMjU1LCAxNDAsIDApO1xyXG4gICAgQ29sb3IuQ29yYWwgPSBuZXcgQ29sb3IoMjU1LCAxMjcsIDgwKTtcclxuICAgIENvbG9yLk9yYW5nZSA9IG5ldyBDb2xvcigyNTUsIDE2NSwgMCk7XHJcbiAgICAvLyBZZWxsb3cgQ29sb3JzXHJcbiAgICBDb2xvci5EYXJrS2hha2kgPSBuZXcgQ29sb3IoMTg5LCAxODMsIDEwNyk7XHJcbiAgICBDb2xvci5Hb2xkID0gbmV3IENvbG9yKDI1NSwgMjE1LCAwKTtcclxuICAgIENvbG9yLktoYWtpID0gbmV3IENvbG9yKDI0MCwgMjMwLCAxNDApO1xyXG4gICAgQ29sb3IuUGVhY2hQdWZmID0gbmV3IENvbG9yKDI1NSwgMjE4LCAxODUpO1xyXG4gICAgQ29sb3IuWWVsbG93ID0gbmV3IENvbG9yKDI1NSwgMjU1LCAwKTtcclxuICAgIENvbG9yLlBhbGVHb2xkZW5yb2QgPSBuZXcgQ29sb3IoMjM4LCAyMzIsIDE3MCk7XHJcbiAgICBDb2xvci5Nb2NjYXNpbiA9IG5ldyBDb2xvcigyNTUsIDIyOCwgMTgxKTtcclxuICAgIENvbG9yLlBhcGF5YVdoaXAgPSBuZXcgQ29sb3IoMjU1LCAyMzksIDIxMyk7XHJcbiAgICBDb2xvci5MaWdodEdvbGRlbnJvZFllbGxvdyA9IG5ldyBDb2xvcigyNTAsIDI1MCwgMjEwKTtcclxuICAgIENvbG9yLkxlbW9uQ2hpZmZvbiA9IG5ldyBDb2xvcigyNTUsIDI1MCwgMjA1KTtcclxuICAgIENvbG9yLkxpZ2h0WWVsbG93ID0gbmV3IENvbG9yKDI1NSwgMjU1LCAyMjQpO1xyXG4gICAgLy8gQnJvd24gQ29sb3JzXHJcbiAgICBDb2xvci5NYXJvb24gPSBuZXcgQ29sb3IoMTI4LCAwLCAwKTtcclxuICAgIENvbG9yLkJyb3duID0gbmV3IENvbG9yKDE2NSwgNDIsIDQyKTtcclxuICAgIENvbG9yLlNhZGRsZUJyb3duID0gbmV3IENvbG9yKDEzOSwgNjksIDE5KTtcclxuICAgIENvbG9yLlNpZW5uYSA9IG5ldyBDb2xvcigxNjAsIDgyLCA0NSk7XHJcbiAgICBDb2xvci5DaG9jb2xhdGUgPSBuZXcgQ29sb3IoMjEwLCAxMDUsIDMwKTtcclxuICAgIENvbG9yLkRhcmtHb2xkZW5yb2QgPSBuZXcgQ29sb3IoMTg0LCAxMzQsIDExKTtcclxuICAgIENvbG9yLlBlcnUgPSBuZXcgQ29sb3IoMjA1LCAxMzMsIDYzKTtcclxuICAgIENvbG9yLlJvc3lCcm93biA9IG5ldyBDb2xvcigxODgsIDE0MywgMTQzKTtcclxuICAgIENvbG9yLkdvbGRlbnJvZCA9IG5ldyBDb2xvcigyMTgsIDE2NSwgMzIpO1xyXG4gICAgQ29sb3IuU2FuZHlCcm93biA9IG5ldyBDb2xvcigyNDQsIDE2NCwgOTYpO1xyXG4gICAgQ29sb3IuVGFuID0gbmV3IENvbG9yKDIxMCwgMTgwLCAxNDApO1xyXG4gICAgQ29sb3IuQnVybHl3b29kID0gbmV3IENvbG9yKDIyMiwgMTg0LCAxMzUpO1xyXG4gICAgQ29sb3IuV2hlYXQgPSBuZXcgQ29sb3IoMjQ1LCAyMjIsIDE3OSk7XHJcbiAgICBDb2xvci5OYXZham9XaGl0ZSA9IG5ldyBDb2xvcigyNTUsIDIyMiwgMTczKTtcclxuICAgIENvbG9yLkJpc3F1ZSA9IG5ldyBDb2xvcigyNTUsIDIyOCwgMTk2KTtcclxuICAgIENvbG9yLkJsYW5jaGVkQWxtb25kID0gbmV3IENvbG9yKDI1NSwgMjM1LCAyMDUpO1xyXG4gICAgQ29sb3IuQ29ybnNpbGsgPSBuZXcgQ29sb3IoMjU1LCAyNDgsIDIyMCk7XHJcbiAgICAvLyBQdXJwbGUvVmlvbGV0L01hZ2VudGEgQ29sb3JzXHJcbiAgICBDb2xvci5JbmRpZ28gPSBuZXcgQ29sb3IoNzUsIDAsIDEzMCk7XHJcbiAgICBDb2xvci5QdXJwbGUgPSBuZXcgQ29sb3IoMTI4LCAwLCAxMjgpO1xyXG4gICAgQ29sb3IuRGFya01hZ2VudGEgPSBuZXcgQ29sb3IoMTM5LCA5LCAxMzkpO1xyXG4gICAgQ29sb3IuRGFya1Zpb2xldCA9IG5ldyBDb2xvcigxNDgsIDAsIDIxMSk7XHJcbiAgICBDb2xvci5EYXJrU2xhdGVCbHVlID0gbmV3IENvbG9yKDcyLCA2MSwgMTI5KTtcclxuICAgIENvbG9yLkJsdWVWaW9sZXQgPSBuZXcgQ29sb3IoMTM4LCA0MywgMjI2KTtcclxuICAgIENvbG9yLkRhcmtPcmNoaWQgPSBuZXcgQ29sb3IoMTUzLCA1MCwgMjA0KTtcclxuICAgIENvbG9yLkZ1Y2hzaWEgPSBuZXcgQ29sb3IoMjU1LCAwLCAyNTUpO1xyXG4gICAgQ29sb3IuTWFnZW50YSA9IG5ldyBDb2xvcigyNTUsIDAsIDI1NSk7IC8vIEFsaWFzIEZ1Y2hzaWFcclxuICAgIENvbG9yLlNsYXRlQmx1ZSA9IG5ldyBDb2xvcigxMDYsIDkwLCAyMDUpO1xyXG4gICAgQ29sb3IuTWVkaXVtU2xhdGVCbHVlID0gbmV3IENvbG9yKDEyMywgMTA0LCAyMzgpO1xyXG4gICAgQ29sb3IuTWVkaXVtT3JjaGlkID0gbmV3IENvbG9yKDE4NiwgODUsIDIxMSk7XHJcbiAgICBDb2xvci5NZWRpdW1QdXJwbGUgPSBuZXcgQ29sb3IoMTQ3LCAxMTIsIDIxOSk7XHJcbiAgICBDb2xvci5PcmNoaWQgPSBuZXcgQ29sb3IoMjE4LCAxMSwgMjE0KTtcclxuICAgIENvbG9yLlZpb2xldCA9IG5ldyBDb2xvcigyMzgsIDEzMCwgMjM4KTtcclxuICAgIENvbG9yLlBsdW0gPSBuZXcgQ29sb3IoMjIxLCAxNjAsIDIyMSk7XHJcbiAgICBDb2xvci5UaGlzdGxlID0gbmV3IENvbG9yKDIxNiwgMTkxLCAyMTYpO1xyXG4gICAgQ29sb3IuTGF2ZW5kZXIgPSBuZXcgQ29sb3IoMjMwLCAyMzAsIDI1MCk7XHJcbiAgICAvLyBXaGl0ZSBDb2xvcnNcclxuICAgIENvbG9yLk1pc3R5Um9zZSA9IG5ldyBDb2xvcigyNTUsIDIyOCwgMjI1KTtcclxuICAgIENvbG9yLkFudGlxdWVXaGl0ZSA9IG5ldyBDb2xvcigyNTAsIDIzNSwgMjE1KTtcclxuICAgIENvbG9yLkxpbmVuID0gbmV3IENvbG9yKDI1MCwgMjQwLCAyMzApO1xyXG4gICAgQ29sb3IuQmVpZ2UgPSBuZXcgQ29sb3IoMjQ1LCAyNDUsIDIyMCk7XHJcbiAgICBDb2xvci5XaGl0ZVNtb2tlID0gbmV3IENvbG9yKDI0NSwgMjQ1LCAyNDUpO1xyXG4gICAgQ29sb3IuTGF2ZW5kZXJCbHVzaCA9IG5ldyBDb2xvcigyNTUsIDI0MCwgMjQ1KTtcclxuICAgIENvbG9yLk9sZExhY2UgPSBuZXcgQ29sb3IoMjUzLCAyNDUsIDIzMCk7XHJcbiAgICBDb2xvci5BbGljZUJsdWUgPSBuZXcgQ29sb3IoMjQwLCAyNDgsIDI1NSk7XHJcbiAgICBDb2xvci5TZWFzaGVsbCA9IG5ldyBDb2xvcigyNTUsIDI0NSwgMjM4KTtcclxuICAgIENvbG9yLkdob3N0V2hpdGUgPSBuZXcgQ29sb3IoMjQ4LCAyNDgsIDI1NSk7XHJcbiAgICBDb2xvci5Ib25leWRldyA9IG5ldyBDb2xvcigyNDAsIDI1NSwgMjQwKTtcclxuICAgIENvbG9yLkZsb3JhbFdoaXRlID0gbmV3IENvbG9yKDI1NSwgMjUwLCAyNDApO1xyXG4gICAgQ29sb3IuQXp1cmUgPSBuZXcgQ29sb3IoMjQwLCAyNTUsIDI1NSk7XHJcbiAgICBDb2xvci5NaW50Q3JlYW0gPSBuZXcgQ29sb3IoMjQ1LCAyNTUsIDI1MCk7XHJcbiAgICBDb2xvci5Tbm93ID0gbmV3IENvbG9yKDI1NSwgMjUwLCAyNTApO1xyXG4gICAgQ29sb3IuSXZvcnkgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI0MCk7XHJcbiAgICBDb2xvci5XaGl0ZSA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMjU1KTtcclxuICAgIC8vIEdyZXkgKyBCbGFjayBDb2xvcnNcclxuICAgIENvbG9yLkJsYWNrID0gbmV3IENvbG9yKDAsIDAsIDApO1xyXG4gICAgQ29sb3IuRGFya1NsYXRlR3JheSA9IG5ldyBDb2xvcig0NywgNzksIDc5KTtcclxuICAgIENvbG9yLkRpbUdyYXkgPSBuZXcgQ29sb3IoMTA1LCAxMDUsIDEwNSk7XHJcbiAgICBDb2xvci5TbGF0ZUdyYXkgPSBuZXcgQ29sb3IoMTEyLCAxMjgsIDE0NCk7XHJcbiAgICBDb2xvci5HcmF5ID0gbmV3IENvbG9yKDEyOCwgMTI4LCAxMjgpO1xyXG4gICAgQ29sb3IuTGlnaHRTbGF0ZUdyYXkgPSBuZXcgQ29sb3IoMTE5LCAxMzYsIDE1Myk7XHJcbiAgICBDb2xvci5EYXJrR3JheSA9IG5ldyBDb2xvcigxNjksIDE2OSwgMTY5KTtcclxuICAgIENvbG9yLlNpbHZlciA9IG5ldyBDb2xvcigxOTIsIDE5MiwgMTkyKTtcclxuICAgIENvbG9yLkxpZ2h0R3JheSA9IG5ldyBDb2xvcigyMTEsIDIxMSwgMjExKTtcclxuICAgIENvbG9yLkdhaW5zYm9ybyA9IG5ldyBDb2xvcigyMjAsIDIyMCwgMjIwKTtcclxuICAgIC8vIEdyZWVuIENvbG9yc1xyXG4gICAgQ29sb3IuRGFya0dyZWVuID0gbmV3IENvbG9yKDAsIDEwMCwgMCk7XHJcbiAgICBDb2xvci5HcmVlbiA9IG5ldyBDb2xvcigwLCAxMjgsIDApO1xyXG4gICAgQ29sb3IuRGFya09saXZlR3JlZW4gPSBuZXcgQ29sb3IoODUsIDEwNywgNDcpO1xyXG4gICAgQ29sb3IuRm9yZXN0R3JlZW4gPSBuZXcgQ29sb3IoMzQsIDEzOSwgMzQpO1xyXG4gICAgQ29sb3IuU2VhR3JlZW4gPSBuZXcgQ29sb3IoNDYsIDEzOSwgODcpO1xyXG4gICAgQ29sb3IuT2xpdmUgPSBuZXcgQ29sb3IoMTI4LCAxMjgsIDApO1xyXG4gICAgQ29sb3IuT2xpdmVEcmFiID0gbmV3IENvbG9yKDEwNywgMTQyLCAzNSk7XHJcbiAgICBDb2xvci5NZWRpdW1TZWFHcmVlbiA9IG5ldyBDb2xvcig2MCwgMTc5LCAxMTMpO1xyXG4gICAgQ29sb3IuTGltZUdyZWVuID0gbmV3IENvbG9yKDUwLCAyMDUsIDUwKTtcclxuICAgIENvbG9yLkxpbWUgPSBuZXcgQ29sb3IoMCwgMjU1LCAwKTtcclxuICAgIENvbG9yLlNwcmluZ0dyZWVuID0gbmV3IENvbG9yKDAsIDI1NSwgMTI3KTtcclxuICAgIENvbG9yLk1lZGl1bVNwcmluZ0dyZWVuID0gbmV3IENvbG9yKDAsIDI1MCwgMTU0KTtcclxuICAgIENvbG9yLkRhcmtTZWFHcmVlbiA9IG5ldyBDb2xvcigxNDMsIDE4OCwgMTQzKTtcclxuICAgIENvbG9yLk1lZGl1bUFxdWFtYXJpbmUgPSBuZXcgQ29sb3IoMTAyLCAyMDUsIDE3MCk7XHJcbiAgICBDb2xvci5ZZWxsb3dHcmVlbiA9IG5ldyBDb2xvcigxNTQsIDIwNSwgNTApO1xyXG4gICAgQ29sb3IuTGF3bkdyZWVuID0gbmV3IENvbG9yKDEyNCwgMjUyLCAwKTtcclxuICAgIENvbG9yLkNoYXJ0cmV1c2UgPSBuZXcgQ29sb3IoMTI3LCAyNTUsIDApO1xyXG4gICAgQ29sb3IuTGlnaHRHcmVlbiA9IG5ldyBDb2xvcigxMzMsIDIzOCwgMTQ0KTtcclxuICAgIENvbG9yLkdyZWVuWWVsbG93ID0gbmV3IENvbG9yKDE3MywgMjU1LCA0Nyk7XHJcbiAgICBDb2xvci5QYWxlR3JlZW4gPSBuZXcgQ29sb3IoMTUyLCAyNTEsIDE1Mik7XHJcbiAgICAvLyBDeWFuIENvbG9yc1xyXG4gICAgQ29sb3IuVGVhbCA9IG5ldyBDb2xvcigwLCAxMjgsIDEyOCk7XHJcbiAgICBDb2xvci5EYXJrQ3lhbiA9IG5ldyBDb2xvcigwLCAxMzksIDEzOSk7XHJcbiAgICBDb2xvci5MaWdodFNlYUdyZWVuID0gbmV3IENvbG9yKDMyLCAxNzgsIDE3MCk7XHJcbiAgICBDb2xvci5DYWRldEJsdWUgPSBuZXcgQ29sb3IoOTUsIDE1OCwgMTYwKTtcclxuICAgIENvbG9yLkRhcmtUdXJxdW9pc2UgPSBuZXcgQ29sb3IoMCwgMjA2LCAyMDkpO1xyXG4gICAgQ29sb3IuTWVkaXVtVHVycXVvaXNlID0gbmV3IENvbG9yKDcyLCAyMDksIDIwNCk7XHJcbiAgICBDb2xvci5UdXJxdW9pc2UgPSBuZXcgQ29sb3IoNjQsIDIyNCwgMjA4KTtcclxuICAgIENvbG9yLkFxdWEgPSBuZXcgQ29sb3IoMCwgMjU1LCAyNTUpO1xyXG4gICAgQ29sb3IuQ3lhbiA9IG5ldyBDb2xvcigwLCAyNTUsIDI1NSk7XHJcbiAgICBDb2xvci5BcXVhbWFyaW5lID0gbmV3IENvbG9yKDEyNywgMjU1LCAyMTIpO1xyXG4gICAgQ29sb3IuUGFsZVR1cnF1b2lzZSA9IG5ldyBDb2xvcigxNzUsIDIzOCwgMjM4KTtcclxuICAgIENvbG9yLkxpZ2h0Q3lhbiA9IG5ldyBDb2xvcigyNDQsIDI1NSwgMjU1KTtcclxuICAgIC8vIEJsdWUgQ29sb3JzXHJcbiAgICBDb2xvci5OYXZ5ID0gbmV3IENvbG9yKDAsIDAsIDEyOCk7XHJcbiAgICBDb2xvci5EYXJrQmx1ZSA9IG5ldyBDb2xvcigwLCAwLCAxMzkpO1xyXG4gICAgQ29sb3IuTWVkaXVtQmx1ZSA9IG5ldyBDb2xvcigwLCAwLCAyMDUpO1xyXG4gICAgQ29sb3IuQmx1ZSA9IG5ldyBDb2xvcigwLCAwLCAyMjUpO1xyXG4gICAgQ29sb3IuTWlkbmlnaHRCbHVlID0gbmV3IENvbG9yKDI1LCAyNSwgMTEyKTtcclxuICAgIENvbG9yLlJveWFsQmx1ZSA9IG5ldyBDb2xvcig2NSwgMTA1LCAyMjUpO1xyXG4gICAgQ29sb3IuU3RlZWxCbHVlID0gbmV3IENvbG9yKDcwLCAxMzAsIDE4MCk7XHJcbiAgICBDb2xvci5Eb2RnZXJCbHVlID0gbmV3IENvbG9yKDMwLCAxNDQsIDI1NSk7XHJcbiAgICBDb2xvci5EZWVwU2t5Qmx1ZSA9IG5ldyBDb2xvcigwLCAxOTEsIDI1NSk7XHJcbiAgICBDb2xvci5Db3JuZmxvd2VyQmx1ZSA9IG5ldyBDb2xvcigxMDAsIDE0OSwgMjM3KTtcclxuICAgIENvbG9yLlNreUJsdWUgPSBuZXcgQ29sb3IoMTM1LCAyMDYsIDIzNSk7XHJcbiAgICBDb2xvci5MaWdodFNreUJsdWUgPSBuZXcgQ29sb3IoMTM1LCAyMDYsIDI1MCk7XHJcbiAgICBDb2xvci5MaWdodFN0ZWVsQmx1ZSA9IG5ldyBDb2xvcigxNzYsIDE5NiwgMjIyKTtcclxuICAgIENvbG9yLkxpZ2h0Qmx1ZSA9IG5ldyBDb2xvcigxNzMsIDIxNiwgMjMwKTtcclxuICAgIENvbG9yLlBvd2RlckJsdWUgPSBuZXcgQ29sb3IoMTc2LCAyMjQsIDIzMCk7XHJcbiAgICByZXR1cm4gQ29sb3I7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yLmpzLm1hcFxuXG4vKipcclxuICogUmVwcmVzZW50cyBhIGdseXBoIHRvIGJlIGRyYXduIHRvIHRoZSBzY3JlZW4uXHJcbiAqL1xyXG52YXIgR2x5cGggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBHbHlwaCBmcm9tIGEgc2luZ2xlIGNoYXJhY3Rlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2hhciAtIEEgc2luZ2xlIGNoYXJhY3Rlci5cclxuICAgICAqIEBwYXJhbSBmb3JlIC0gQSBmb3JlZ3JvdW5kIGNvbG9yIChkZWZhdWx0IHdoaXRlKVxyXG4gICAgICogQHBhcmFtIGJhY2sgLSBBIGJhY2tncm91bmQgY29sb3IgKGRlZmF1bHQgYmxhY2spXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEdseXBoKGNoYXIsIGZvcmUsIGJhY2spIHtcclxuICAgICAgICBpZiAoZm9yZSA9PT0gdm9pZCAwKSB7IGZvcmUgPSBDb2xvci5XaGl0ZTsgfVxyXG4gICAgICAgIGlmIChiYWNrID09PSB2b2lkIDApIHsgYmFjayA9IENvbG9yLkJsYWNrOyB9XHJcbiAgICAgICAgdGhpcy5jaGFyID0gY2hhci5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgIHRoaXMuZm9yZSA9IGZvcmU7XHJcbiAgICAgICAgdGhpcy5iYWNrID0gYmFjaztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGdseXBoIGZyb20gYSBjaGFyQ29kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2hhciAtIEEgbnVtYmVyIHJlcHJlc2VudGluZyBhIGNoYXJDb2RlLlxyXG4gICAgICogQHBhcmFtIGZvcmUgLSBBIGZvcmVncm91bmQgY29sb3IgKGRlZmF1bHQgd2hpdGUpXHJcbiAgICAgKiBAcGFyYW0gYmFjayAtIEEgYmFja2dyb3VuZCBjb2xvciAoZGVmYXVsdCBibGFjaylcclxuICAgICAqL1xyXG4gICAgR2x5cGguZnJvbUNoYXJDb2RlID0gZnVuY3Rpb24gKGNoYXIsIGZvcmUsIGJhY2spIHtcclxuICAgICAgICBpZiAoZm9yZSA9PT0gdm9pZCAwKSB7IGZvcmUgPSBDb2xvci5XaGl0ZTsgfVxyXG4gICAgICAgIGlmIChiYWNrID09PSB2b2lkIDApIHsgYmFjayA9IENvbG9yLkJsYWNrOyB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHbHlwaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXIpLCBmb3JlLCBiYWNrKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdHdvIGdseXBocyBhcmUgZXF1YWwuXHJcbiAgICAgKiBAcGFyYW0gb3RoZXIgR2x5cGggLSBUaGUgb3RoZXIgZ2x5cGguXHJcbiAgICAgKi9cclxuICAgIEdseXBoLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKG90aGVyKSB7XHJcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgR2x5cGggPT09IGZhbHNlKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNoYXIgPT09IG90aGVyLmNoYXIgJiZcclxuICAgICAgICAgICAgdGhpcy5mb3JlLmlzRXF1YWwob3RoZXIuZm9yZSkgJiZcclxuICAgICAgICAgICAgdGhpcy5iYWNrLmlzRXF1YWwob3RoZXIuYmFjaykpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHbHlwaDtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2x5cGguanMubWFwXG5cbnZhciBCYXNlVGVybWluYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCYXNlVGVybWluYWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICB0aGlzLndpZHRoID0gY29uZmlnLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY29uZmlnLmhlaWdodDtcclxuICAgICAgICB0aGlzLmZvcmVDb2xvciA9IChfYSA9IGNvbmZpZy5mb3JlQ29sb3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IENvbG9yLldoaXRlO1xyXG4gICAgICAgIHRoaXMuYmFja0NvbG9yID0gKF9iID0gY29uZmlnLmJhY2tDb2xvcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogQ29sb3IuQmxhY2s7XHJcbiAgICB9XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgeTogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZmlsbCh7IHg6IDAsIHk6IDAgfSwgeyB4OiB0aGlzLndpZHRoIC0gMSwgeTogdGhpcy5oZWlnaHQgLSAxIH0sIG5ldyBHbHlwaChcIiBcIikpO1xyXG4gICAgfTtcclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uICh2MSwgdjIsIGdseXBoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IHYxLng7IHggPD0gdjIueDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSB2MS55OyB5IDw9IHYyLnk7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R2x5cGgoeyB4OiB4LCB5OiB5IH0sIGdseXBoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLndyaXRlQXQgPSBmdW5jdGlvbiAocG9zLCB0ZXh0LCBmb3JlLCBiYWNrKSB7XHJcbiAgICAgICAgaWYgKGZvcmUgPT09IHZvaWQgMCkgeyBmb3JlID0gdGhpcy5mb3JlQ29sb3I7IH1cclxuICAgICAgICBpZiAoYmFjayA9PT0gdm9pZCAwKSB7IGJhY2sgPSB0aGlzLmJhY2tDb2xvcjsgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocG9zLnggKyBpID49IHRoaXMud2lkdGgpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgdGhpcy5kcmF3R2x5cGgoe1xyXG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyBpLFxyXG4gICAgICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIH0sIEdseXBoLmZyb21DaGFyQ29kZSh0ZXh0LmNoYXJDb2RlQXQoaSksIGZvcmUsIGJhY2spKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS5wb3J0ID0gZnVuY3Rpb24gKHBvcywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9ydFRlcm1pbmFsKHBvcywgeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH0sIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUuZHJhd0NoYXJDb2RlID0gZnVuY3Rpb24gKHBvcywgY2hhckNvZGUsIGZvcmVDb2xvciwgYmFja0NvbG9yKSB7XHJcbiAgICAgICAgaWYgKGZvcmVDb2xvciA9PT0gdm9pZCAwKSB7IGZvcmVDb2xvciA9IHRoaXMuZm9yZUNvbG9yOyB9XHJcbiAgICAgICAgaWYgKGJhY2tDb2xvciA9PT0gdm9pZCAwKSB7IGJhY2tDb2xvciA9IHRoaXMuYmFja0NvbG9yOyB9XHJcbiAgICAgICAgdGhpcy5kcmF3R2x5cGgocG9zLCBHbHlwaC5mcm9tQ2hhckNvZGUoY2hhckNvZGUsIGZvcmVDb2xvciwgYmFja0NvbG9yKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2VUZXJtaW5hbDtcclxufSgpKTtcclxudmFyIFJlbmRlcmFibGVUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZW5kZXJhYmxlVGVybWluYWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZW5kZXJhYmxlVGVybWluYWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlbmRlcmFibGVUZXJtaW5hbDtcclxufShCYXNlVGVybWluYWwpKTtcclxudmFyIFBvcnRUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQb3J0VGVybWluYWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQb3J0VGVybWluYWwocG9zLCBzaXplLCByb290KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgeyB3aWR0aDogc2l6ZS54LCBoZWlnaHQ6IHNpemUueSB9KSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLl94ID0gcG9zLng7XHJcbiAgICAgICAgX3RoaXMuX3kgPSBwb3MueTtcclxuICAgICAgICBfdGhpcy5wb3J0U2l6ZSA9IHNpemU7XHJcbiAgICAgICAgX3RoaXMucm9vdCA9IHJvb3Q7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUG9ydFRlcm1pbmFsLnByb3RvdHlwZS5kcmF3R2x5cGggPSBmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgIGlmIChwb3MueCA8IDAgfHwgcG9zLnggPj0gdGhpcy53aWR0aClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChwb3MueSA8IDAgfHwgcG9zLnkgPj0gdGhpcy5oZWlnaHQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnJvb3QuZHJhd0dseXBoKHsgeDogdGhpcy5feCArIHBvcy54LCB5OiB0aGlzLl95ICsgcG9zLnkgfSwgZ2x5cGgpO1xyXG4gICAgfTtcclxuICAgIFBvcnRUZXJtaW5hbC5wcm90b3R5cGUucG9ydCA9IGZ1bmN0aW9uIChwb3MsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvcnRUZXJtaW5hbCh7XHJcbiAgICAgICAgICAgIHg6IHRoaXMuX3ggKyBwb3MueCxcclxuICAgICAgICAgICAgeTogdGhpcy5feSArIHBvcy55LFxyXG4gICAgICAgIH0sIHsgeDogd2lkdGgsIHk6IGhlaWdodCB9LCB0aGlzLnJvb3QpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQb3J0VGVybWluYWw7XHJcbn0oQmFzZVRlcm1pbmFsKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlcm1pbmFsLmpzLm1hcFxuXG52YXIgVGFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUYWJsZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAvLyBUb0RvIC0gSW5pdGlhbGl6ZSBlbXB0eSBhcnJheVxyXG4gICAgfVxyXG4gICAgVGFibGUucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgeCA9IF9hLngsIHkgPSBfYS55O1xyXG4gICAgICAgIGlmICghdGhpcy5pc0luQm91bmRzKHsgeDogeCwgeTogeSB9KSlcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgaW5kZXggPSB5ICogdGhpcy53aWR0aCArIHg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNbaW5kZXhdO1xyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocG9zLCBpdGVtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbkJvdW5kcyhwb3MpID09PSBmYWxzZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBvcy54ICsgXCI6XCIgKyBwb3MueSArIFwiIGlzIG5vdCBpbiBib3VuZHNcIik7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gcG9zLnkgKiB0aGlzLndpZHRoICsgcG9zLng7XHJcbiAgICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0gPSBpdGVtO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaXRlbXNbaW5kZXhdO1xyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5pc0luQm91bmRzID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIHggPSBfYS54LCB5ID0gX2EueTtcclxuICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLndpZHRoIHx8IHkgPCAwIHx8IHkgPj0gdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXROZWlnaGJvcnMgPSBmdW5jdGlvbiAocG9zLCBwcmVkaWNhdGUsIHRvcG9sb2d5KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodG9wb2xvZ3kgPT09IHZvaWQgMCkgeyB0b3BvbG9neSA9IFwiZWlnaHRcIjsgfVxyXG4gICAgICAgIHZhciBuZWlnaGJvcnMgPSBbXTtcclxuICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgfSk7XHJcbiAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCwgeTogcG9zLnkgKyAtMSB9KTtcclxuICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgLTEsIHk6IHBvcy55IH0pO1xyXG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLngsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICBpZiAodG9wb2xvZ3kgPT09IFwiZWlnaHRcIikge1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgLSAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgLTEsIHk6IHBvcy55ICsgLTEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAtMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZWlnaGJvcnMgPSBuZWlnaGJvcnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiBfdGhpcy5pc0luQm91bmRzKHYpOyB9KTtcclxuICAgICAgICBpZiAocHJlZGljYXRlKSB7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycyA9IG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHByZWRpY2F0ZSh2LCBfdGhpcy5nZXQodikpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5laWdoYm9ycztcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZmxvb2RGaWxsU2VsZWN0ID0gZnVuY3Rpb24gKHBvcywgdGFyZ2V0VmFsdWUpIHtcclxuICAgICAgICBpZiAoIXRhcmdldFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGhpcy5nZXQocG9zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgZ2l2ZW4gYSB0YXJnZXQgdmFsdWUsIG11c3QgbWF0Y2ggc3RhcnQgcG9zaXRpb25cclxuICAgICAgICBpZiAodGhpcy5nZXQocG9zKSAhPT0gdGFyZ2V0VmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaG9yaXpvbiA9IFtwb3NdO1xyXG4gICAgICAgIC8vIFwieDp5XCIsIGZvciBxdWljayBpbmRleGluZ1xyXG4gICAgICAgIHZhciBmbG9vZEZpbGwgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgd2hpbGUgKGhvcml6b24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludCA9IGhvcml6b24uc2hpZnQoKTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQocG9pbnQpO1xyXG4gICAgICAgICAgICAvLyBJZiBub3QgdGhlIHJpZ2h0IHR5cGUgb2YgdmFsdWUsIHdlJ3JlIGRvbmUuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGFyZ2V0VmFsdWUpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBtYXJrZWQgdGhpcyBzcG90XHJcbiAgICAgICAgICAgIGlmIChmbG9vZEZpbGwuaGFzKHBvaW50LnggKyBcIjpcIiArIHBvaW50LnkpKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHRoZSBwcm9wZXIgdmFsdWUsIGNvbGxlY3QgaXRcclxuICAgICAgICAgICAgZmxvb2RGaWxsLmFkZChwb2ludC54ICsgXCI6XCIgKyBwb2ludC55KTtcclxuICAgICAgICAgICAgLy8gVGhlIGFkZCBpdCdzIG5laWdoYm9ycyB0byB0aGUgc2VhcmNoIGhvcml6b25cclxuICAgICAgICAgICAgdmFyIG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKHBvaW50LCB1bmRlZmluZWQsIFwiZm91clwiKTtcclxuICAgICAgICAgICAgaG9yaXpvbi5wdXNoLmFwcGx5KGhvcml6b24sIG5laWdoYm9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmaWxsID0gQXJyYXkuZnJvbShmbG9vZEZpbGwua2V5cygpKS5tYXAoZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBzdHIuc3BsaXQoXCI6XCIpLCB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5wYXJzZUludCh4KSxcclxuICAgICAgICAgICAgICAgIHk6IE51bWJlci5wYXJzZUludCh5KSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmlsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGFibGU7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhYmxlLmpzLm1hcFxuXG4vKiogUmVwcmVzZW50cyBnbHlwaCBkYXRhLCBhZ25vc3RpYyB0byBob3cgaXQgaXMgcmVuZGVyZWQuICovXHJcbnZhciBEaXNwbGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IERpc3BsYXlcclxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFRoZSBudW1iZXIgb2YgZ2x5cGhzIHdpZGUgdGhlIGRpc3BsYXkgaXNcclxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgbnVtYmVyIG9mIGdseXBocyB0YWxsIHRoZSBkaXNwbGF5IGlzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIERpc3BsYXkod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmdseXBocyA9IG5ldyBUYWJsZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNoYW5nZWRHbHlwaHMgPSBuZXcgVGFibGUod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB3aWR0aC9oZWlnaHQgb2YgdGhlIGRpc3BsYXkuXHJcbiAgICAgKi9cclxuICAgIERpc3BsYXkucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogdGhpcy53aWR0aCwgeTogdGhpcy5oZWlnaHQgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSBzaW5nbGUgZ2x5cGggaW4gdGhlIGRpc3BsYXkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBvcyBWZWN0b3IyIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBHbHlwaFxyXG4gICAgICogQHBhcmFtIGdseXBoIEdseXBoIC0gVGhlIEdseXBoXHJcbiAgICAgKi9cclxuICAgIERpc3BsYXkucHJvdG90eXBlLnNldEdseXBoID0gZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICBpZiAodGhpcy5nbHlwaHMuaXNJbkJvdW5kcyhwb3MpID09PSBmYWxzZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChnbHlwaC5pc0VxdWFsKHRoaXMuZ2x5cGhzLmdldChwb3MpKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRHbHlwaHMuc2V0KHBvcywgdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZEdseXBocy5zZXQocG9zLCBnbHlwaCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCB4L3kvZ2x5cGggcGFpci5cclxuICAgICAqIFRoZSB0ZXJtaW5hbCBuZWVkcyB0byBkZWNpZGUgaG93IHRvIHJlbmRlciB0aGUgZGlzcGxheS5cclxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgYm90dG9tIHRvIHRvcCwgcmlnaHQgdG8gbGVmdC5cclxuICAgICAqL1xyXG4gICAgRGlzcGxheS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IHRoaXMud2lkdGggLSAxOyB4ID49IDA7IHgtLSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdseXBoID0gdGhpcy5jaGFuZ2VkR2x5cGhzLmdldCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdseXBoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soeyB4OiB4LCB5OiB5IH0sIGdseXBoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2x5cGhzLnNldCh7IHg6IHgsIHk6IHkgfSwgZ2x5cGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkR2x5cGhzLnNldCh7IHg6IHgsIHk6IHkgfSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGlzcGxheTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxheS5qcy5tYXBcblxudmFyIEZvbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGb250KGZhbWlseSwgc2l6ZSwgY2hhcldpZHRoLCBoZWlnaHQsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLmZhbWlseSA9IGZhbWlseTtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuY2hhcldpZHRoID0gY2hhcldpZHRoO1xyXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRm9udDtcclxufSgpKTtcclxuLyoqXHJcbiAqIFJlbmRlcnMgYSBkaXNwbGF5IGJ5IHdyaXRpbmcgZm9udHMgdG8gYSBjYW52YXMuXHJcbiAqL1xyXG52YXIgQ2FudmFzVGVybWluYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FudmFzVGVybWluYWwsIF9zdXBlcik7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ2FudmFzVGVybWluYWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSBjb25maWcgZm9yIHRoZSBDYW52YXNUZXJtaW5hbFxyXG4gICAgICogQHBhcmFtIGNvbmZpZy53aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgdGVybWluYWwgaW4gY2hhcmFjdGVycy5cclxuICAgICAqIEBwYXJhbSBjb25maWcuaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgdGVybWluYWwgaW4gY2hhcmFjdGVycy5cclxuICAgICAqIEBwYXJhbSBjb25maWcuZm9udCBGb250IC0gQSBmb250IG9iamVjdFxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5tb3VudE5vZGUgLSBXaWxsIG1vdW50IHRoZSBjYW52YXMgYXMgYSBjaGlsZCBvZiB0aGlzIG5vZGUgaWYgcHJvdmlkZWQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENhbnZhc1Rlcm1pbmFsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zY2FsZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIF90aGlzLmRpc3BsYXkgPSBuZXcgRGlzcGxheShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xyXG4gICAgICAgIF90aGlzLmZvbnQgPSBjb25maWcuZm9udDtcclxuICAgICAgICBfdGhpcy5jYW52YXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB2YXIgY2FudmFzV2lkdGggPSBfdGhpcy5mb250LmNoYXJXaWR0aCAqIF90aGlzLmRpc3BsYXkud2lkdGg7XHJcbiAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IF90aGlzLmZvbnQubGluZUhlaWdodCAqIF90aGlzLmRpc3BsYXkuaGVpZ2h0O1xyXG4gICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogX3RoaXMuc2NhbGU7XHJcbiAgICAgICAgX3RoaXMuY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIF90aGlzLnNjYWxlO1xyXG4gICAgICAgIF90aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IGNhbnZhc1dpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIF90aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgLy8gTW91bnQgdGhlIGNhbnZhc1xyXG4gICAgICAgIGlmIChjb25maWcubW91bnROb2RlKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5tb3VudE5vZGUuYXBwZW5kQ2hpbGQoX3RoaXMuY2FudmFzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF90aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRHJhd3MgYSBnbHlwaCBvbiB0aGUgZGlzcGxheS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcG9zIFZlY3RvcjIgLSBQb3NpdGlvbiBvZiB0aGUgR2x5cGhcclxuICAgICAqIEBwYXJhbSBnbHlwaCBHbHlwaCAtIFRoZSBHbHlwaCB0byByZW5kZXJcclxuICAgICAqL1xyXG4gICAgQ2FudmFzVGVybWluYWwucHJvdG90eXBlLmRyYXdHbHlwaCA9IGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5LnNldEdseXBoKHBvcywgZ2x5cGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyB0aGUgZGlzcGxheSB0byB0aGUgY2FudmFzLlxyXG4gICAgICogVXN1YWxseSBkcmF3biBvbmNlIHBlciBhbmltYXRpb24gZnJhbWUuXHJcbiAgICAgKi9cclxuICAgIENhbnZhc1Rlcm1pbmFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IHRoaXMuZm9udC5zaXplICogdGhpcy5zY2FsZSArIFwicHggXCIgKyB0aGlzLmZvbnQuZmFtaWx5ICsgXCIsIG1vbm9zcGFjZVwiO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheS5yZW5kZXIoZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICAgICAgLy8gRmlsbCB0aGUgYmFja2dyb3VuZFxyXG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGdseXBoLmJhY2suY3NzQ29sb3IoKTtcclxuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5maWxsUmVjdChwb3MueCAqIF90aGlzLmZvbnQuY2hhcldpZHRoICogX3RoaXMuc2NhbGUsIHBvcy55ICogX3RoaXMuZm9udC5saW5lSGVpZ2h0ICogX3RoaXMuc2NhbGUsIF90aGlzLmZvbnQuY2hhcldpZHRoICogX3RoaXMuc2NhbGUsIF90aGlzLmZvbnQubGluZUhlaWdodCAqIF90aGlzLnNjYWxlKTtcclxuICAgICAgICAgICAgLy8gRG9udCBib3RoZXIgZHJhd2luZyBlbXB0eSBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIGlmIChnbHlwaC5jaGFyID09PSAwIHx8IFwiIFwiLmNoYXJDb2RlQXQoMCkgPT09IGdseXBoLmNoYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGaWxsIHRoZSBjaGFyXHJcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gZ2x5cGguZm9yZS5jc3NDb2xvcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmZpbGxUZXh0KFN0cmluZy5mcm9tQ2hhckNvZGUoZ2x5cGguY2hhciksIChwb3MueCAqIF90aGlzLmZvbnQuY2hhcldpZHRoICsgX3RoaXMuZm9udC54KSAqIF90aGlzLnNjYWxlLCAocG9zLnkgKiBfdGhpcy5mb250LmxpbmVIZWlnaHQgKyBfdGhpcy5mb250LnkpICogX3RoaXMuc2NhbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY2hhcmFjdGVyIHBvc2l0aW9uIGdpdmVuIGEgcGl4ZWwgY29vcmRpbmF0ZS5cclxuICAgICAqL1xyXG4gICAgQ2FudmFzVGVybWluYWwucHJvdG90eXBlLnBpeGVsVG9DaGFyID0gZnVuY3Rpb24gKHBpeGVsKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKChwaXhlbC54IC0gcmVjdC5sZWZ0KSAvIHRoaXMuZm9udC5jaGFyV2lkdGgpLFxyXG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKChwaXhlbC55IC0gcmVjdC50b3ApIC8gdGhpcy5mb250LmxpbmVIZWlnaHQpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXJtaW5hbCwgcmVtb3ZpbmcgdGhlIGNhbnZhcy5cclxuICAgICAqL1xyXG4gICAgQ2FudmFzVGVybWluYWwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gdGhpcy5jYW52YXMucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FudmFzVGVybWluYWw7XHJcbn0oUmVuZGVyYWJsZVRlcm1pbmFsKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy10ZXJtaW5hbC5qcy5tYXBcblxuLy8vIFVuaWNvZGUgY29kZSBwb2ludHMgZm9yIHZhcmlvdXMgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoYXQgYWxzbyBleGlzdCBvblxyXG4vLy8gW2NvZGUgcGFnZSA0MzddW2ZvbnRdLlxyXG4vLy9cclxuLy8vIFtmb250XTogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2RlX3BhZ2VfNDM3XHJcbnZhciBDaGFyQ29kZTtcclxuKGZ1bmN0aW9uIChDaGFyQ29kZSkge1xyXG4gICAgLy8gMSAtIDE1LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ3aGl0ZVNtaWxpbmdGYWNlXCJdID0gOTc4Nl0gPSBcIndoaXRlU21pbGluZ0ZhY2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tTbWlsaW5nRmFjZVwiXSA9IDk3ODddID0gXCJibGFja1NtaWxpbmdGYWNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrSGVhcnRTdWl0XCJdID0gOTgyOV0gPSBcImJsYWNrSGVhcnRTdWl0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrRGlhbW9uZFN1aXRcIl0gPSA5ODMwXSA9IFwiYmxhY2tEaWFtb25kU3VpdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja0NsdWJTdWl0XCJdID0gOTgyN10gPSBcImJsYWNrQ2x1YlN1aXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tTcGFkZVN1aXRcIl0gPSA5ODI0XSA9IFwiYmxhY2tTcGFkZVN1aXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYnVsbGV0XCJdID0gODIyNl0gPSBcImJ1bGxldFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbnZlcnNlQnVsbGV0XCJdID0gOTY4OF0gPSBcImludmVyc2VCdWxsZXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wid2hpdGVDaXJjbGVcIl0gPSA5Njc1XSA9IFwid2hpdGVDaXJjbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW52ZXJzZVdoaXRlQ2lyY2xlXCJdID0gOTY4OV0gPSBcImludmVyc2VXaGl0ZUNpcmNsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtYWxlU2lnblwiXSA9IDk3OTRdID0gXCJtYWxlU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmZW1hbGVTaWduXCJdID0gOTc5Ml0gPSBcImZlbWFsZVNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZWlnaHRoTm90ZVwiXSA9IDk4MzRdID0gXCJlaWdodGhOb3RlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJlYW1lZEVpZ2h0aE5vdGVzXCJdID0gOTgzNV0gPSBcImJlYW1lZEVpZ2h0aE5vdGVzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIndoaXRlU3VuV2l0aFJheXNcIl0gPSA5Nzg4XSA9IFwid2hpdGVTdW5XaXRoUmF5c1wiO1xyXG4gICAgLy8gMTYgLSAzMS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tSaWdodFBvaW50aW5nUG9pbnRlclwiXSA9IDk2NThdID0gXCJibGFja1JpZ2h0UG9pbnRpbmdQb2ludGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrTGVmdFBvaW50aW5nUG9pbnRlclwiXSA9IDk2NjhdID0gXCJibGFja0xlZnRQb2ludGluZ1BvaW50ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widXBEb3duQXJyb3dcIl0gPSA4NTk3XSA9IFwidXBEb3duQXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZG91YmxlRXhjbGFtYXRpb25NYXJrXCJdID0gODI1Ml0gPSBcImRvdWJsZUV4Y2xhbWF0aW9uTWFya1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwaWxjcm93XCJdID0gMTgyXSA9IFwicGlsY3Jvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzZWN0aW9uU2lnblwiXSA9IDE2N10gPSBcInNlY3Rpb25TaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrUmVjdGFuZ2xlXCJdID0gOTY0NF0gPSBcImJsYWNrUmVjdGFuZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVwRG93bkFycm93V2l0aEJhc2VcIl0gPSA4NjE2XSA9IFwidXBEb3duQXJyb3dXaXRoQmFzZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1cHdhcmRzQXJyb3dcIl0gPSA4NTkzXSA9IFwidXB3YXJkc0Fycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRvd253YXJkc0Fycm93XCJdID0gODU5NV0gPSBcImRvd253YXJkc0Fycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0d2FyZHNBcnJvd1wiXSA9IDg1OTRdID0gXCJyaWdodHdhcmRzQXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdHdhcmRzQXJyb3dcIl0gPSA4NTkyXSA9IFwibGVmdHdhcmRzQXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRBbmdsZVwiXSA9IDg3MzVdID0gXCJyaWdodEFuZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRSaWdodEFycm93XCJdID0gODU5Nl0gPSBcImxlZnRSaWdodEFycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrVXBQb2ludGluZ1RyaWFuZ2xlXCJdID0gOTY1MF0gPSBcImJsYWNrVXBQb2ludGluZ1RyaWFuZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrRG93blBvaW50aW5nVHJpYW5nbGVcIl0gPSA5NjYwXSA9IFwiYmxhY2tEb3duUG9pbnRpbmdUcmlhbmdsZVwiO1xyXG4gICAgLy8gMzIgLSA0Ny5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic3BhY2VcIl0gPSAzMl0gPSBcInNwYWNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImV4Y2xhbWF0aW9uUG9pbnRcIl0gPSAzM10gPSBcImV4Y2xhbWF0aW9uUG9pbnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZG91YmxlUXVvdGVcIl0gPSAzNF0gPSBcImRvdWJsZVF1b3RlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm51bWJlclNpZ25cIl0gPSAzNV0gPSBcIm51bWJlclNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZG9sbGFyU2lnblwiXSA9IDM2XSA9IFwiZG9sbGFyU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwZXJjZW50XCJdID0gMzddID0gXCJwZXJjZW50XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFtcGVyc2FuZFwiXSA9IDM4XSA9IFwiYW1wZXJzYW5kXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFwb3N0cm9waGVcIl0gPSAzOV0gPSBcImFwb3N0cm9waGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdFBhcmVudGhlc2lzXCJdID0gNDBdID0gXCJsZWZ0UGFyZW50aGVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRQYXJlbnRoZXNpc1wiXSA9IDQxXSA9IFwicmlnaHRQYXJlbnRoZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhc3Rlcmlza1wiXSA9IDQyXSA9IFwiYXN0ZXJpc2tcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGx1c1wiXSA9IDQzXSA9IFwicGx1c1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjb21tYVwiXSA9IDQ0XSA9IFwiY29tbWFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWludXNcIl0gPSA0NV0gPSBcIm1pbnVzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBlcmlvZFwiXSA9IDQ2XSA9IFwicGVyaW9kXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNsYXNoXCJdID0gNDddID0gXCJzbGFzaFwiO1xyXG4gICAgLy8gNDggLSA2My5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiemVyb1wiXSA9IDQ4XSA9IFwiemVyb1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJvbmVcIl0gPSA0OV0gPSBcIm9uZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0d29cIl0gPSA1MF0gPSBcInR3b1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0aHJlZVwiXSA9IDUxXSA9IFwidGhyZWVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZm91clwiXSA9IDUyXSA9IFwiZm91clwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmaXZlXCJdID0gNTNdID0gXCJmaXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNpeFwiXSA9IDU0XSA9IFwic2l4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNldmVuXCJdID0gNTVdID0gXCJzZXZlblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJlaWdodFwiXSA9IDU2XSA9IFwiZWlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibmluZVwiXSA9IDU3XSA9IFwibmluZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjb2xvblwiXSA9IDU4XSA9IFwiY29sb25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic2VtaWNvbG9uXCJdID0gNTldID0gXCJzZW1pY29sb25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVzc1RoYW5cIl0gPSA2MF0gPSBcImxlc3NUaGFuXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImVxdWFsc1wiXSA9IDYxXSA9IFwiZXF1YWxzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWF0ZXJUaGFuXCJdID0gNjJdID0gXCJncmVhdGVyVGhhblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJxdWVzdGlvbk1hcmtcIl0gPSA2M10gPSBcInF1ZXN0aW9uTWFya1wiO1xyXG4gICAgLy8gNjQgLSA5NS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYXRcIl0gPSA2NF0gPSBcImF0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFVcHBlclwiXSA9IDY1XSA9IFwiYVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJVcHBlclwiXSA9IDY2XSA9IFwiYlVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNVcHBlclwiXSA9IDY3XSA9IFwiY1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRVcHBlclwiXSA9IDY4XSA9IFwiZFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImVVcHBlclwiXSA9IDY5XSA9IFwiZVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZVcHBlclwiXSA9IDcwXSA9IFwiZlVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdVcHBlclwiXSA9IDcxXSA9IFwiZ1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImhVcHBlclwiXSA9IDcyXSA9IFwiaFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImlVcHBlclwiXSA9IDczXSA9IFwiaVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImpVcHBlclwiXSA9IDc0XSA9IFwialVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImtVcHBlclwiXSA9IDc1XSA9IFwia1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxVcHBlclwiXSA9IDc2XSA9IFwibFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1VcHBlclwiXSA9IDc3XSA9IFwibVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm5VcHBlclwiXSA9IDc4XSA9IFwiblVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm9VcHBlclwiXSA9IDc5XSA9IFwib1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBVcHBlclwiXSA9IDgwXSA9IFwicFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInFVcHBlclwiXSA9IDgxXSA9IFwicVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJVcHBlclwiXSA9IDgyXSA9IFwiclVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNVcHBlclwiXSA9IDgzXSA9IFwic1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInRVcHBlclwiXSA9IDg0XSA9IFwidFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVVcHBlclwiXSA9IDg1XSA9IFwidVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInZVcHBlclwiXSA9IDg2XSA9IFwidlVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIndVcHBlclwiXSA9IDg3XSA9IFwid1VwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInhVcHBlclwiXSA9IDg4XSA9IFwieFVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInlVcHBlclwiXSA9IDg5XSA9IFwieVVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInpVcHBlclwiXSA9IDkwXSA9IFwielVwcGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRCcmFja2V0XCJdID0gOTFdID0gXCJsZWZ0QnJhY2tldFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJiYWNrU2xhc2hcIl0gPSA5Ml0gPSBcImJhY2tTbGFzaFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodEJyYWNrZXRcIl0gPSA5M10gPSBcInJpZ2h0QnJhY2tldFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjYXJldFwiXSA9IDk0XSA9IFwiY2FyZXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widW5kZXJzY29yZVwiXSA9IDk1XSA9IFwidW5kZXJzY29yZVwiO1xyXG4gICAgLy8gOTYgLSAxMjcuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFjY2VudFwiXSA9IDk2XSA9IFwiYWNjZW50XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFMb3dlclwiXSA9IDk3XSA9IFwiYUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJMb3dlclwiXSA9IDk4XSA9IFwiYkxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNMb3dlclwiXSA9IDk5XSA9IFwiY0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRMb3dlclwiXSA9IDEwMF0gPSBcImRMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJlTG93ZXJcIl0gPSAxMDFdID0gXCJlTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZkxvd2VyXCJdID0gMTAyXSA9IFwiZkxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdMb3dlclwiXSA9IDEwM10gPSBcImdMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJoTG93ZXJcIl0gPSAxMDRdID0gXCJoTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaUxvd2VyXCJdID0gMTA1XSA9IFwiaUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImpMb3dlclwiXSA9IDEwNl0gPSBcImpMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJrTG93ZXJcIl0gPSAxMDddID0gXCJrTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibExvd2VyXCJdID0gMTA4XSA9IFwibExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1Mb3dlclwiXSA9IDEwOV0gPSBcIm1Mb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJuTG93ZXJcIl0gPSAxMTBdID0gXCJuTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wib0xvd2VyXCJdID0gMTExXSA9IFwib0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBMb3dlclwiXSA9IDExMl0gPSBcInBMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJxTG93ZXJcIl0gPSAxMTNdID0gXCJxTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wickxvd2VyXCJdID0gMTE0XSA9IFwickxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNMb3dlclwiXSA9IDExNV0gPSBcInNMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0TG93ZXJcIl0gPSAxMTZdID0gXCJ0TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widUxvd2VyXCJdID0gMTE3XSA9IFwidUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInZMb3dlclwiXSA9IDExOF0gPSBcInZMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ3TG93ZXJcIl0gPSAxMTldID0gXCJ3TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wieExvd2VyXCJdID0gMTIwXSA9IFwieExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInlMb3dlclwiXSA9IDEyMV0gPSBcInlMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ6TG93ZXJcIl0gPSAxMjJdID0gXCJ6TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdEJyYWNlXCJdID0gMTIzXSA9IFwibGVmdEJyYWNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBpcGVcIl0gPSAxMjRdID0gXCJwaXBlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0QnJhY2VcIl0gPSAxMjVdID0gXCJyaWdodEJyYWNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInRpbGRlXCJdID0gMTI2XSA9IFwidGlsZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaG91c2VcIl0gPSA4OTYyXSA9IFwiaG91c2VcIjtcclxuICAgIC8vIDEyOCAtIDE0My5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyQ1dpdGhDZWRpbGxhXCJdID0gMTk5XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyQ1dpdGhDZWRpbGxhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJVV2l0aERpYWVyZXNpc1wiXSA9IDI1Ml0gPSBcImxhdGluU21hbGxMZXR0ZXJVV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhBY3V0ZVwiXSA9IDIzM10gPSBcImxhdGluU21hbGxMZXR0ZXJFV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBV2l0aENpcmN1bWZsZXhcIl0gPSAyMjZdID0gXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhDaXJjdW1mbGV4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBV2l0aERpYWVyZXNpc1wiXSA9IDIyOF0gPSBcImxhdGluU21hbGxMZXR0ZXJBV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhHcmF2ZVwiXSA9IDIyNF0gPSBcImxhdGluU21hbGxMZXR0ZXJBV2l0aEdyYXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBV2l0aFJpbmdBYm92ZVwiXSA9IDIyOV0gPSBcImxhdGluU21hbGxMZXR0ZXJBV2l0aFJpbmdBYm92ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQ1dpdGhDZWRpbGxhXCJdID0gMjMxXSA9IFwibGF0aW5TbWFsbExldHRlckNXaXRoQ2VkaWxsYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhDaXJjdW1mbGV4XCJdID0gMjM0XSA9IFwibGF0aW5TbWFsbExldHRlckVXaXRoQ2lyY3VtZmxleFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhEaWFlcmVzaXNcIl0gPSAyMzVdID0gXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckVXaXRoR3JhdmVcIl0gPSAyMzJdID0gXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhHcmF2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVySVdpdGhEaWFlcmVzaXNcIl0gPSAyMzldID0gXCJsYXRpblNtYWxsTGV0dGVySVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlcklXaXRoQ2lyY3VtZmxleFwiXSA9IDIzOF0gPSBcImxhdGluU21hbGxMZXR0ZXJJV2l0aENpcmN1bWZsZXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlcklXaXRoR3JhdmVcIl0gPSAyMzZdID0gXCJsYXRpblNtYWxsTGV0dGVySVdpdGhHcmF2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aERpYWVyZXNpc1wiXSA9IDE5Nl0gPSBcImxhdGluQ2FwaXRhbExldHRlckFXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlckFXaXRoUmluZ0Fib3ZlXCJdID0gMTk3XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhSaW5nQWJvdmVcIjtcclxuICAgIC8vIDE0NCAtIDE1OS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyRVdpdGhBY3V0ZVwiXSA9IDIwMV0gPSBcImxhdGluQ2FwaXRhbExldHRlckVXaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFlXCJdID0gMjMwXSA9IFwibGF0aW5TbWFsbExldHRlckFlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlckFlXCJdID0gMTk4XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyQWVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlck9XaXRoQ2lyY3VtZmxleFwiXSA9IDI0NF0gPSBcImxhdGluU21hbGxMZXR0ZXJPV2l0aENpcmN1bWZsZXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlck9XaXRoRGlhZXJlc2lzXCJdID0gMjQ2XSA9IFwibGF0aW5TbWFsbExldHRlck9XaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJPV2l0aEdyYXZlXCJdID0gMjQyXSA9IFwibGF0aW5TbWFsbExldHRlck9XaXRoR3JhdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlclVXaXRoQ2lyY3VtZmxleFwiXSA9IDI1MV0gPSBcImxhdGluU21hbGxMZXR0ZXJVV2l0aENpcmN1bWZsZXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlclVXaXRoR3JhdmVcIl0gPSAyNDldID0gXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhHcmF2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyWVdpdGhEaWFlcmVzaXNcIl0gPSAyNTVdID0gXCJsYXRpblNtYWxsTGV0dGVyWVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyT1dpdGhEaWFlcmVzaXNcIl0gPSAyMTRdID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJPV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJVV2l0aERpYWVyZXNpc1wiXSA9IDIyMF0gPSBcImxhdGluQ2FwaXRhbExldHRlclVXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNlbnRTaWduXCJdID0gMTYyXSA9IFwiY2VudFNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicG91bmRTaWduXCJdID0gMTYzXSA9IFwicG91bmRTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInllblNpZ25cIl0gPSAxNjVdID0gXCJ5ZW5TaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBlc2V0YVNpZ25cIl0gPSA4MzU5XSA9IFwicGVzZXRhU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyRldpdGhIb29rXCJdID0gNDAyXSA9IFwibGF0aW5TbWFsbExldHRlckZXaXRoSG9va1wiO1xyXG4gICAgLy8gMTYwIC0gMTc1LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhBY3V0ZVwiXSA9IDIyNV0gPSBcImxhdGluU21hbGxMZXR0ZXJBV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJJV2l0aEFjdXRlXCJdID0gMjM3XSA9IFwibGF0aW5TbWFsbExldHRlcklXaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlck9XaXRoQWN1dGVcIl0gPSAyNDNdID0gXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhBY3V0ZVwiXSA9IDI1MF0gPSBcImxhdGluU21hbGxMZXR0ZXJVV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJOV2l0aFRpbGRlXCJdID0gMjQxXSA9IFwibGF0aW5TbWFsbExldHRlck5XaXRoVGlsZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyTldpdGhUaWxkZVwiXSA9IDIwOV0gPSBcImxhdGluQ2FwaXRhbExldHRlck5XaXRoVGlsZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZmVtaW5pbmVPcmRpbmFsSW5kaWNhdG9yXCJdID0gMTcwXSA9IFwiZmVtaW5pbmVPcmRpbmFsSW5kaWNhdG9yXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1hc2N1bGluZU9yZGluYWxJbmRpY2F0b3JcIl0gPSAxODZdID0gXCJtYXNjdWxpbmVPcmRpbmFsSW5kaWNhdG9yXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImludmVydGVkUXVlc3Rpb25NYXJrXCJdID0gMTkxXSA9IFwiaW52ZXJ0ZWRRdWVzdGlvbk1hcmtcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmV2ZXJzZWROb3RTaWduXCJdID0gODk3Nl0gPSBcInJldmVyc2VkTm90U2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJub3RTaWduXCJdID0gMTcyXSA9IFwibm90U2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ2dWxnYXJGcmFjdGlvbk9uZUhhbGZcIl0gPSAxODldID0gXCJ2dWxnYXJGcmFjdGlvbk9uZUhhbGZcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widnVsZ2FyRnJhY3Rpb25PbmVRdWFydGVyXCJdID0gMTg4XSA9IFwidnVsZ2FyRnJhY3Rpb25PbmVRdWFydGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImludmVydGVkRXhjbGFtYXRpb25NYXJrXCJdID0gMTYxXSA9IFwiaW52ZXJ0ZWRFeGNsYW1hdGlvbk1hcmtcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXCJdID0gMTcxXSA9IFwibGVmdFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtcIl0gPSAxODddID0gXCJyaWdodFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXCI7XHJcbiAgICAvLyAxNzYgLSAxOTEuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxpZ2h0U2hhZGVcIl0gPSA5NjE3XSA9IFwibGlnaHRTaGFkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtZWRpdW1TaGFkZVwiXSA9IDk2MThdID0gXCJtZWRpdW1TaGFkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkYXJrU2hhZGVcIl0gPSA5NjE5XSA9IFwiZGFya1NoYWRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbFwiXSA9IDk0NzRdID0gXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kTGVmdFwiXSA9IDk1MDhdID0gXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRMZWZ0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRMZWZ0RG91YmxlXCJdID0gOTU2OV0gPSBcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRMZWZ0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRMZWZ0U2luZ2xlXCJdID0gOTU3MF0gPSBcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRMZWZ0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZExlZnRTaW5nbGVcIl0gPSA5NTU4XSA9IFwiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kTGVmdFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRMZWZ0RG91YmxlXCJdID0gOTU1N10gPSBcImJveERyYXdpbmdzRG93blNpbmdsZUFuZExlZnREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZExlZnRcIl0gPSA5NTcxXSA9IFwiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZExlZnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbFwiXSA9IDk1NTNdID0gXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlRG93bkFuZExlZnRcIl0gPSA5NTU5XSA9IFwiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kTGVmdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kTGVmdFwiXSA9IDk1NjVdID0gXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kTGVmdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kTGVmdFNpbmdsZVwiXSA9IDk1NjRdID0gXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kTGVmdFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kTGVmdERvdWJsZVwiXSA9IDk1NjNdID0gXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kTGVmdERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZExlZnRcIl0gPSA5NDg4XSA9IFwiYm94RHJhd2luZ3NMaWdodERvd25BbmRMZWZ0XCI7XHJcbiAgICAvLyAxOTIgLSAyMDcuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRVcEFuZFJpZ2h0XCJdID0gOTQ5Ml0gPSBcImJveERyYXdpbmdzTGlnaHRVcEFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRVcEFuZEhvcml6b250YWxcIl0gPSA5NTI0XSA9IFwiYm94RHJhd2luZ3NMaWdodFVwQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZEhvcml6b250YWxcIl0gPSA5NTE2XSA9IFwiYm94RHJhd2luZ3NMaWdodERvd25BbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZFJpZ2h0XCJdID0gOTUwMF0gPSBcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRIb3Jpem9udGFsXCJdID0gOTQ3Ml0gPSBcImJveERyYXdpbmdzTGlnaHRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZEhvcml6b250YWxcIl0gPSA5NTMyXSA9IFwiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kUmlnaHREb3VibGVcIl0gPSA5NTY2XSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZFJpZ2h0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRSaWdodFNpbmdsZVwiXSA9IDk1NjddID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kUmlnaHRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVVcEFuZFJpZ2h0XCJdID0gOTU2Ml0gPSBcImJveERyYXdpbmdzRG91YmxlVXBBbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRSaWdodFwiXSA9IDk1NTZdID0gXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kSG9yaXpvbnRhbFwiXSA9IDk1NzddID0gXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRIb3Jpem9udGFsXCJdID0gOTU3NF0gPSBcImJveERyYXdpbmdzRG91YmxlRG93bkFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZFJpZ2h0XCJdID0gOTU2OF0gPSBcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZUhvcml6b250YWxcIl0gPSA5NTUyXSA9IFwiYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRIb3Jpem9udGFsXCJdID0gOTU4MF0gPSBcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCJdID0gOTU3NV0gPSBcImJveERyYXdpbmdzVXBTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCI7XHJcbiAgICAvLyAyMDggLSAyMjMuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCJdID0gOTU3Nl0gPSBcImJveERyYXdpbmdzVXBEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93blNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIl0gPSA5NTcyXSA9IFwiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCJdID0gOTU3M10gPSBcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcERvdWJsZUFuZFJpZ2h0U2luZ2xlXCJdID0gOTU2MV0gPSBcImJveERyYXdpbmdzVXBEb3VibGVBbmRSaWdodFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kUmlnaHREb3VibGVcIl0gPSA5NTYwXSA9IFwiYm94RHJhd2luZ3NVcFNpbmdsZUFuZFJpZ2h0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93blNpbmdsZUFuZFJpZ2h0RG91YmxlXCJdID0gOTU1NF0gPSBcImJveERyYXdpbmdzRG93blNpbmdsZUFuZFJpZ2h0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZFJpZ2h0U2luZ2xlXCJdID0gOTU1NV0gPSBcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZFJpZ2h0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCJdID0gOTU3OV0gPSBcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCJdID0gOTU3OF0gPSBcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRVcEFuZExlZnRcIl0gPSA5NDk2XSA9IFwiYm94RHJhd2luZ3NMaWdodFVwQW5kTGVmdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZFJpZ2h0XCJdID0gOTQ4NF0gPSBcImJveERyYXdpbmdzTGlnaHREb3duQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZnVsbEJsb2NrXCJdID0gOTYwOF0gPSBcImZ1bGxCbG9ja1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsb3dlckhhbGZCbG9ja1wiXSA9IDk2MDRdID0gXCJsb3dlckhhbGZCbG9ja1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0SGFsZkJsb2NrXCJdID0gOTYxMl0gPSBcImxlZnRIYWxmQmxvY2tcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRIYWxmQmxvY2tcIl0gPSA5NjE2XSA9IFwicmlnaHRIYWxmQmxvY2tcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widXBwZXJIYWxmQmxvY2tcIl0gPSA5NjAwXSA9IFwidXBwZXJIYWxmQmxvY2tcIjtcclxuICAgIC8vIDIyNCAtIDIzOS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlckFscGhhXCJdID0gOTQ1XSA9IFwiZ3JlZWtTbWFsbExldHRlckFscGhhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJTaGFycFNcIl0gPSAyMjNdID0gXCJsYXRpblNtYWxsTGV0dGVyU2hhcnBTXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrQ2FwaXRhbExldHRlckdhbW1hXCJdID0gOTE1XSA9IFwiZ3JlZWtDYXBpdGFsTGV0dGVyR2FtbWFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlclBpXCJdID0gOTYwXSA9IFwiZ3JlZWtTbWFsbExldHRlclBpXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrQ2FwaXRhbExldHRlclNpZ21hXCJdID0gOTMxXSA9IFwiZ3JlZWtDYXBpdGFsTGV0dGVyU2lnbWFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlclNpZ21hXCJdID0gOTYzXSA9IFwiZ3JlZWtTbWFsbExldHRlclNpZ21hXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1pY3JvU2lnblwiXSA9IDE4MV0gPSBcIm1pY3JvU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyVGF1XCJdID0gOTY0XSA9IFwiZ3JlZWtTbWFsbExldHRlclRhdVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla0NhcGl0YWxMZXR0ZXJQaGlcIl0gPSA5MzRdID0gXCJncmVla0NhcGl0YWxMZXR0ZXJQaGlcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtDYXBpdGFsTGV0dGVyVGhldGFcIl0gPSA5MjBdID0gXCJncmVla0NhcGl0YWxMZXR0ZXJUaGV0YVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla0NhcGl0YWxMZXR0ZXJPbWVnYVwiXSA9IDkzN10gPSBcImdyZWVrQ2FwaXRhbExldHRlck9tZWdhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJEZWx0YVwiXSA9IDk0OF0gPSBcImdyZWVrU21hbGxMZXR0ZXJEZWx0YVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbmZpbml0eVwiXSA9IDg3MzRdID0gXCJpbmZpbml0eVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyUGhpXCJdID0gOTY2XSA9IFwiZ3JlZWtTbWFsbExldHRlclBoaVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyRXBzaWxvblwiXSA9IDk0OV0gPSBcImdyZWVrU21hbGxMZXR0ZXJFcHNpbG9uXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImludGVyc2VjdGlvblwiXSA9IDg3NDVdID0gXCJpbnRlcnNlY3Rpb25cIjtcclxuICAgIC8vIDI0MCAtIDI1NC5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaWRlbnRpY2FsVG9cIl0gPSA4ODAxXSA9IFwiaWRlbnRpY2FsVG9cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGx1c01pbnVzU2lnblwiXSA9IDE3N10gPSBcInBsdXNNaW51c1NpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlYXRlclRoYW5PckVxdWFsVG9cIl0gPSA4ODA1XSA9IFwiZ3JlYXRlclRoYW5PckVxdWFsVG9cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVzc1RoYW5PckVxdWFsVG9cIl0gPSA4ODA0XSA9IFwibGVzc1RoYW5PckVxdWFsVG9cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widG9wSGFsZkludGVncmFsXCJdID0gODk5Ml0gPSBcInRvcEhhbGZJbnRlZ3JhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3R0b21IYWxmSW50ZWdyYWxcIl0gPSA4OTkzXSA9IFwiYm90dG9tSGFsZkludGVncmFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRpdmlzaW9uU2lnblwiXSA9IDI0N10gPSBcImRpdmlzaW9uU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhbG1vc3RFcXVhbFRvXCJdID0gODc3Nl0gPSBcImFsbW9zdEVxdWFsVG9cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZGVncmVlU2lnblwiXSA9IDE3Nl0gPSBcImRlZ3JlZVNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYnVsbGV0T3BlcmF0b3JcIl0gPSA4NzI5XSA9IFwiYnVsbGV0T3BlcmF0b3JcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWlkZGxlRG90XCJdID0gMTgzXSA9IFwibWlkZGxlRG90XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNxdWFyZVJvb3RcIl0gPSA4NzMwXSA9IFwic3F1YXJlUm9vdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzdXBlcnNjcmlwdExhdGluU21hbGxMZXR0ZXJOXCJdID0gODMxOV0gPSBcInN1cGVyc2NyaXB0TGF0aW5TbWFsbExldHRlck5cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic3VwZXJzY3JpcHRUd29cIl0gPSAxNzhdID0gXCJzdXBlcnNjcmlwdFR3b1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1NxdWFyZVwiXSA9IDk2MzJdID0gXCJibGFja1NxdWFyZVwiO1xyXG59KShDaGFyQ29kZSB8fCAoQ2hhckNvZGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFyLWNvZGUuanMubWFwXG5cbnZhciBfYTtcclxudmFyIHVuaWNvZGVNYXAgPSAoX2EgPSB7fSxcclxuICAgIC8vIDEgLSAxNS5cclxuICAgIF9hW0NoYXJDb2RlLndoaXRlU21pbGluZ0ZhY2VdID0gMSxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrU21pbGluZ0ZhY2VdID0gMixcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrSGVhcnRTdWl0XSA9IDMsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja0RpYW1vbmRTdWl0XSA9IDQsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja0NsdWJTdWl0XSA9IDUsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1NwYWRlU3VpdF0gPSA2LFxyXG4gICAgX2FbQ2hhckNvZGUuYnVsbGV0XSA9IDcsXHJcbiAgICBfYVtDaGFyQ29kZS5pbnZlcnNlQnVsbGV0XSA9IDgsXHJcbiAgICBfYVtDaGFyQ29kZS53aGl0ZUNpcmNsZV0gPSA5LFxyXG4gICAgX2FbQ2hhckNvZGUuaW52ZXJzZVdoaXRlQ2lyY2xlXSA9IDEwLFxyXG4gICAgX2FbQ2hhckNvZGUubWFsZVNpZ25dID0gMTEsXHJcbiAgICBfYVtDaGFyQ29kZS5mZW1hbGVTaWduXSA9IDEyLFxyXG4gICAgX2FbQ2hhckNvZGUuZWlnaHRoTm90ZV0gPSAxMyxcclxuICAgIF9hW0NoYXJDb2RlLmJlYW1lZEVpZ2h0aE5vdGVzXSA9IDE0LFxyXG4gICAgX2FbQ2hhckNvZGUud2hpdGVTdW5XaXRoUmF5c10gPSAxNSxcclxuICAgIC8vIDE2IC0gMzEuXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1JpZ2h0UG9pbnRpbmdQb2ludGVyXSA9IDE2LFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tMZWZ0UG9pbnRpbmdQb2ludGVyXSA9IDE3LFxyXG4gICAgX2FbQ2hhckNvZGUudXBEb3duQXJyb3ddID0gMTgsXHJcbiAgICBfYVtDaGFyQ29kZS5kb3VibGVFeGNsYW1hdGlvbk1hcmtdID0gMTksXHJcbiAgICBfYVtDaGFyQ29kZS5waWxjcm93XSA9IDIwLFxyXG4gICAgX2FbQ2hhckNvZGUuc2VjdGlvblNpZ25dID0gMjEsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1JlY3RhbmdsZV0gPSAyMixcclxuICAgIF9hW0NoYXJDb2RlLnVwRG93bkFycm93V2l0aEJhc2VdID0gMjMsXHJcbiAgICBfYVtDaGFyQ29kZS51cHdhcmRzQXJyb3ddID0gMjQsXHJcbiAgICBfYVtDaGFyQ29kZS5kb3dud2FyZHNBcnJvd10gPSAyNSxcclxuICAgIF9hW0NoYXJDb2RlLnJpZ2h0d2FyZHNBcnJvd10gPSAyNixcclxuICAgIF9hW0NoYXJDb2RlLmxlZnR3YXJkc0Fycm93XSA9IDI3LFxyXG4gICAgX2FbQ2hhckNvZGUucmlnaHRBbmdsZV0gPSAyOCxcclxuICAgIF9hW0NoYXJDb2RlLmxlZnRSaWdodEFycm93XSA9IDI5LFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tVcFBvaW50aW5nVHJpYW5nbGVdID0gMzAsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja0Rvd25Qb2ludGluZ1RyaWFuZ2xlXSA9IDMxLFxyXG4gICAgLy8gMTI3LlxyXG4gICAgX2FbQ2hhckNvZGUuaG91c2VdID0gMTI3LFxyXG4gICAgLy8gMTI4IC0gMTQzLlxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyQ1dpdGhDZWRpbGxhXSA9IDEyOCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJVV2l0aERpYWVyZXNpc10gPSAxMjksXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyRVdpdGhBY3V0ZV0gPSAxMzAsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQVdpdGhDaXJjdW1mbGV4XSA9IDEzMSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBV2l0aERpYWVyZXNpc10gPSAxMzIsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQVdpdGhHcmF2ZV0gPSAxMzMsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQVdpdGhSaW5nQWJvdmVdID0gMTM0LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckNXaXRoQ2VkaWxsYV0gPSAxMzUsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyRVdpdGhDaXJjdW1mbGV4XSA9IDEzNixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJFV2l0aERpYWVyZXNpc10gPSAxMzcsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyRVdpdGhHcmF2ZV0gPSAxMzgsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVySVdpdGhEaWFlcmVzaXNdID0gMTM5LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlcklXaXRoQ2lyY3VtZmxleF0gPSAxNDAsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVySVdpdGhHcmF2ZV0gPSAxNDEsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aERpYWVyZXNpc10gPSAxNDIsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aFJpbmdBYm92ZV0gPSAxNDMsXHJcbiAgICAvLyAxNDQgLSAxNTkuXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJFV2l0aEFjdXRlXSA9IDE0NCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBZV0gPSAxNDUsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJBZV0gPSAxNDYsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyT1dpdGhDaXJjdW1mbGV4XSA9IDE0NyxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJPV2l0aERpYWVyZXNpc10gPSAxNDgsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyT1dpdGhHcmF2ZV0gPSAxNDksXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyVVdpdGhDaXJjdW1mbGV4XSA9IDE1MCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJVV2l0aEdyYXZlXSA9IDE1MSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJZV2l0aERpYWVyZXNpc10gPSAxNTIsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJPV2l0aERpYWVyZXNpc10gPSAxNTMsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJVV2l0aERpYWVyZXNpc10gPSAxNTQsXHJcbiAgICBfYVtDaGFyQ29kZS5jZW50U2lnbl0gPSAxNTUsXHJcbiAgICBfYVtDaGFyQ29kZS5wb3VuZFNpZ25dID0gMTU2LFxyXG4gICAgX2FbQ2hhckNvZGUueWVuU2lnbl0gPSAxNTcsXHJcbiAgICBfYVtDaGFyQ29kZS5wZXNldGFTaWduXSA9IDE1OCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJGV2l0aEhvb2tdID0gMTU5LFxyXG4gICAgLy8gMTYwIC0gMTc1LlxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFXaXRoQWN1dGVdID0gMTYwLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlcklXaXRoQWN1dGVdID0gMTYxLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlck9XaXRoQWN1dGVdID0gMTYyLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlclVXaXRoQWN1dGVdID0gMTYzLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlck5XaXRoVGlsZGVdID0gMTY0LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyTldpdGhUaWxkZV0gPSAxNjUsXHJcbiAgICBfYVtDaGFyQ29kZS5mZW1pbmluZU9yZGluYWxJbmRpY2F0b3JdID0gMTY2LFxyXG4gICAgX2FbQ2hhckNvZGUubWFzY3VsaW5lT3JkaW5hbEluZGljYXRvcl0gPSAxNjcsXHJcbiAgICBfYVtDaGFyQ29kZS5pbnZlcnRlZFF1ZXN0aW9uTWFya10gPSAxNjgsXHJcbiAgICBfYVtDaGFyQ29kZS5yZXZlcnNlZE5vdFNpZ25dID0gMTY5LFxyXG4gICAgX2FbQ2hhckNvZGUubm90U2lnbl0gPSAxNzAsXHJcbiAgICBfYVtDaGFyQ29kZS52dWxnYXJGcmFjdGlvbk9uZUhhbGZdID0gMTcxLFxyXG4gICAgX2FbQ2hhckNvZGUudnVsZ2FyRnJhY3Rpb25PbmVRdWFydGVyXSA9IDE3MixcclxuICAgIF9hW0NoYXJDb2RlLmludmVydGVkRXhjbGFtYXRpb25NYXJrXSA9IDE3MyxcclxuICAgIF9hW0NoYXJDb2RlLmxlZnRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya10gPSAxNzQsXHJcbiAgICBfYVtDaGFyQ29kZS5yaWdodFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXSA9IDE3NSxcclxuICAgIC8vIDE3NiAtIDE5MS5cclxuICAgIF9hW0NoYXJDb2RlLmxpZ2h0U2hhZGVdID0gMTc2LFxyXG4gICAgX2FbQ2hhckNvZGUubWVkaXVtU2hhZGVdID0gMTc3LFxyXG4gICAgX2FbQ2hhckNvZGUuZGFya1NoYWRlXSA9IDE3OCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbF0gPSAxNzksXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRMZWZ0XSA9IDE4MCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRMZWZ0RG91YmxlXSA9IDE4MSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRMZWZ0U2luZ2xlXSA9IDE4MixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93bkRvdWJsZUFuZExlZnRTaW5nbGVdID0gMTgzLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kTGVmdERvdWJsZV0gPSAxODQsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kTGVmdF0gPSAxODUsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsXSA9IDE4NixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlRG93bkFuZExlZnRdID0gMTg3LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVVcEFuZExlZnRdID0gMTg4LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcERvdWJsZUFuZExlZnRTaW5nbGVdID0gMTg5LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcFNpbmdsZUFuZExlZnREb3VibGVdID0gMTkwLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodERvd25BbmRMZWZ0XSA9IDE5MSxcclxuICAgIC8vIDE5MiAtIDIwNy5cclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRVcEFuZFJpZ2h0XSA9IDE5MixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRVcEFuZEhvcml6b250YWxdID0gMTkzLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodERvd25BbmRIb3Jpem9udGFsXSA9IDE5NCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZFJpZ2h0XSA9IDE5NSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRIb3Jpem9udGFsXSA9IDE5NixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZEhvcml6b250YWxdID0gMTk3LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZFJpZ2h0RG91YmxlXSA9IDE5OCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRSaWdodFNpbmdsZV0gPSAxOTksXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kUmlnaHRdID0gMjAwLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVEb3duQW5kUmlnaHRdID0gMjAxLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVVcEFuZEhvcml6b250YWxdID0gMjAyLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVEb3duQW5kSG9yaXpvbnRhbF0gPSAyMDMsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kUmlnaHRdID0gMjA0LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsXSA9IDIwNSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRIb3Jpem9udGFsXSA9IDIwNixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXSA9IDIwNyxcclxuICAgIC8vIDIwOCAtIDIyMy5cclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXSA9IDIwOCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93blNpbmdsZUFuZEhvcml6b250YWxEb3VibGVdID0gMjA5LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZV0gPSAyMTAsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwRG91YmxlQW5kUmlnaHRTaW5nbGVdID0gMjExLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcFNpbmdsZUFuZFJpZ2h0RG91YmxlXSA9IDIxMixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93blNpbmdsZUFuZFJpZ2h0RG91YmxlXSA9IDIxMyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93bkRvdWJsZUFuZFJpZ2h0U2luZ2xlXSA9IDIxNCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXSA9IDIxNSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXSA9IDIxNixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRVcEFuZExlZnRdID0gMjE3LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodERvd25BbmRSaWdodF0gPSAyMTgsXHJcbiAgICBfYVtDaGFyQ29kZS5mdWxsQmxvY2tdID0gMjE5LFxyXG4gICAgX2FbQ2hhckNvZGUubG93ZXJIYWxmQmxvY2tdID0gMjIwLFxyXG4gICAgX2FbQ2hhckNvZGUubGVmdEhhbGZCbG9ja10gPSAyMjEsXHJcbiAgICBfYVtDaGFyQ29kZS5yaWdodEhhbGZCbG9ja10gPSAyMjIsXHJcbiAgICBfYVtDaGFyQ29kZS51cHBlckhhbGZCbG9ja10gPSAyMjMsXHJcbiAgICAvLyAyMjQgLSAyMzkuXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyQWxwaGFdID0gMjI0LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlclNoYXJwU10gPSAyMjUsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla0NhcGl0YWxMZXR0ZXJHYW1tYV0gPSAyMjYsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyUGldID0gMjI3LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtDYXBpdGFsTGV0dGVyU2lnbWFdID0gMjI4LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlclNpZ21hXSA9IDIyOSxcclxuICAgIF9hW0NoYXJDb2RlLm1pY3JvU2lnbl0gPSAyMzAsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyVGF1XSA9IDIzMSxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrQ2FwaXRhbExldHRlclBoaV0gPSAyMzIsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla0NhcGl0YWxMZXR0ZXJUaGV0YV0gPSAyMzMsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla0NhcGl0YWxMZXR0ZXJPbWVnYV0gPSAyMzQsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyRGVsdGFdID0gMjM1LFxyXG4gICAgX2FbQ2hhckNvZGUuaW5maW5pdHldID0gMjM2LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlclBoaV0gPSAyMzcsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyRXBzaWxvbl0gPSAyMzgsXHJcbiAgICBfYVtDaGFyQ29kZS5pbnRlcnNlY3Rpb25dID0gMjM5LFxyXG4gICAgLy8gMjQwIC0gMjU1LlxyXG4gICAgX2FbQ2hhckNvZGUuaWRlbnRpY2FsVG9dID0gMjQwLFxyXG4gICAgX2FbQ2hhckNvZGUucGx1c01pbnVzU2lnbl0gPSAyNDEsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVhdGVyVGhhbk9yRXF1YWxUb10gPSAyNDIsXHJcbiAgICBfYVtDaGFyQ29kZS5sZXNzVGhhbk9yRXF1YWxUb10gPSAyNDMsXHJcbiAgICBfYVtDaGFyQ29kZS50b3BIYWxmSW50ZWdyYWxdID0gMjQ0LFxyXG4gICAgX2FbQ2hhckNvZGUuYm90dG9tSGFsZkludGVncmFsXSA9IDI0NSxcclxuICAgIF9hW0NoYXJDb2RlLmRpdmlzaW9uU2lnbl0gPSAyNDYsXHJcbiAgICBfYVtDaGFyQ29kZS5hbG1vc3RFcXVhbFRvXSA9IDI0NyxcclxuICAgIF9hW0NoYXJDb2RlLmRlZ3JlZVNpZ25dID0gMjQ4LFxyXG4gICAgX2FbQ2hhckNvZGUuYnVsbGV0T3BlcmF0b3JdID0gMjQ5LFxyXG4gICAgX2FbQ2hhckNvZGUubWlkZGxlRG90XSA9IDI1MCxcclxuICAgIF9hW0NoYXJDb2RlLnNxdWFyZVJvb3RdID0gMjUxLFxyXG4gICAgX2FbQ2hhckNvZGUuc3VwZXJzY3JpcHRMYXRpblNtYWxsTGV0dGVyTl0gPSAyNTIsXHJcbiAgICBfYVtDaGFyQ29kZS5zdXBlcnNjcmlwdFR3b10gPSAyNTMsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1NxdWFyZV0gPSAyNTQsXHJcbiAgICBfYSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaWNvZGVtYXAuanMubWFwXG5cbnZhciBSZXRyb1Rlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJldHJvVGVybWluYWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZXRyb1Rlcm1pbmFsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICAvLyBBIGNhY2hlIG9mIHRoZSB0aW50ZWQgZm9udCBpbWFnZXMuIEVhY2gga2V5IGlzIGEgY29sb3IsIGFuZCB0aGUgaW1hZ2UgaXMgdGhlIGZvbnQgaW4gdGhhdCBjb2xvci5cclxuICAgICAgICBfdGhpcy5fZm9udENvbG9yQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgX3RoaXMuX2ltYWdlTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgX3RoaXMuX2Rpc3BsYXkgPSBuZXcgRGlzcGxheShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xyXG4gICAgICAgIF90aGlzLl9jaGFyV2lkdGggPSBjb25maWcuY2hhcldpZHRoO1xyXG4gICAgICAgIF90aGlzLl9jaGFySGVpZ2h0ID0gY29uZmlnLmNoYXJIZWlnaHQ7XHJcbiAgICAgICAgX3RoaXMuX3NjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgLy8gRm9udFxyXG4gICAgICAgIF90aGlzLl9mb250ID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgX3RoaXMuX2ZvbnQuc3JjID0gY29uZmlnLmltYWdlVVJMO1xyXG4gICAgICAgIC8vIENyZWF0ZSBjYW52YXNcclxuICAgICAgICB2YXIgY2FudmFzID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gY29uZmlnLmNoYXJXaWR0aCAqIGNvbmZpZy53aWR0aDtcclxuICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gY29uZmlnLmNoYXJIZWlnaHQgKiBjb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogX3RoaXMuX3NjYWxlO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiBfdGhpcy5fc2NhbGU7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCArIFwicHhcIjtcclxuICAgICAgICBpZiAoY29uZmlnLm1vdW50Tm9kZSkge1xyXG4gICAgICAgICAgICBjb25maWcubW91bnROb2RlLmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIF90aGlzLl9mb250Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2ltYWdlTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSZXRyb1Rlcm1pbmFsLnByb3RvdHlwZS5kcmF3R2x5cGggPSBmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuc2V0R2x5cGgocG9zLCBnbHlwaCk7XHJcbiAgICB9O1xyXG4gICAgUmV0cm9UZXJtaW5hbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbWFnZUxvYWRlZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkucmVuZGVyKGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFyID0gZ2x5cGguY2hhcjtcclxuICAgICAgICAgICAgLy8gUmVtYXAgaXQgaWYgaXQncyBhIFVuaWNvZGUgY2hhcmFjdGVyXHJcbiAgICAgICAgICAgIGlmICh1bmljb2RlTWFwW2NoYXJdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXIgPSB1bmljb2RlTWFwW2NoYXJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzeCA9IChjaGFyICUgMzIpICogX3RoaXMuX2NoYXJXaWR0aDtcclxuICAgICAgICAgICAgdmFyIHN5ID0gTWF0aC5mbG9vcihjaGFyIC8gMzIpICogX3RoaXMuX2NoYXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIEZpbGwgdGhlIGJhY2tncm91bmRcclxuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZ2x5cGguYmFjay5jc3NDb2xvcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dC5maWxsUmVjdChwb3MueCAqIF90aGlzLl9jaGFyV2lkdGggKiBfdGhpcy5fc2NhbGUsIHBvcy55ICogX3RoaXMuX2NoYXJIZWlnaHQgKiBfdGhpcy5fc2NhbGUsIF90aGlzLl9jaGFyV2lkdGggKiBfdGhpcy5fc2NhbGUsIF90aGlzLl9jaGFySGVpZ2h0ICogX3RoaXMuX3NjYWxlKTtcclxuICAgICAgICAgICAgLy8gRG9udCBib3RoZXIgd2l0aCBlbXB0eSBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIGlmIChjaGFyID09IDAgfHwgY2hhciA9PSBDaGFyQ29kZS5zcGFjZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gX3RoaXMuZ2V0Q29sb3JGb250KGdseXBoLmZvcmUpO1xyXG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQuZHJhd0ltYWdlKGNvbG9yLCBzeCwgc3ksIF90aGlzLl9jaGFyV2lkdGgsIF90aGlzLl9jaGFySGVpZ2h0LCBwb3MueCAqIF90aGlzLl9jaGFyV2lkdGggKiBfdGhpcy5fc2NhbGUsIHBvcy55ICogX3RoaXMuX2NoYXJIZWlnaHQgKiBfdGhpcy5fc2NhbGUsIF90aGlzLl9jaGFyV2lkdGggKiBfdGhpcy5fc2NhbGUsIF90aGlzLl9jaGFySGVpZ2h0ICogX3RoaXMuX3NjYWxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBSZXRyb1Rlcm1pbmFsLnByb3RvdHlwZS5waXhlbFRvQ2hhciA9IGZ1bmN0aW9uIChwaXhlbCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5fY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoKHBpeGVsLnggLSByZWN0LmxlZnQpIC8gdGhpcy5fY2hhcldpZHRoKSxcclxuICAgICAgICAgICAgeTogTWF0aC5mbG9vcigocGl4ZWwueSAtIHJlY3QudG9wKSAvIHRoaXMuX2NoYXJIZWlnaHQpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgUmV0cm9UZXJtaW5hbC5wcm90b3R5cGUuZ2V0Q29sb3JGb250ID0gZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgLy8gSWYgY2FjaGVkIHJldHVyblxyXG4gICAgICAgIHZhciBjb2xvck5hbWUgPSBjb2xvci5jc3NDb2xvcigpO1xyXG4gICAgICAgIHZhciBjYWNoZWQgPSB0aGlzLl9mb250Q29sb3JDYWNoZS5nZXQoY29sb3JOYW1lKTtcclxuICAgICAgICBpZiAoY2FjaGVkKVxyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIGZvbnQgdXNpbmcgdGhlIGdpdmVuIGNvbG9yLlxyXG4gICAgICAgIHZhciB0aW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGludC53aWR0aCA9IHRoaXMuX2ZvbnQud2lkdGg7XHJcbiAgICAgICAgdGludC5oZWlnaHQgPSB0aGlzLl9mb250LmhlaWdodDtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHRpbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIC8vIERyYXcgdGhlIGZvbnRcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLl9mb250LCAwLCAwKTtcclxuICAgICAgICAvLyBUaW50IGl0IGJ5IGZpbGxpbmcgaW4gdGhlIGV4aXN0aW5nIGFscGhhIHdpdGggdGhlIGNvbG9yXHJcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvci5jc3NDb2xvcigpO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fZm9udC53aWR0aCwgdGhpcy5fZm9udC5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuX2ZvbnRDb2xvckNhY2hlLnNldChjb2xvck5hbWUsIHRpbnQpO1xyXG4gICAgICAgIHJldHVybiB0aW50O1xyXG4gICAgfTtcclxuICAgIC8qKiBEZWxldGVzIHRoZSB0ZXJtaW5hbCwgcmVtb3ZpbmcgdGhlIGNhbnZhcy4gKi9cclxuICAgIFJldHJvVGVybWluYWwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gdGhpcy5fY2FudmFzLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLl9jYW52YXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZXRyb1Rlcm1pbmFsO1xyXG59KFJlbmRlcmFibGVUZXJtaW5hbCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyby10ZXJtaW5hbC5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBDYW52YXNUZXJtaW5hbDogQ2FudmFzVGVybWluYWwsXG4gICAgRm9udDogRm9udCxcbiAgICBSZXRyb1Rlcm1pbmFsOiBSZXRyb1Rlcm1pbmFsLFxuICAgIENvbG9yOiBDb2xvcixcbiAgICBHbHlwaDogR2x5cGgsXG4gICAgZ2V0IENoYXJDb2RlICgpIHsgcmV0dXJuIENoYXJDb2RlOyB9LFxuICAgIEJhc2VUZXJtaW5hbDogQmFzZVRlcm1pbmFsLFxuICAgIFBvcnRUZXJtaW5hbDogUG9ydFRlcm1pbmFsXG59KTtcblxudmFyIEtleUNvZGU7XHJcbihmdW5jdGlvbiAoS2V5Q29kZSkge1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQmFja3NwYWNlXCJdID0gOF0gPSBcIkJhY2tzcGFjZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVGFiXCJdID0gOV0gPSBcIlRhYlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW50ZXJcIl0gPSAxM10gPSBcIkVudGVyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTaGlmdFwiXSA9IDE2XSA9IFwiU2hpZnRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkN0cmxcIl0gPSAxN10gPSBcIkN0cmxcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFsdFwiXSA9IDE4XSA9IFwiQWx0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYXVzZUJyZWFrXCJdID0gMTldID0gXCJQYXVzZUJyZWFrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDYXBzTG9ja1wiXSA9IDIwXSA9IFwiQ2Fwc0xvY2tcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVzY2FwZVwiXSA9IDI3XSA9IFwiRXNjYXBlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTcGFjZVwiXSA9IDMyXSA9IFwiU3BhY2VcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhZ2VVcFwiXSA9IDMzXSA9IFwiUGFnZVVwXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYWdlRG93blwiXSA9IDM0XSA9IFwiUGFnZURvd25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVuZFwiXSA9IDM1XSA9IFwiRW5kXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJIb21lXCJdID0gMzZdID0gXCJIb21lXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMZWZ0QXJyb3dcIl0gPSAzN10gPSBcIkxlZnRBcnJvd1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVXBBcnJvd1wiXSA9IDM4XSA9IFwiVXBBcnJvd1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUmlnaHRBcnJvd1wiXSA9IDM5XSA9IFwiUmlnaHRBcnJvd1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRG93bkFycm93XCJdID0gNDBdID0gXCJEb3duQXJyb3dcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkluc2VydFwiXSA9IDQ1XSA9IFwiSW5zZXJ0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEZWxldGVcIl0gPSA0Nl0gPSBcIkRlbGV0ZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiWmVyb1wiXSA9IDQ4XSA9IFwiWmVyb1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2xvc2VkUGFyZW5cIl0gPSA0OF0gPSBcIkNsb3NlZFBhcmVuXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPbmVcIl0gPSA0OV0gPSBcIk9uZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRXhjbGFtYXRpb25NYXJrXCJdID0gNDldID0gXCJFeGNsYW1hdGlvbk1hcmtcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlR3b1wiXSA9IDUwXSA9IFwiVHdvXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBdFNpZ25cIl0gPSA1MF0gPSBcIkF0U2lnblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVGhyZWVcIl0gPSA1MV0gPSBcIlRocmVlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQb3VuZFNpZ25cIl0gPSA1MV0gPSBcIlBvdW5kU2lnblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSGFzaFwiXSA9IDUxXSA9IFwiSGFzaFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRm91clwiXSA9IDUyXSA9IFwiRm91clwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRG9sbGFyU2lnblwiXSA9IDUyXSA9IFwiRG9sbGFyU2lnblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRml2ZVwiXSA9IDUzXSA9IFwiRml2ZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGVyY2VudFNpZ25cIl0gPSA1M10gPSBcIlBlcmNlbnRTaWduXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTaXhcIl0gPSA1NF0gPSBcIlNpeFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2FyZXRcIl0gPSA1NF0gPSBcIkNhcmV0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJIYXRcIl0gPSA1NF0gPSBcIkhhdFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2V2ZW5cIl0gPSA1NV0gPSBcIlNldmVuXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBbXBlcnNhbmRcIl0gPSA1NV0gPSBcIkFtcGVyc2FuZFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRWlnaHRcIl0gPSA1Nl0gPSBcIkVpZ2h0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTdGFyXCJdID0gNTZdID0gXCJTdGFyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBc3RlcmlrXCJdID0gNTZdID0gXCJBc3RlcmlrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOaW5lXCJdID0gNTddID0gXCJOaW5lXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPcGVuUGFyZW5cIl0gPSA1N10gPSBcIk9wZW5QYXJlblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQVwiXSA9IDY1XSA9IFwiQVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQlwiXSA9IDY2XSA9IFwiQlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ1wiXSA9IDY3XSA9IFwiQ1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRFwiXSA9IDY4XSA9IFwiRFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRVwiXSA9IDY5XSA9IFwiRVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRlwiXSA9IDcwXSA9IFwiRlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiR1wiXSA9IDcxXSA9IFwiR1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSFwiXSA9IDcyXSA9IFwiSFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSVwiXSA9IDczXSA9IFwiSVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSlwiXSA9IDc0XSA9IFwiSlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS1wiXSA9IDc1XSA9IFwiS1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTFwiXSA9IDc2XSA9IFwiTFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTVwiXSA9IDc3XSA9IFwiTVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlwiXSA9IDc4XSA9IFwiTlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT1wiXSA9IDc5XSA9IFwiT1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUFwiXSA9IDgwXSA9IFwiUFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUVwiXSA9IDgxXSA9IFwiUVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUlwiXSA9IDgyXSA9IFwiUlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU1wiXSA9IDgzXSA9IFwiU1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVFwiXSA9IDg0XSA9IFwiVFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVwiXSA9IDg1XSA9IFwiVVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVlwiXSA9IDg2XSA9IFwiVlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiV1wiXSA9IDg3XSA9IFwiV1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiWFwiXSA9IDg4XSA9IFwiWFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiWVwiXSA9IDg5XSA9IFwiWVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiWlwiXSA9IDkwXSA9IFwiWlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTGVmdFdpbmRvd0tleVwiXSA9IDkxXSA9IFwiTGVmdFdpbmRvd0tleVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUmlnaHRXaW5kb3dLZXlcIl0gPSA5Ml0gPSBcIlJpZ2h0V2luZG93S2V5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTZWxlY3RLZXlcIl0gPSA5M10gPSBcIlNlbGVjdEtleVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkMFwiXSA9IDk2XSA9IFwiTnVtcGFkMFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkMVwiXSA9IDk3XSA9IFwiTnVtcGFkMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkMlwiXSA9IDk4XSA9IFwiTnVtcGFkMlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkM1wiXSA9IDk5XSA9IFwiTnVtcGFkM1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkNFwiXSA9IDEwMF0gPSBcIk51bXBhZDRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDVcIl0gPSAxMDFdID0gXCJOdW1wYWQ1XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ2XCJdID0gMTAyXSA9IFwiTnVtcGFkNlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkN1wiXSA9IDEwM10gPSBcIk51bXBhZDdcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDhcIl0gPSAxMDRdID0gXCJOdW1wYWQ4XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ5XCJdID0gMTA1XSA9IFwiTnVtcGFkOVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTXVsdGlwbHlcIl0gPSAxMDZdID0gXCJNdWx0aXBseVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQWRkXCJdID0gMTA3XSA9IFwiQWRkXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTdWJ0cmFjdFwiXSA9IDEwOV0gPSBcIlN1YnRyYWN0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEZWNpbWFsUG9pbnRcIl0gPSAxMTBdID0gXCJEZWNpbWFsUG9pbnRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRpdmlkZVwiXSA9IDExMV0gPSBcIkRpdmlkZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjFcIl0gPSAxMTJdID0gXCJGMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjJcIl0gPSAxMTNdID0gXCJGMlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjNcIl0gPSAxMTRdID0gXCJGM1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjRcIl0gPSAxMTVdID0gXCJGNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjVcIl0gPSAxMTZdID0gXCJGNVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjZcIl0gPSAxMTddID0gXCJGNlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjdcIl0gPSAxMThdID0gXCJGN1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjhcIl0gPSAxMTldID0gXCJGOFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjlcIl0gPSAxMjBdID0gXCJGOVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjEwXCJdID0gMTIxXSA9IFwiRjEwXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTFcIl0gPSAxMjJdID0gXCJGMTFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMlwiXSA9IDEyM10gPSBcIkYxMlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtTG9ja1wiXSA9IDE0NF0gPSBcIk51bUxvY2tcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNjcm9sbExvY2tcIl0gPSAxNDVdID0gXCJTY3JvbGxMb2NrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTZW1pQ29sb25cIl0gPSAxODZdID0gXCJTZW1pQ29sb25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVxdWFsc1wiXSA9IDE4N10gPSBcIkVxdWFsc1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ29tbWFcIl0gPSAxODhdID0gXCJDb21tYVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGFzaFwiXSA9IDE4OV0gPSBcIkRhc2hcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBlcmlvZFwiXSA9IDE5MF0gPSBcIlBlcmlvZFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVW5kZXJTY29yZVwiXSA9IDE4OV0gPSBcIlVuZGVyU2NvcmVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBsdXNTaWduXCJdID0gMTg3XSA9IFwiUGx1c1NpZ25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkZvcndhcmRTbGFzaFwiXSA9IDE5MV0gPSBcIkZvcndhcmRTbGFzaFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVGlsZGVcIl0gPSAxOTJdID0gXCJUaWxkZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiR3JhdmVBY2NlbnRcIl0gPSAxOTJdID0gXCJHcmF2ZUFjY2VudFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT3BlbkJyYWNrZXRcIl0gPSAyMTldID0gXCJPcGVuQnJhY2tldFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2xvc2VkQnJhY2tldFwiXSA9IDIyMV0gPSBcIkNsb3NlZEJyYWNrZXRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlF1b3RlXCJdID0gMjIyXSA9IFwiUXVvdGVcIjtcclxufSkoS2V5Q29kZSB8fCAoS2V5Q29kZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleWNvZGUuanMubWFwXG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgZ2xvYmFsIGtleWJvYXJkLiBXaWxsIGxpa2VseSBvbmx5IGNyZWF0ZSBvbmUgcGVyIGFwcC5cclxuICpcclxuICogWW91IGNhbiBiaW5kL3N3aXRjaCBLZXlib2FyZENvbnRleHRzIHRvIHRoZSBLZXlib2FyZCBoYW5kbGVyXHJcbiAqIHRvIGNoYW5nZSBpbnB1dCAnbW9kZXMnLlxyXG4gKi9cclxudmFyIEtleWJvYXJkSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IEtleWJvYXJkSGFuZGxlciAqL1xyXG4gICAgZnVuY3Rpb24gS2V5Ym9hcmRIYW5kbGVyKCkge1xyXG4gICAgICAgIHRoaXMuX2lzRG93biA9IG5ldyBTZXQoKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bkV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXBFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUub25LZXlEb3duRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuX2lzRG93bi5hZGQoZS5rZXlDb2RlKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0LmZpcmVPbkRvd24oZS5rZXlDb2RlKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgS2V5Ym9hcmRIYW5kbGVyLnByb3RvdHlwZS5vbktleVVwRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuX2lzRG93bi5kZWxldGUoZS5rZXlDb2RlKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0LmZpcmVPblVwKGUua2V5Q29kZSk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWN0aXZlIGNvbnRleHQgb2YgdGhlIGtleWJvYXJkIGhhbmRsZXIuXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCBLZXlib2FyZENvbnRleHQgLSBUaGUgY29udGV4dCB0byB1c2VcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRIYW5kbGVyLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSBhY3RpdmUgY29udGV4dCBmb3IgdGhlIGtleWJvYXJkIGhhbmRsZXIuXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuY2xlYXJDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpZiBhIGtleSBpcyBjdXJyZW50bHkgaGVsZCBkb3duLlxyXG4gICAgICogQHBhcmFtIGtleUNvZGUgS2V5Q29kZSB8IG51bWJlciAtIFRoZSBrZXlDb2RlIHRvIGNoZWNrXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuaXNLZXlEb3duID0gZnVuY3Rpb24gKGtleUNvZGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNEb3duLmhhcyhrZXlDb2RlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gS2V5Ym9hcmRIYW5kbGVyO1xyXG59KCkpO1xyXG4vKiogUmVwcmVzZW50cyBhIGtleWJvYXJkICdtb2RlJywgbGlrZSBuYXZpZ2F0aW5nIGEgbWVudSBvciB3b3JsZC4gKi9cclxudmFyIEtleWJvYXJkQ29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEtleWJvYXJkQ29udGV4dCgpIHtcclxuICAgICAgICB0aGlzLl9vbkRvd24gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5fb25VcCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgY2FsbGJhY2sgb24gS2V5RG93blxyXG4gICAgICogQHBhcmFtIGtleSBLZXlDb2RlIHwgbnVtYmVyIC0gVGhlIEtleSB0byBtb25pdG9yXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKCkgPT4gdm9pZCAtIFRoZSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBLZXlib2FyZENvbnRleHQucHJvdG90eXBlLm9uRG93biA9IGZ1bmN0aW9uIChrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fb25Eb3duLnNldChrZXksIGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIGNhbGxiYWNrIG9uIEtleVVwXHJcbiAgICAgKiBAcGFyYW0ga2V5IEtleUNvZGUgfCBudW1iZXIgLSBUaGUgS2V5IHRvIG1vbml0b3JcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAoKSA9PiB2b2lkIC0gVGhlIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkQ29udGV4dC5wcm90b3R5cGUub25VcCA9IGZ1bmN0aW9uIChrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fb25VcC5zZXQoa2V5LCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9ncmFtbWF0aWNhbGx5IGZpcmUgYSBjYWxsYmFjayBhcyBpZiBhIGtleSB3YXMgcHJlc3NlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgS2V5Q29kZSB8IG51bWJlciAtIFRoZSBLZXkgdG8gbW9uaXRvclxyXG4gICAgICovXHJcbiAgICBLZXlib2FyZENvbnRleHQucHJvdG90eXBlLmZpcmVPbkRvd24gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGZuID0gdGhpcy5fb25Eb3duLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChmbilcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb2dyYW1tYXRpY2FsbHkgZmlyZSBhIGNhbGxiYWNrIGFzIGlmIGEga2V5IHdhcyBsaWZ0ZWQuXHJcbiAgICAgKiBAcGFyYW0ga2V5IEtleUNvZGUgfCBudW1iZXIgLSBUaGUgS2V5IHRvIG1vbml0b3JcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRDb250ZXh0LnByb3RvdHlwZS5maXJlT25VcCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgZm4gPSB0aGlzLl9vblVwLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChmbilcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gS2V5Ym9hcmRDb250ZXh0O1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXlib2FyZC5qcy5tYXBcblxuLyoqIEFic3RyYWN0cyBicm93c2VyIG1vdXNlIGlucHV0ICovXHJcbnZhciBNb3VzZUhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBNb3VzZSBIYW5kbGVyICovXHJcbiAgICBmdW5jdGlvbiBNb3VzZUhhbmRsZXIoKSB7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuX2lzRG93biA9IG5ldyBTZXQoKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZVVwZGF0ZUV2ZW50LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uTW91c2VVcGRhdGVFdmVudC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXBFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUub25Nb3VzZURvd25FdmVudCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy5faXNEb3duLmFkZChlLmJ1dHRvbik7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IGUucGFnZVg7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZS5wYWdlWTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbGxPbk1vdXNlRG93bih7IHg6IHgsIHk6IHkgfSwgZS5idXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLm9uTW91c2VVcEV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLl9pc0Rvd24uZGVsZXRlKGUuYnV0dG9uKTtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gZS5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIHkgPSBlLnBhZ2VZO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2FsbE9uTW91c2VVcCh7IHg6IHgsIHk6IHkgfSwgZS5idXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLm9uTW91c2VVcGRhdGVFdmVudCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy54ID0gZS5wYWdlWDtcclxuICAgICAgICB0aGlzLnkgPSBlLnBhZ2VZO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb3VzZSBidXR0b24gaXMgZG93bi5cclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiBudW1iZXIgLSBEZWZhdWx0IDAgZm9yIGxlZnQgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUuaXNNb3VzZURvd24gPSBmdW5jdGlvbiAobW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faXNEb3duLmhhcyhtb3VzZUJ1dHRvbik7XHJcbiAgICB9O1xyXG4gICAgLyoqIEdldHMgdGhlIGN1cnJlbnQgd2luZG93IHBvc2l0aW9uIG9mIHRoZSBtb3VzZSAqL1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBtb3VzZSBjb250ZXh0XHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCBNb3VzZUNvbnRleHRcclxuICAgICAqL1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKiBDbGVhcnMgdGhlIGFjdGl2ZSBtb3VzZSBjb250ZXh0ICovXHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLmNsZWFyQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1vdXNlSGFuZGxlcjtcclxufSgpKTtcclxudmFyIE1vdXNlQ29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1vdXNlQ29udGV4dCgpIHtcclxuICAgICAgICB0aGlzLm9uRG93biA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLm9uVXAgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIGZvciBhIG1vdXNlZG93biBldmVudFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gbW91c2Vkb3duXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gLSBUaGUgbW91c2UgYnV0dG9uIG51bWJlci4gRGVmYXVsdCAwIGZvciBsZWZ0IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHRoaXMub25Eb3duLnNldChtb3VzZUJ1dHRvbiwgY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgZm9yIGEgbW91c2V1cCBldmVudFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gbW91c2V1cFxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiBudW1iZXIuIERlZmF1bHQgMCBmb3IgbGVmdCBjbGljay5cclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdGhpcy5vblVwLnNldChtb3VzZUJ1dHRvbiwgY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGEgcmVnaXN0ZXJlZCBmdW5jdGlvbiBmb3IgbW91c2Vkb3duXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gLSBUaGUgbW91c2UgYnV0dG9uIHRvIGNsZWFyLiBEZWZhdWx0IDAgZm9yIGxlZnQgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUuY2xlYXJNb3VzZURvd24gPSBmdW5jdGlvbiAobW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB0aGlzLm9uRG93bi5kZWxldGUobW91c2VCdXR0b24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGEgcmVnaXN0ZXJlZCBmdW5jdGlvbiBmb3IgbW91c2V1cFxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiB0byBjbGVhci4gRGVmYXVsdCAwIGZvciBsZWZ0IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLmNsZWFyTW91c2VVcCA9IGZ1bmN0aW9uIChtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHRoaXMub25VcC5kZWxldGUobW91c2VCdXR0b24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyBhIHJlZ2lzdGVyZWQgY2FsbGJhY2sgZm9yIG1vdXNlZG93blxyXG4gICAgICogQHBhcmFtIHBvcyBWZWN0b3IyIC0gVGhlIHBvcyBmb3IgdGhlIG1vdXNlXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gLSBUaGUgbW91c2UgYnV0dG9uIHByZXNzZWRcclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5jYWxsT25Nb3VzZURvd24gPSBmdW5jdGlvbiAocG9zLCBtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMub25Eb3duLmdldChtb3VzZUJ1dHRvbik7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICBjYWxsYmFjayhwb3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyBhIHJlZ2lzdGVyZWQgY2FsbGJhY2sgZm9yIG1vdXNldXBcclxuICAgICAqIEBwYXJhbSBwb3NcclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvblxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLmNhbGxPbk1vdXNlVXAgPSBmdW5jdGlvbiAocG9zLCBtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMub25VcC5nZXQobW91c2VCdXR0b24pO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaylcclxuICAgICAgICAgICAgY2FsbGJhY2socG9zKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTW91c2VDb250ZXh0O1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb3VzZS5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQxID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGdldCBLZXlDb2RlICgpIHsgcmV0dXJuIEtleUNvZGU7IH0sXG4gICAgS2V5Ym9hcmRDb250ZXh0OiBLZXlib2FyZENvbnRleHQsXG4gICAgS2V5Ym9hcmRIYW5kbGVyOiBLZXlib2FyZEhhbmRsZXIsXG4gICAgTW91c2VIYW5kbGVyOiBNb3VzZUhhbmRsZXIsXG4gICAgTW91c2VDb250ZXh0OiBNb3VzZUNvbnRleHRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwXG5cbi8vIFRvRG8gLSBNYWtlIHRoaXMgbW9yZSBlZmZpY2llbnQgdmlhIGhlYXBcclxudmFyIFByaW9yaXR5UXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcmlvcml0eVF1ZXVlKHByaW9yaXR5RnVuYykge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHlGdW5jID0gcHJpb3JpdHlGdW5jO1xyXG4gICAgfVxyXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgc2NvcmUgPSB0aGlzLnByaW9yaXR5RnVuYyhkYXRhKTtcclxuICAgICAgICB0aGlzLmRhdGEucHVzaChbc2NvcmUsIGRhdGFdKTtcclxuICAgIH07XHJcbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBtaW4gPSBJbmZpbml0eTtcclxuICAgICAgICB2YXIgbWluSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoX2EsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBfYVswXSwgZCA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICBtaW5JbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVttaW5JbmRleF1bMV07XHJcbiAgICB9O1xyXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBtaW4gPSBJbmZpbml0eTtcclxuICAgICAgICB2YXIgbWluSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoX2EsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBfYVswXSwgZCA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICBtaW5JbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHBvcHBlZCA9IHRoaXMuZGF0YS5zcGxpY2UobWluSW5kZXgsIDEpO1xyXG4gICAgICAgIHJldHVybiBwb3BwZWRbMF1bMV07XHJcbiAgICB9O1xyXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJpb3JpdHlRdWV1ZTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpb3JpdHktcXVldWUuanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXgkMiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBUYWJsZTogVGFibGUsXG4gICAgUHJpb3JpdHlRdWV1ZTogUHJpb3JpdHlRdWV1ZVxufSk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ucXVpbmxhbi9iZXR0ZXItcmFuZG9tLW51bWJlcnMtZm9yLWphdmFzY3JpcHQtbWlycm9yXHJcbi8vIEpvaGFubmVzIEJhYWfDuGUgPGJhYWdvZUBiYWFnb2UuY29tPiwgMjAxMFxyXG5mdW5jdGlvbiBNYXNoKCkge1xyXG4gICAgdmFyIG4gPSAweGVmYzgyNDlkO1xyXG4gICAgdmFyIG1hc2ggPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG4gKz0gZGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICB2YXIgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xyXG4gICAgICAgICAgICBuID0gaCA+Pj4gMDtcclxuICAgICAgICAgICAgaCAtPSBuO1xyXG4gICAgICAgICAgICBoICo9IG47XHJcbiAgICAgICAgICAgIG4gPSBoID4+PiAwO1xyXG4gICAgICAgICAgICBoIC09IG47XHJcbiAgICAgICAgICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxyXG4gICAgfTtcclxuICAgIHJldHVybiBtYXNoO1xyXG59XHJcbnZhciBBbGVhUk5HID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQWxlYVJORyhzZWVkKSB7XHJcbiAgICAgICAgdGhpcy5zMCA9IDA7XHJcbiAgICAgICAgdGhpcy5zMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zMiA9IDA7XHJcbiAgICAgICAgdGhpcy5jID0gMDtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHNlZWQgaWYgbmVlZGVkXHJcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZCA9PT0gdW5kZWZpbmVkID8gbmV3IERhdGUoKS50b1N0cmluZygpIDogc2VlZDtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWFzaCA9IE1hc2goKTtcclxuICAgICAgICAvLyBJbml0aWFsIG1hc2hlc1xyXG4gICAgICAgIHRoaXMuczAgPSBtYXNoKFwiIFwiKTtcclxuICAgICAgICB0aGlzLnMxID0gbWFzaChcIiBcIik7XHJcbiAgICAgICAgdGhpcy5zMiA9IG1hc2goXCIgXCIpO1xyXG4gICAgICAgIHRoaXMuYyA9IDE7XHJcbiAgICAgICAgdGhpcy5zMCAtPSBtYXNoKHRoaXMuc2VlZCk7XHJcbiAgICAgICAgdGhpcy5zMSAtPSBtYXNoKHRoaXMuc2VlZCk7XHJcbiAgICAgICAgdGhpcy5zMiAtPSBtYXNoKHRoaXMuc2VlZCk7XHJcbiAgICAgICAgdGhpcy5zYW5pdGl6ZSgpO1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLnNhbml0aXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnMwIDwgMClcclxuICAgICAgICAgICAgdGhpcy5zMCArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnMxIDwgMClcclxuICAgICAgICAgICAgdGhpcy5zMSArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnMyIDwgMClcclxuICAgICAgICAgICAgdGhpcy5zMiArPSAxO1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVGhlIGRhcmsgbWFnaWMgdGhhdCBtYWtlcyB0aGUgbnVtYmVyIGdlbmVyYXRvciBydW5cclxuICAgICAgICB2YXIgdCA9IDIwOTE2MzkgKiB0aGlzLnMwICsgdGhpcy5jICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcclxuICAgICAgICB0aGlzLnMwID0gdGhpcy5zMTtcclxuICAgICAgICB0aGlzLnMxID0gdGhpcy5zMjtcclxuICAgICAgICByZXR1cm4gKHRoaXMuczIgPSB0IC0gKHRoaXMuYyA9IHQgfCAwKSk7XHJcbiAgICB9O1xyXG4gICAgLy8gUmV0dXJucyBiZXR3ZWVuIFswLDEpXHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5uZXh0UmFuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc3RlcCgpICsgKCh0aGlzLnN0ZXAoKSAqIDB4MjAwMDAwKSB8IDApICogMS4xMTAyMjMwMjQ2MjUxNTY1ZS0xNik7IC8vIDJeLTUzXHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gICAgICAgIGlmIChtaW4gPT09IHZvaWQgMCkgeyBtaW4gPSAwOyB9XHJcbiAgICAgICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7IG1heCA9IDE7IH1cclxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0UmFuZCgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUubmV4dEludCA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gICAgICAgIGlmIChtaW4gPT09IHZvaWQgMCkgeyBtaW4gPSAwOyB9XHJcbiAgICAgICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7IG1heCA9IDEwMDsgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMubmV4dCgpICogKG1heCAtIG1pbikgKyBtaW4pO1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLm5leHRCb29sZWFuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5leHRSYW5kKCkgPiAwLjU7XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUubmV4dEl0ZW0gPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBpID0gdGhpcy5uZXh0SW50KDAsIGFycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5W2ldO1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLnNodWZmbGUgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdmFyIGNsb25lID0gYXJyYXkuc2xpY2UoKTtcclxuICAgICAgICB3aGlsZSAoY2xvbmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMubmV4dEludCgwLCBjbG9uZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChjbG9uZS5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYSA9IG5ldyBBbGVhUk5HKCk7XHJcbiAgICAgICAgYS5zMCA9IHRoaXMuczA7XHJcbiAgICAgICAgYS5zMSA9IHRoaXMuczE7XHJcbiAgICAgICAgYS5zMiA9IHRoaXMuczI7XHJcbiAgICAgICAgYS5jID0gdGhpcy5jO1xyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbGVhUk5HO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbGVhLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgQWxlYVJORzogQWxlYVJOR1xufSk7XG5cbi8qKiBDb250YWlucyBtYXRoIGZvciBjb21tb24gdmVjdG9yIG9wZXJhdGlvbnMuICovXHJcbnZhciBWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBWZWN0b3IoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0d28gdmVjdG9ycyBoYXZlIHRoZSBzYW1lIHggYW5kIHkgdmFsdWVzLlxyXG4gICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCBWZWN0b3IyLlxyXG4gICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgVmVjdG9yMi5cclxuICAgICAqL1xyXG4gICAgVmVjdG9yLmFyZUVxdWFsID0gZnVuY3Rpb24gKHYxLCB2Mikge1xyXG4gICAgICAgIHJldHVybiB2MS54ID09PSB2Mi54ICYmIHYxLnkgPT09IHYyLnk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWN0b3JzLlxyXG4gICAgICpcclxuICAgICAqIElmIG5vIHRvcG9sb2d5IGlzIGdpdmVuLCBkaWFnb25hbCBkaXN0YW5jZSBpcyBzcXJ0KDIpLlxyXG4gICAgICogSWYgdG9wb2xvZ3kgaXMgZm91ciwgZGlhZ29uYWwgZGlzdGFuY2UgaXMgMi5cclxuICAgICAqIElmIHRvcG9sb2d5IGlzIGVpZ2h0LCBkaWFnb25hbCBkaXN0YW5jZSBpcyAxLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzdGFydCBUaGUgc3RhcnRpbmcgVmVjdG9yMi5cclxuICAgICAqIEBwYXJhbSBlbmQgVGhlIGVuZGluZyBWZWN0b3IyLlxyXG4gICAgICogQHBhcmFtIHRvcG9sb2d5IENhbiB1c2UgXCJmb3VyXCIgb3IgXCJlaWdodFwiIGZvciBub24tY2FydGVzaWFuIGRpc3RhbmNlcy5cclxuICAgICAqL1xyXG4gICAgVmVjdG9yLmdldERpc3RhbmNlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHRvcG9sb2d5KSB7XHJcbiAgICAgICAgaWYgKHRvcG9sb2d5ID09PSBcImZvdXJcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoc3RhcnQueCAtIGVuZC54KSArIE1hdGguYWJzKHN0YXJ0LnkgLSBlbmQueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvcG9sb2d5ID09PSBcImVpZ2h0XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHN0YXJ0LnggLSBlbmQueCksIE1hdGguYWJzKHN0YXJ0LnkgLSBlbmQueSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBzdGFydC54IC0gZW5kLng7XHJcbiAgICAgICAgICAgIHZhciBiID0gc3RhcnQueSAtIGVuZC55O1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFdpbGwgZmluZCB0aGUgY2VudGVyIG9mIGFuIGFyZWEgYnkgYXZlcmFnaW5nIGFsbCBWZWN0b3JzIGluIHRoZSBhcmVhLlxyXG4gICAgICogVGhpcyBwb2ludCBtYXkgbm90IGJlIGluIHRoZSBhcmVhIGl0c2VsZiwgZm9yIGV4YW1wbGUgaW4gYSBkb251dCBzaGFwZWQgYXJlYS5cclxuICAgICAqIEBwYXJhbSBhcmVhIFZlY3RvcjJcclxuICAgICAqL1xyXG4gICAgVmVjdG9yLmdldENlbnRlciA9IGZ1bmN0aW9uIChhcmVhKSB7XHJcbiAgICAgICAgaWYgKGFyZWEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogVHJ5aW5nIHRvIGZpbmQgY2VudGVyIG9mIGVtcHR5IGFyZWFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzeCA9IDA7XHJcbiAgICAgICAgdmFyIHN5ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGFyZWFfMSA9IGFyZWE7IF9pIDwgYXJlYV8xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdiA9IGFyZWFfMVtfaV07XHJcbiAgICAgICAgICAgIHN4ICs9IHYueDtcclxuICAgICAgICAgICAgc3kgKz0gdi55O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBzeCAvIGFyZWEubGVuZ3RoLFxyXG4gICAgICAgICAgICB5OiBzeSAvIGFyZWEubGVuZ3RoLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaWxsIGZpbmQgdGhlIHBvc2l0aW9uIGluIHRoZSBhcmVhIGNsb3Nlc3QgdG8gdGhlIHRhcmdldFxyXG4gICAgICogQHBhcmFtIGFyZWEgVmVjdG9yMltdXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFZlY3RvcjJcclxuICAgICAqIEBwYXJhbSB0b3BvbG9neSBFaXRoZXIgJ2ZvdXInIG9yICdlaWdodCcuIERlZmF1bHQgJ2ZvdXInXHJcbiAgICAgKi9cclxuICAgIFZlY3Rvci5nZXRDbG9zZXN0ID0gZnVuY3Rpb24gKGFyZWEsIHRhcmdldCwgdG9wb2xvZ3kpIHtcclxuICAgICAgICBpZiAodG9wb2xvZ3kgPT09IHZvaWQgMCkgeyB0b3BvbG9neSA9IFwiZm91clwiOyB9XHJcbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYXJlYSBpcyBlbXB0eVxyXG4gICAgICAgIGlmIChhcmVhLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFRyeWluZyB0byBmaW5kIGNsb3Nlc3QgcG9zaXRpb24gb2YgYW4gZW1wdHkgYXJlYVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgY2xvc2VzdCB3ZSd2ZSBmb3VuZC5cclxuICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcclxuICAgICAgICB2YXIgY2xvc2VzdCA9IGFyZWFbMF07XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBhcmVhXzIgPSBhcmVhOyBfaSA8IGFyZWFfMi5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBhcmVhXzJbX2ldO1xyXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBWZWN0b3IuZ2V0RGlzdGFuY2UodGFyZ2V0LCB2LCB0b3BvbG9neSk7XHJcbiAgICAgICAgICAgIC8vIEZvdW5kIGV4YWN0IG9uZSwgaW1tZWRpYXRlbHkgcmV0dXJuXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiB0YXJnZXQueCxcclxuICAgICAgICAgICAgICAgICAgICB5OiB0YXJnZXQueSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2xvc2VyIHRoYW4gY3VycmVudGx5IGtub3duXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VzdCA9IHY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3Q7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZlY3RvcjtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuZnVuY3Rpb24gZ2V0UmluZzgob3JpZ2luWCwgb3JpZ2luWSwgcmFuZ2UpIHtcclxuICAgIGlmIChyYW5nZSA9PT0gMClcclxuICAgICAgICByZXR1cm4gW3sgeDogb3JpZ2luWCwgeTogb3JpZ2luWSB9XTtcclxuICAgIHZhciByaW5nID0gW107XHJcbiAgICB2YXIgbWF4WCA9IG9yaWdpblggKyByYW5nZTtcclxuICAgIHZhciBtaW5YID0gb3JpZ2luWCAtIHJhbmdlO1xyXG4gICAgdmFyIG1heFkgPSBvcmlnaW5ZICsgcmFuZ2U7XHJcbiAgICB2YXIgbWluWSA9IG9yaWdpblkgLSByYW5nZTtcclxuICAgIC8vU3RhcnQgYXQgdGhlIDMgbydjbG9jaywgKDAgZGVncmVlcyksIHJvdGF0ZSBhbGwgdGhlIHdheSBhcm91bmRcclxuICAgIC8vIFRvcCBSaWdodCBTaWRlLCBubyBjb3JuZXJcclxuICAgIGZvciAodmFyIHggPSBtYXhYLCB5ID0gb3JpZ2luWTsgeSA+IG1pblk7IHktLSkge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBUb3AgU2lkZSwgcmlnaHQgdG8gbGVmdC4gSW5jbHVkZSB0b3AgY29ybmVyc1xyXG4gICAgZm9yICh2YXIgeCA9IG1heFgsIHkgPSBtaW5ZOyB4ID49IG1pblg7IHgtLSkge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBMZWZ0IHNpZGUsIG5vIGNvcm5lcnNcclxuICAgIGZvciAodmFyIHggPSBtaW5YLCB5ID0gbWluWSArIDE7IHkgPCBtYXhZOyB5KyspIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQm90dG9tIHNpZGUsIGNvcm5lcnNcclxuICAgIGZvciAodmFyIHggPSBtaW5YLCB5ID0gbWF4WTsgeCA8PSBtYXhYOyB4KyspIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gUmlnaHQgc2lkZSBiYWNrIHRvIHRvIDAgZGVncmVlcywgbm8gY29ybmVyXHJcbiAgICBmb3IgKHZhciB4ID0gbWF4WCwgeSA9IG1heFkgLSAxOyB5ID4gb3JpZ2luWTsgeS0tKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByaW5nO1xyXG59XHJcbmZ1bmN0aW9uIGdldFJpbmc0KG9yaWdpblgsIG9yaWdpblksIHJhbmdlKSB7XHJcbiAgICBpZiAocmFuZ2UgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB4OiBvcmlnaW5YLFxyXG4gICAgICAgICAgICAgICAgeTogb3JpZ2luWSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgdmFyIHJpbmcgPSBbXTtcclxuICAgIHZhciBtYXhYID0gb3JpZ2luWCArIHJhbmdlO1xyXG4gICAgdmFyIG1pblggPSBvcmlnaW5YIC0gcmFuZ2U7XHJcbiAgICB2YXIgbWF4WSA9IG9yaWdpblkgKyByYW5nZTtcclxuICAgIHZhciBtaW5ZID0gb3JpZ2luWSAtIHJhbmdlO1xyXG4gICAgLy8gVG9wIHJpZ2h0IGFyY1xyXG4gICAgZm9yICh2YXIgeCA9IG1heFgsIHkgPSBvcmlnaW5ZOyB4ID4gb3JpZ2luWDsgeC0tLCB5LS0pIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gVG9wIGxlZnQgYXJjXHJcbiAgICBmb3IgKHZhciB4ID0gb3JpZ2luWCwgeSA9IG1pblk7IHggPiBtaW5YOyB4LS0sIHkrKykge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBCb3R0b20gbGVmdCBhcmNcclxuICAgIGZvciAodmFyIHggPSBtaW5YLCB5ID0gb3JpZ2luWTsgeCA8IG9yaWdpblg7IHgrKywgeSsrKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIEJvdHRvbSByaWdodCBhcmNcclxuICAgIGZvciAodmFyIHggPSBvcmlnaW5YLCB5ID0gbWF4WTsgeCA8IG1heFg7IHgrKywgeS0tKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByaW5nO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1yaW5nLmpzLm1hcFxuXG52YXIgQVN0YXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBjb25maWcgLSBHZW5lcmFsIHBhcmFtZXRlcnMgZm9yIHRoZSBBU3RhciBQYXRoZmluZGVyXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmlzQmxvY2tlZENhbGxiYWNrIC0gUmV0dXJuIHRydWUgaWYgdGhlIHBvc2l0aW9uIGlzIGJsb2NrZWQuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnRvcG9sb2d5IC0gZm91ciB8IGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEFTdGFyKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuaXNCbG9ja2VkID0gY29uZmlnLmlzQmxvY2tlZENhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudG9wb2xvZ3kgPSBjb25maWcudG9wb2xvZ3k7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbmVpZ2h0Ym9ycyBvZiBhIHBvaW50LiBSZXR1cm5zIG9ydGhvZ29uYWxcclxuICAgICAqIGRpcmVjdGlvbnMgZmlyc3QsIHRoZW4gZGlhZ29uYWwgaWYgdG9wb2xvZ3kgaXMgOC5cclxuICAgICAqIFJlc3VsdHMgaW4gbW9yZSBuYXR1cmFsIGxvb2tpbmcgcGF0aHMuXHJcbiAgICAgKiBAcGFyYW0gcG9zIC0gVmVjdG9yMlxyXG4gICAgICovXHJcbiAgICBBU3Rhci5wcm90b3R5cGUuZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgIHZhciBuZWlnaGJvcnMgPSBnZXRSaW5nNChwb3MueCwgcG9zLnksIDEpO1xyXG4gICAgICAgIGlmICh0aGlzLnRvcG9sb2d5ID09PSBcImVpZ2h0XCIpIHtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55IC0gMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCAtIDEsIHk6IHBvcy55IC0gMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCAtIDEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5laWdoYm9ycztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBzdGFydCBWZWN0b3IyIC0gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0gZW5kICBWZWN0b3IyIC0gVGhlIGVuZGluZyBwb3NpdGlvblxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFZlY3RvcjJbXSB8IHVuZGVmaW5lZCAtIFJldHVybnMgdGhlIHBhdGgsXHJcbiAgICAgKiBpbmNsdWRpbmcgc3RhcnQgKyBlbmQsIG9yIHVuZGVmaW5lZCBpZiBubyBwYXRoIGlzIGZvdW5kLlxyXG4gICAgICovXHJcbiAgICBBU3Rhci5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBvcGVuU2V0IGlzIHRoZSBzZXQgb2YgZGlzY292ZXJlZCBub2RlcywgYW5kIG1vcmUgbWlnaHQgYmUgZm91bmRcclxuICAgICAgICB2YXIgb3BlblNldCA9IG5ldyBQcmlvcml0eVF1ZXVlKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLmZTY29yZTsgfSk7XHJcbiAgICAgICAgb3BlblNldC5pbnNlcnQoe1xyXG4gICAgICAgICAgICB2OiBzdGFydCxcclxuICAgICAgICAgICAgZlNjb3JlOiBWZWN0b3IuZ2V0RGlzdGFuY2Uoc3RhcnQsIGVuZCwgXCJlaWdodFwiKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjYW1lRnJvbSBtYXBzIGEgbm9kZSB0byB0aGUgb25lIHByZWNlZGluZyBpdCB3aXRoIHRoZSBjaGVhcGVzdCBwYXRoXHJcbiAgICAgICAgdmFyIGNhbWVGcm9tID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIGdTY29yZSB0cmFja3MgdGhlIGNoZWFwZXN0IHBhdGggZnJvbSBzdGFydCB0byB0aGUgbm9kZVxyXG4gICAgICAgIC8vIGZTY29yZSB0cmFja3MgZ1Njb3JlICsgZXNpbWF0ZWRcclxuICAgICAgICB2YXIgZ1Njb3JlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGdTY29yZS5zZXQoc3RhcnQueCArIFwiOlwiICsgc3RhcnQueSwgMCk7XHJcbiAgICAgICAgd2hpbGUgKG9wZW5TZXQuc2l6ZSgpKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gb3BlblNldC5wb3AoKS52O1xyXG4gICAgICAgICAgICBpZiAoVmVjdG9yLmFyZUVxdWFsKGN1cnJlbnQsIGVuZCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJTdHIgPSBjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueTtcclxuICAgICAgICAgICAgICAgIHZhciB0b3RhbFBhdGggPSBbY3VycmVudF07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2FtZUZyb20uaGFzKGN1clN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldlN0ciA9IGNhbWVGcm9tLmdldChjdXJTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHByZXZTdHIuc3BsaXQoXCI6XCIpLCB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJTdHIgPSBwcmV2U3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGF0aC51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogTnVtYmVyLnBhcnNlSW50KHgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBOdW1iZXIucGFyc2VJbnQoeSksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWxQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhjdXJyZW50KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBuZWlnaGJvcnMgPSBuZWlnaGJvcnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiBfdGhpcy5pc0Jsb2NrZWQodikgPT09IGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY3VycmVudEdTY29yZSA9IGdTY29yZS5nZXQoY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50LnkpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5laWdoYm9yc18xID0gbmVpZ2hib3JzOyBfaSA8IG5laWdoYm9yc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSBuZWlnaGJvcnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAvLyBUb0RvIC0gYWxsb3cgdGhlIGRpc3RhbmNlIHRvIGJlIGRldGVybWluZWQgYnkgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIHZhciB0ZW50YXRpdmVfZ1Njb3JlID0gY3VycmVudEdTY29yZSArIDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ1Njb3JlLmhhcyhuLnggKyBcIjpcIiArIG4ueSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG4ueCArIFwiOlwiICsgbi55LCBjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ1Njb3JlLnNldChuLnggKyBcIjpcIiArIG4ueSwgdGVudGF0aXZlX2dTY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZTY29yZSA9IHRlbnRhdGl2ZV9nU2NvcmUgKyBWZWN0b3IuZ2V0RGlzdGFuY2UobiwgZW5kLCBcImVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5TZXQuaW5zZXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdjogbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZlNjb3JlOiBmU2NvcmUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2UgbmV2ZXIgZ290IGN1cnJlbnQgPT0gZW5kXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQVN0YXI7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzdGFyLmpzLm1hcFxuXG4vKipcclxuICogQ29ubmVjdHMgYXJlYXMgb2YgdGhlIG1hcCB0byBlbnN1cmUgdGhleSBhcmUgYWxsIGNvbm5lY3RlZC5cclxuICpcclxuICogRm9yIGluc3RhbmNlLCBpZiB5b3UncmUgdXNpbmcgYW4gYWxpdmUgdmFsdWUgb2YgMSBmb3Igd2FsbHMsXHJcbiAqIHRoZW4gdGhpcyBjYW4gY29ubmVjdCB0aGUgZGVhZCB2YWx1ZSBvZiAwIHRvIGVuc3VyZSBhbGxcclxuICogc3F1YXJlcyBvbiB0aGUgbWFwIGFyZSBhY2Nlc3NhYmxlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbm5lY3QgKGRlZmF1bHQgdGhpcy5kZWFkVmFsdWUpXHJcbiAqL1xyXG5mdW5jdGlvbiBjb25uZWN0KHRhYmxlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHNwYWNlc1RvQ29ubmVjdCA9IG5ldyBTZXQoKTtcclxuICAgIHZhciBncm91cHMgPSBbXTtcclxuICAgIHZhciBwYXRocyA9IFtdO1xyXG4gICAgLy8gR2V0IGFsbCBzcGFjZXMgd2l0aCB0aGUgdmFsdWVcclxuICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGFibGUud2lkdGg7IHgrKykge1xyXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGFibGUuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmdldCh7IHg6IHgsIHk6IHkgfSkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzcGFjZXNUb0Nvbm5lY3QuYWRkKHggKyBcIjpcIiArIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gRmlndXJlIG91dCB3aGljaCBncm91cHMgdGhlcmUgYXJlXHJcbiAgICB3aGlsZSAoc3BhY2VzVG9Db25uZWN0LnNpemUgPiAwKSB7XHJcbiAgICAgICAgdmFyIHYgPSBBcnJheS5mcm9tKHNwYWNlc1RvQ29ubmVjdC5lbnRyaWVzKCkpWzBdWzBdO1xyXG4gICAgICAgIHZhciBfYSA9IHYuc3BsaXQoXCI6XCIpLCB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IE51bWJlci5wYXJzZUludCh4KSxcclxuICAgICAgICAgICAgeTogTnVtYmVyLnBhcnNlSW50KHkpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gR3JhYiBhbiBhcmVhLCB0aGVuIHJlbW92ZSB0aG9zZSB0aWxlcyBmcm9tIHRoZSBzcGFjZXNUb0Nvbm5lY3RcclxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGFibGUuZmxvb2RGaWxsU2VsZWN0KHBvc2l0aW9uKTtcclxuICAgICAgICBncm91cHMucHVzaChzZWxlY3Rpb24pO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgc2VsZWN0aW9uXzEgPSBzZWxlY3Rpb247IF9pIDwgc2VsZWN0aW9uXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzID0gc2VsZWN0aW9uXzFbX2ldO1xyXG4gICAgICAgICAgICBzcGFjZXNUb0Nvbm5lY3QuZGVsZXRlKHMueCArIFwiOlwiICsgcy55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzcGFjZXNUb0Nvbm5lY3QgaXMgbm93IGVtcHR5LlxyXG4gICAgLy8gRWFjaCBncm91cCBpbiBncm91cHMgaXMgYW4gaXNvbGF0ZWQgc2V0IG9mIHRpbGVzXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIElnbm9yZSB0aGUgbGFzdCBncm91cFxyXG4gICAgICAgIGlmIChpID09PSBncm91cHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBncm91cHNbaV07XHJcbiAgICAgICAgdmFyIG5leHQgPSBncm91cHNbaSArIDFdO1xyXG4gICAgICAgIC8vIEdldCB0aGUgY2VudGVyIHBvaW50IGZyb20gZWFjaCBhcmVhXHJcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXIgPSBWZWN0b3IuZ2V0Q2VudGVyKGN1cnJlbnQpO1xyXG4gICAgICAgIHZhciBjdXJyZW50UG9pbnQgPSBWZWN0b3IuZ2V0Q2xvc2VzdChjdXJyZW50LCBjdXJyZW50Q2VudGVyKTtcclxuICAgICAgICB2YXIgbmV4dENlbnRlciA9IFZlY3Rvci5nZXRDZW50ZXIobmV4dCk7XHJcbiAgICAgICAgdmFyIG5leHRQb2ludCA9IFZlY3Rvci5nZXRDbG9zZXN0KG5leHQsIG5leHRDZW50ZXIpO1xyXG4gICAgICAgIC8vIEdldCB0d28gcG9pbnRzIHRoYXQgYXJlIGNsb3NlIHRvIHRoZSBlZGdlIGZvciBlYWNoIHNlY3Rpb25cclxuICAgICAgICB2YXIgY2xvc2VzdEN1cnJlbnQgPSBWZWN0b3IuZ2V0Q2xvc2VzdChuZXh0LCBjdXJyZW50UG9pbnQpO1xyXG4gICAgICAgIHZhciBjbG9zZXN0TmV4dCA9IFZlY3Rvci5nZXRDbG9zZXN0KGN1cnJlbnQsIG5leHRQb2ludCk7XHJcbiAgICAgICAgdmFyIGEgPSBuZXcgQVN0YXIoeyB0b3BvbG9neTogXCJmb3VyXCIgfSk7XHJcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBhLmNvbXB1dGUoY2xvc2VzdEN1cnJlbnQsIGNsb3Nlc3ROZXh0KTtcclxuICAgICAgICAvLyBDb25uZWN0IHRoZSBwYXRoc1xyXG4gICAgICAgIGlmICghY29ubmVjdGlvbilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IENvdWxkIG5vdCBjb25uZWN0IGNlbGwgYXJlYXNcIik7XHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBjb25uZWN0aW9uXzEgPSBjb25uZWN0aW9uOyBfYiA8IGNvbm5lY3Rpb25fMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBjb25uZWN0aW9uXzFbX2JdO1xyXG4gICAgICAgICAgICB0YWJsZS5zZXQodiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXRocy5wdXNoKGNvbm5lY3Rpb24pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBncm91cHM6IGdyb3VwcyxcclxuICAgICAgICBwYXRoczogcGF0aHMsXHJcbiAgICB9O1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3QuanMubWFwXG5cbi8qKiBVc2VkIHRvIGNyZWF0ZSBDZWxsdWxhckF1dG9tYXRhIE1hcHMuICovXHJcbnZhciBDZWxsdWxhckF1dG9tYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgQ2VsbHVsYXIgQXV0b21hdGEgTWFwIEdlbmVyYXRvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIG1hcC5cclxuICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgbWFwLlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDZWxsdWxhckF1dG9tYXRhKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgICAgIHRoaXMudGFibGUgPSBuZXcgVGFibGUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgLy8gU2V0IHVwIGRlZmF1bHRzXHJcbiAgICAgICAgdGhpcy5hbGl2ZVZhbHVlID1cclxuICAgICAgICAgICAgb3B0aW9ucy5hbGl2ZVZhbHVlID09PSB1bmRlZmluZWQgPyAxIDogb3B0aW9ucy5hbGl2ZVZhbHVlO1xyXG4gICAgICAgIHRoaXMuZGVhZFZhbHVlID1cclxuICAgICAgICAgICAgb3B0aW9ucy5kZWFkVmFsdWUgPT09IHVuZGVmaW5lZCA/IDAgOiBvcHRpb25zLmRlYWRWYWx1ZTtcclxuICAgICAgICB0aGlzLnJuZyA9IG9wdGlvbnMucm5nID09PSB1bmRlZmluZWQgPyBuZXcgQWxlYVJORygpIDogb3B0aW9ucy5ybmc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJhbmRvbWx5IHNldHMgZWFjaCBjZWxsIHRvIGVpdGhlciBhbGl2ZSBvciBkZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpc0FsaXZlQ2hhbmNlIFRoZSBjaGFuY2UgZm9yIGEgY2VsbCB0byBiZSBzZXQgdG8gdGhlICdhbGl2ZScgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIENlbGx1bGFyQXV0b21hdGEucHJvdG90eXBlLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uIChpc0FsaXZlQ2hhbmNlKSB7XHJcbiAgICAgICAgaWYgKGlzQWxpdmVDaGFuY2UgPT09IHZvaWQgMCkgeyBpc0FsaXZlQ2hhbmNlID0gMC42OyB9XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLnRhYmxlLndpZHRoOyB4KyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLnRhYmxlLmhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBbGl2ZSA9IHRoaXMucm5nLm5leHQoKSA+IGlzQWxpdmVDaGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNBbGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGUuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmFsaXZlVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZS5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuZGVhZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDZWxsdWxhckF1dG9tYXRhLnByb3RvdHlwZS5jb3VudEFsaXZlTmVpZ2hib3JzID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAtMTsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gLTE7IGogPCAyOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZWlnaGJvcl94ID0geCArIGk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmVpZ2hib3JfeSA9IHkgKyBqO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMCAmJiBqID09IDApIDtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGFibGUuaXNJbkJvdW5kcyh7IHg6IG5laWdoYm9yX3gsIHk6IG5laWdoYm9yX3kgfSkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50YWJsZS5nZXQoeyB4OiBuZWlnaGJvcl94LCB5OiBuZWlnaGJvcl95IH0pID09IHRoaXMuYWxpdmVWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUnVucyBhIG51bWJlciBvZiBzaW11bGF0aW9uIHN0ZXBzLlxyXG4gICAgICogRWFjaCBzdGVwIGdlbmVyYWxseSBcInNtb290aHNcIiB0aGUgbWFwLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzdGVwQ291bnQgVGhlIG51bWJlciBvZiBzdGVwcyB0byBydW4uXHJcbiAgICAgKi9cclxuICAgIENlbGx1bGFyQXV0b21hdGEucHJvdG90eXBlLmRvU2ltdWxhdGlvblN0ZXAgPSBmdW5jdGlvbiAoc3RlcENvdW50KSB7XHJcbiAgICAgICAgaWYgKHN0ZXBDb3VudCA9PT0gdm9pZCAwKSB7IHN0ZXBDb3VudCA9IDE7IH1cclxuICAgICAgICBmb3IgKHZhciBzdGVwID0gMDsgc3RlcCA8IHN0ZXBDb3VudDsgc3RlcCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdNYXAgPSBuZXcgVGFibGUodGhpcy50YWJsZS53aWR0aCwgdGhpcy50YWJsZS5oZWlnaHQpO1xyXG4gICAgICAgICAgICB2YXIgb2xkTWFwID0gdGhpcy50YWJsZTsgLy90aGlzIGp1c3QgcmVuYW1lcyB0aGUgdGFibGUgdG8gcHJldmVudCAndGhpcycgYWxsIG92ZXIgdGhlIHBsYWNlLlxyXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG9sZE1hcC53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG9sZE1hcC5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYnMgPSB0aGlzLmNvdW50QWxpdmVOZWlnaGJvcnMoeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZE1hcC5nZXQoeyB4OiB4LCB5OiB5IH0pID09PSB0aGlzLmFsaXZlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5icyA8IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hcC5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuZGVhZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hcC5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuYWxpdmVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYnMgPiAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXAuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmFsaXZlVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFwLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5kZWFkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFibGUgPSBuZXdNYXA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29ubmVjdHMgYXJlYXMgb2YgdGhlIG1hcCB0byBlbnN1cmUgdGhleSBhcmUgYWxsIGNvbm5lY3RlZC5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgaW5zdGFuY2UsIGlmIHlvdSdyZSB1c2luZyBhbiBhbGl2ZSB2YWx1ZSBvZiAxIGZvciB3YWxscyxcclxuICAgICAqIHRoZW4gdGhpcyBjYW4gY29ubmVjdCB0aGUgZGVhZCB2YWx1ZSBvZiAwIHRvIGVuc3VyZSBhbGxcclxuICAgICAqIHNxdWFyZXMgb24gdGhlIG1hcCBhcmUgYWNjZXNzYWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbm5lY3QgKGRlZmF1bHQgdGhpcy5kZWFkVmFsdWUpXHJcbiAgICAgKi9cclxuICAgIENlbGx1bGFyQXV0b21hdGEucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9IHRoaXMuZGVhZFZhbHVlOyB9XHJcbiAgICAgICAgcmV0dXJuIGNvbm5lY3QodGhpcy50YWJsZSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDZWxsdWxhckF1dG9tYXRhO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZWxsdWxhci1hdXRvbWF0YS5qcy5tYXBcblxuLyoqIEdlbmVyYXRvciB0byBwZXJmb3JtIGEgRHJ1bmthcmQncyBXYWxrKi9cclxudmFyIERydW5rYXJkc1dhbGsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgRHJ1bmthcmRzV2FsayBHZW5lcmF0b3JcclxuICAgICAqIEBwYXJhbSBjb25maWcgLSBHZW5lcmF0b3IgQ29uZmlnXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLndpZHRoIG51bWJlciAtIFdpZHRoIG9mIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBjb25maWcuaGVpZ2h0IG51bWJlciAtIEhlaWdodCBvZiB0aGUgbWFwXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnJuZyBJUk5HIC0gT3B0aW9uYWwgcmFuZG9tIG51bWJlciBnZW5lcmF0b3JcclxuICAgICAqIEBwYXJhbSBjb25maWcudG9wb2xvZ3kgXCJmb3VyXCIgfCBcImVpZ2h0XCIgLSBUb3BvbG9neSB0byB1c2UuIERlZmF1bHQgZm91ci5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gRHJ1bmthcmRzV2Fsayhjb25maWcpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHRoaXMuX3BhdGggPSBbXTtcclxuICAgICAgICB0aGlzLl9zdGVwcyA9IDA7XHJcbiAgICAgICAgdGhpcy5fY292ZXJlZENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRhYmxlID0gbmV3IFRhYmxlKGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5fcm5nID0gKF9hID0gY29uZmlnLnJuZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IEFsZWFSTkcoKTtcclxuICAgICAgICB0aGlzLl90b3BvbG9neSA9IChfYiA9IGNvbmZpZy50b3BvbG9neSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJmb3VyXCI7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBUYWJsZVxyXG4gICAgICAgIHRoaXMudGFibGUuZmlsbCgwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcGF0aCB0cmF2ZWxlZCBzbyBmYXIuXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldFBhdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGg7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IHZpc2l0ZWQgbG9jYXRpb24uXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGhbdGhpcy5fcGF0aC5sZW5ndGggLSAxXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiBzdGVwcyB0YWtlblxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRTdGVwcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgdW5pcXVlIHNwYWNlcyB2aXNpdGVkXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldENvdmVyZWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY292ZXJlZENvdW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIHBvaW50IHRvIHRoZSBkcnVua2FyZHMgd2FsayxcclxuICAgICAqIGFkanVzdGluZyBwYXRoLCB0YWJsZSwgYW5kIHN0ZXBzIGFzIG5lZWRlZC5cclxuICAgICAqIEBwYXJhbSBwb2ludCBWZWN0b3IyIC0gVGhlIHBvaW50IHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xyXG4gICAgICAgIHRoaXMuX3N0ZXBzKys7XHJcbiAgICAgICAgaWYgKHRoaXMudGFibGUuZ2V0KHBvaW50KSAhPT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3ZlcmVkQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50YWJsZS5zZXQocG9pbnQsIDEpO1xyXG4gICAgICAgIHRoaXMuX3BhdGgucHVzaChwb2ludCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBhIHBhdGggYnkgd2Fsa2luZyBhIG51bWJlciBvZiBzdGVwcy5cclxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgdG8gaGF2ZSB0aGUgRHJ1bmthcmQgJ2p1bXAnIHRvIGEgZGlmZmVyZW50IHNwb3QuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIHdhbGsgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5zdGVwcyBudW1iZXIgLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIHRha2UuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnN0YXJ0IFZlY3RvcjIgLSBUaGUgc3RhcnRpbmcgcG9zaXRpb24uIERlZmF1bHQgcmFuZG9tLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5tYXhDb3ZlcmVkVGlsZXMgbnVtYmVyIC0gU3RvcHMgd2Fsa2luZyBpZiB0aGUgdG90YWwgbnVtYmVyIG9mIHRpbGVzXHJcbiAgICAgKiBldmVyIGNvdmVyZWQgcmVhY2hlcyB0aGlzIGxpbWl0LiBEZWZhdWx0IEluZmluaXR5LlxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS53YWxrU3RlcHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGNvbmZpZ1xyXG4gICAgICAgIHZhciBtYXhDb3ZlcmVkVGlsZXMgPSAoX2EgPSBjb25maWcubWF4Q292ZXJlZFRpbGVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBJbmZpbml0eTtcclxuICAgICAgICB2YXIgc3RlcHMgPSBjb25maWcuc3RlcHM7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGNvb3JkaW5hdGVcclxuICAgICAgICB0aGlzLmFkZFBvaW50KChfYiA9IGNvbmZpZy5zdGFydCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5nZXRSYW5kUG9pbnQoKSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwcyAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBCcmVhayBpZiB3ZSdyZSBvdmVyIHRoZSBjb3ZlcmVkIGxpbWl0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb3ZlcmVkQ291bnQgPj0gbWF4Q292ZXJlZFRpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX3BhdGhbdGhpcy5fcGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLmdldFJhbmRvbU5laWdoYm9yKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50KG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRSYW5kUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLl9ybmcubmV4dEludCgwLCB0aGlzLnRhYmxlLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuX3JuZy5uZXh0SW50KDAsIHRoaXMudGFibGUuaGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICB9O1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0UmFuZG9tTmVpZ2hib3IgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgdmFyIG5leHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgd2hpbGUgKG5leHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBHZXQgbmV4dCBuZWlnaGJvclxyXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JzID0gdGhpcy5fdG9wb2xvZ3kgPT09IFwiZm91clwiXHJcbiAgICAgICAgICAgICAgICA/IGdldFJpbmc0KHBvcy54LCBwb3MueSwgMSlcclxuICAgICAgICAgICAgICAgIDogZ2V0UmluZzgocG9zLngsIHBvcy55LCAxKTtcclxuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLl9ybmcubmV4dEl0ZW0obmVpZ2hib3JzKTtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgaW4gYm91bmRzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLmlzSW5Cb3VuZHMobikpIHtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEcnVua2FyZHNXYWxrO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcnVua2FyZHMtd2Fsay5qcy5tYXBcblxuLy8gZXhwb3J0IHsgQlNQVHJlZVJlY3QgfSBmcm9tIFwiLi9ic3AtdHJlZVwiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDQgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgQ2VsbHVsYXJBdXRvbWF0YTogQ2VsbHVsYXJBdXRvbWF0YSxcbiAgICBEcnVua2FyZHNXYWxrOiBEcnVua2FyZHNXYWxrXG59KTtcblxudmFyIERpamtzdHJhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGlqa3N0cmEoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5pc0Jsb2NrZWQgPSBjb25maWcuaXNCbG9ja2VkQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy50b3BvbG9neSA9IGNvbmZpZy50b3BvbG9neTtcclxuICAgIH1cclxuICAgIERpamtzdHJhLnByb3RvdHlwZS5nZXROZWlnaGJvcnMgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IGdldFJpbmc0KHBvcy54LCBwb3MueSwgMSk7XHJcbiAgICAgICAgaWYgKHRoaXMudG9wb2xvZ3kgPT09IFwiZWlnaHRcIikge1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgLSAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54IC0gMSwgeTogcG9zLnkgLSAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54IC0gMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVpZ2hib3JzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZSBwcm9jZXNzZXMgdGhlIGRpc3RhbmNlcyBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgZ29hbHNcclxuICAgICAqIEBwYXJhbSBpbml0aWFsXHJcbiAgICAgKiBAcGFyYW0gZ29hbFxyXG4gICAgICovXHJcbiAgICBEaWprc3RyYS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uIChpbml0aWFsLCBnb2FsKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvL3VucGFja2FnZSBjb25maWcuXHJcbiAgICAgICAgdmFyIGNhbWVGcm9tID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHZhciBwcm9jZXNzZWQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdmFyIHByb2Nlc3NpbmcgPSBbaW5pdGlhbF07XHJcbiAgICAgICAgY2FtZUZyb20uc2V0KGluaXRpYWwueCArIFwiOlwiICsgaW5pdGlhbC55LCBcIlwiKTtcclxuICAgICAgICB3aGlsZSAocHJvY2Vzc2luZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgLy9zaGlmdCB0aGUgbGFzdCBub2RlIG9mZiB0aGUgYXJyYXkuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gcHJvY2Vzc2luZy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAvL3Nob3J0IGNpcmN1dFxyXG4gICAgICAgICAgICBpZiAocHJvY2Vzc2VkLmhhcyhjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkLmFkZChjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoZSBzcGFjZSBpcyB3aGVyZSB5b3UgbmVlZCB0byBiZS4gSWYgc28sIGV4aXQgbG9vcC5cclxuICAgICAgICAgICAgaWYgKFZlY3Rvci5hcmVFcXVhbChjdXJyZW50LCBnb2FsKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1clN0ciA9IGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUGF0aCA9IFtjdXJyZW50XTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChjYW1lRnJvbS5nZXQoY3VyU3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2U3RyID0gY2FtZUZyb20uZ2V0KGN1clN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcHJldlN0ci5zcGxpdChcIjpcIiksIHggPSBfYVswXSwgeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clN0ciA9IHByZXZTdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYXRoLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIucGFyc2VJbnQoeCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE51bWJlci5wYXJzZUludCh5KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIG5laWdoYm9ycyA9IG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIF90aGlzLmlzQmxvY2tlZCh2KSA9PT0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbmVpZ2hib3JzXzEgPSBuZWlnaGJvcnM7IF9pIDwgbmVpZ2hib3JzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5laWdoYm9yc18xW19pXTtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmcucHVzaChuKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMobi54ICsgXCI6XCIgKyBuLnkpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuLnggKyBcIjpcIiArIG4ueSwgY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50LnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERpamtzdHJhO1xyXG59KCkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDUgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgQVN0YXI6IEFTdGFyLFxuICAgIERpamtzdHJhOiBEaWprc3RyYVxufSk7XG5cbmZ1bmN0aW9uIGJveCh0ZXJtaW5hbCwgb3B0aW9ucykge1xyXG4gICAgdmFyIHgxID0gb3B0aW9ucy54MSwgeDIgPSBvcHRpb25zLngyLCB5MSA9IG9wdGlvbnMueTEsIHkyID0gb3B0aW9ucy55MiwgdGl0bGUgPSBvcHRpb25zLnRpdGxlO1xyXG4gICAgLy8gQ29ybmVyc1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDEsIHk6IHkxIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRSaWdodCkpO1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IHkxIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRMZWZ0KSk7XHJcbiAgICB0ZXJtaW5hbC5kcmF3R2x5cGgoeyB4OiB4MSwgeTogeTIgfSwgR2x5cGguZnJvbUNoYXJDb2RlKENoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVXBBbmRSaWdodCkpO1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IHkyIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kTGVmdCkpO1xyXG4gICAgLy8gSG9yaXpvbnRhbCBCYXJzXHJcbiAgICBmb3IgKHZhciBkeCA9IHgxICsgMTsgZHggPCB4MjsgZHgrKykge1xyXG4gICAgICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IGR4LCB5OiB5MSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsKSk7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogZHgsIHk6IHkyIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZUhvcml6b250YWwpKTtcclxuICAgIH1cclxuICAgIC8vIFZlcnRpY2FsIEJhcnNcclxuICAgIGZvciAodmFyIGR5ID0geTEgKyAxOyBkeSA8IHkyOyBkeSsrKSB7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDEsIHk6IGR5IH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsKSk7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IGR5IH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGl0bGUpIHtcclxuICAgICAgICB0ZXJtaW5hbC53cml0ZUF0KHsgeDogeDEgKyAyLCB5OiB5MSB9LCBcIiBcIiArIHRpdGxlICsgXCIgXCIpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJveC5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQ2ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGJveDogYm94XG59KTtcblxuLyoqIEZPViBBbGdvcml0aG0gdGhhdCBjYWxjdWxhdGVzIGFuZ2xlcyBvZiBzaGFkb3dzIGFuZCBtZXJnZXMgdGhlbSB0b2dldGhlci4gKi9cclxudmFyIFByZWNpc2VTaGFkb3djYXN0aW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFByZWNpc2VTaGFkb3djYXN0aW5nIG9iamVjdFxyXG4gICAgICogd2hpY2ggY2FuIGNhbHVsYXRlIHZpZXdzaGVkcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmxpZ2h0UGFzc2VzIFZlY3RvcjIgPT4gQm9vbGVhbiAtIFdoZXRoZXIgYSBwb3NpdGlvbiBpcyB2aXNpYmxlXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnRvcG9sb2d5IFwiZm91clwiIHwgXCJlaWdodFwiIHwgXCJmcmVlXCIgLSBUaGUgdG9wb2xvZ3kgdG8gdXNlXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnJldHVybkFsbCBSZXR1cm4gYWxsIHNwYWNlcyBpbiByYW5nZSwgZXZlbiBpZiBub3QgdmlzaWJsZS4gRGVmYXVsdCBmYWxzZS5cclxuICAgICAqIEBwYXJhbSBjb25maWcuY2FydGVzaWFuUmFuZ2UgSWYgc2V0LCB3aWxsIGNhbGN1bGF0ZSByYW5nZSBhcyBhXjIgKyBiXjIgPSBjXjIuIFJlc3VsdHMgaW4gcm91bmQgc2hhcGUuIERlZmF1bHQgZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFByZWNpc2VTaGFkb3djYXN0aW5nKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgdGhpcy5saWdodFBhc3NlcyA9IGNvbmZpZy5saWdodFBhc3NlcztcclxuICAgICAgICAvLyBmcmVlIHVzZXMgYW4gOCByaW5nIHRvcG9sb2d5XHJcbiAgICAgICAgdGhpcy5nZXRSaW5nID0gY29uZmlnLnRvcG9sb2d5ID09PSBcImZvdXJcIiA/IGdldFJpbmc0IDogZ2V0UmluZzg7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5BbGwgPSAoX2EgPSBjb25maWcucmV0dXJuQWxsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhcnRlc2lhblJhbmdlID0gKF9iID0gY29uZmlnLmNhcnRlc2lhblJhbmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBhbiBhcnJheSBvZiB2aXNpYmxlIFZlY3RvcnMuIFNhbWUgYXMgY2FsY3VsYXRlQ2FsbGJhY2ssXHJcbiAgICAgKiBidXQgcmV0dXJucyBhbiBBcnJheSBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcmlnaW4gVmVjdG9yMiAtIFRoZSBwb3NpdGlvbiB0byBzdGFydCBmcm9tLlxyXG4gICAgICogQHBhcmFtIHJhbmdlIE51bWJlciAtIFRoZSByYW5nZSBvZiB2aXNpb25cclxuICAgICAqL1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNhbGN1bGF0ZUFycmF5ID0gZnVuY3Rpb24gKG9yaWdpbiwgcmFuZ2UpIHtcclxuICAgICAgICB2YXIgdiA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQ2FsbGJhY2sob3JpZ2luLCByYW5nZSwgZnVuY3Rpb24gKHBvcywgciwgdmlzaWJpbGl0eSkge1xyXG4gICAgICAgICAgICB2LnB1c2goeyBwb3M6IHBvcywgcjogciwgdmlzaWJpbGl0eTogdmlzaWJpbGl0eSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgdmlzaWJsZSBwb3NpdGlvbnMsIGFuZCBpbnZva2VzIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgZWFjaCBvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9yaWdpbiBWZWN0b3IyIC0gVGhlIHBvc2l0aW9uIHRvIHN0YXJ0IGZyb21cclxuICAgICAqIEBwYXJhbSByYW5nZSBOdW1iZXIgLSBUaGUgcmFuZ2Ugb2YgdmlzaW9uXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKHBvczogVmVjdG9yMiwgcmFuZ2U6IG51bWJlciwgdmlzaWJpbGl0eTogbnVtYmVyKSA9PiB2b2lkIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmlzaWJsZSB0aWxlXHJcbiAgICAgKi9cclxuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jYWxjdWxhdGVDYWxsYmFjayA9IGZ1bmN0aW9uIChvcmlnaW4sIHJhbmdlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIC8vIEFsd2F5cyBjYWxsIHRoZSBvcmlnaW5hbFxyXG4gICAgICAgIGNhbGxiYWNrKG9yaWdpbiwgMCwgMSk7XHJcbiAgICAgICAgdmFyIHNoYWRvd3MgPSBbXTtcclxuICAgICAgICAvLyBGb3IgYWxsIHJpbmdzXHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gcmFuZ2U7IHIrKykge1xyXG4gICAgICAgICAgICB2YXIgcmluZyA9IHRoaXMuZ2V0UmluZyhvcmlnaW4ueCwgb3JpZ2luLnksIHIpO1xyXG4gICAgICAgICAgICAvLyAqIGJ5IDIgaGVyZSBzaW5jZSB3ZSdyZSBtYWtpbmcgMiBhcmNzIHBlciB0aWxlXHJcbiAgICAgICAgICAgIHZhciBhcmNDb3VudCA9IHJpbmcubGVuZ3RoICogMjtcclxuICAgICAgICAgICAgLy8gRm9yIGFsbCBjZWxsc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gcmluZ1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgdGhlIGZpcnN0IGFuZ2xlLCB3ZSBzaGlmdCB0aGUgbmVnYXRpdmUgdmFsdWUgdG8gYSBwb3NpdGl2ZSBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBpLmUuIC0xLzggLT4gNy84XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVzc2VyTiA9IGkgPT09IDAgPyBhcmNDb3VudCAtIDEgOiAyICogaSAtIDE7XHJcbiAgICAgICAgICAgICAgICAvLyBUb0RvIC0gRml4IG5hbWluZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlc3NlckFuZ2xlID0gW2xlc3Nlck4sIGFyY0NvdW50XTtcclxuICAgICAgICAgICAgICAgIHZhciBncmVhdGVyQW5nbGUgPSBbMiAqIGkgKyAxLCBhcmNDb3VudF07XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tzID0gdGhpcy5saWdodFBhc3NlcyhjZWxsKSA9PT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlzaWJpbGl0eSA9IHRoaXMuY2hlY2tWaXNpYmlsaXR5KGxlc3NlckFuZ2xlLCBncmVhdGVyQW5nbGUsIGJsb2Nrcywgc2hhZG93cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlzaWJpbGl0eSB8fCB0aGlzLnJldHVybkFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcnRlc2lhblJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYnNSYW5nZSA9IFZlY3Rvci5nZXREaXN0YW5jZShvcmlnaW4sIGNlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzUmFuZ2UgPD0gcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNlbGwsIHIsIHZpc2liaWxpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjZWxsLCByLCB2aXNpYmlsaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUb0RvIC0gU2hvcnQgY2lyY3VpdCBpZiBlbnRpcmVseSBzdXJyb3VuZGVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNoZWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChBMSwgQTIsIGJsb2Nrcywgc2hhZG93cykge1xyXG4gICAgICAgIGlmIChBMVswXSA+IEEyWzBdKSB7XHJcbiAgICAgICAgICAgIC8qIHNwbGl0IGludG8gdHdvIHN1Yi1hcmNzICovXHJcbiAgICAgICAgICAgIHZhciB2MSA9IHRoaXMuY2hlY2tWaXNpYmlsaXR5KEExLCBbQTFbMV0sIEExWzFdXSwgYmxvY2tzLCBzaGFkb3dzKTtcclxuICAgICAgICAgICAgdmFyIHYyID0gdGhpcy5jaGVja1Zpc2liaWxpdHkoWzAsIDFdLCBBMiwgYmxvY2tzLCBzaGFkb3dzKTtcclxuICAgICAgICAgICAgcmV0dXJuICh2MSArIHYyKSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGluZGV4MTogZmlyc3Qgc2hhZG93ID49IEExICovXHJcbiAgICAgICAgdmFyIGluZGV4MSA9IDAsIGVkZ2UxID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKGluZGV4MSA8IHNoYWRvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBvbGQgPSBzaGFkb3dzW2luZGV4MV07XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gb2xkWzBdICogQTFbMV0gLSBBMVswXSAqIG9sZFsxXTtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyogb2xkID49IEExICovXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiA9PSAwICYmICEoaW5kZXgxICUgMikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRleDErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogaW5kZXgyOiBsYXN0IHNoYWRvdyA8PSBBMiAqL1xyXG4gICAgICAgIHZhciBpbmRleDIgPSBzaGFkb3dzLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSAoaW5kZXgyLS0pIHtcclxuICAgICAgICAgICAgdmFyIG9sZCA9IHNoYWRvd3NbaW5kZXgyXTtcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSBBMlswXSAqIG9sZFsxXSAtIG9sZFswXSAqIEEyWzFdO1xyXG4gICAgICAgICAgICBpZiAoZGlmZiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBvbGQgPD0gQTIgKi9cclxuICAgICAgICAgICAgICAgIGlmIChkaWZmID09IDAgJiYgaW5kZXgyICUgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2UyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB2aXNpYmxlID0gdGhpcy5jaGVja1NoYWRvd1Zpc2liaWxpdHkoaW5kZXgxLCBpbmRleDIsIGVkZ2UxLCBlZGdlMik7XHJcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0gLyogZmFzdCBjYXNlOiBub3QgdmlzaWJsZSAqL1xyXG4gICAgICAgIHZhciB2aXNpYmxlTGVuZ3RoO1xyXG4gICAgICAgIC8qIGNvbXB1dGUgdGhlIGxlbmd0aCBvZiB2aXNpYmxlIGFyYywgYWRqdXN0IGxpc3Qgb2Ygc2hhZG93cyAoaWYgYmxvY2tpbmcpICovXHJcbiAgICAgICAgdmFyIHJlbW92ZSA9IGluZGV4MiAtIGluZGV4MSArIDE7XHJcbiAgICAgICAgaWYgKHJlbW92ZSAlIDIpIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgICAgIC8qIGZpcnN0IGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgc2Vjb25kIG91dHNpZGUgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQID0gc2hhZG93c1tpbmRleDFdO1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZUxlbmd0aCA9IChBMlswXSAqIFBbMV0gLSBQWzBdICogQTJbMV0pIC8gKFBbMV0gKiBBMlsxXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIHNlY29uZCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIGZpcnN0IG91dHNpZGUgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQID0gc2hhZG93c1tpbmRleDJdO1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZUxlbmd0aCA9IChQWzBdICogQTFbMV0gLSBBMVswXSAqIFBbMV0pIC8gKEExWzFdICogUFsxXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgICAgIC8qIGJvdGggZWRnZXMgd2l0aGluIGV4aXN0aW5nIHNoYWRvd3MgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQMSA9IHNoYWRvd3NbaW5kZXgxXTtcclxuICAgICAgICAgICAgICAgIHZhciBQMiA9IHNoYWRvd3NbaW5kZXgyXTtcclxuICAgICAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSAoUDJbMF0gKiBQMVsxXSAtIFAxWzBdICogUDJbMV0pIC8gKFAxWzFdICogUDJbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd3Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExLCBBMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTsgLyogd2hvbGUgYXJjIHZpc2libGUhICovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFyY0xlbmd0aCA9IChBMlswXSAqIEExWzFdIC0gQTFbMF0gKiBBMlsxXSkgLyAoQTFbMV0gKiBBMlsxXSk7XHJcbiAgICAgICAgcmV0dXJuIHZpc2libGVMZW5ndGggLyBhcmNMZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNoZWNrU2hhZG93VmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChpbmRleDEsIGluZGV4MiwgZWRnZTEsIGVkZ2UyKSB7XHJcbiAgICAgICAgdmFyIHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmRleDEgPT0gaW5kZXgyICYmIChlZGdlMSB8fCBlZGdlMikpIHtcclxuICAgICAgICAgICAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgb25lIG9mIHRoZSBlZGdlcyBtYXRjaCAqL1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVkZ2UxICYmIGVkZ2UyICYmIGluZGV4MSArIDEgPT0gaW5kZXgyICYmIGluZGV4MiAlIDIpIHtcclxuICAgICAgICAgICAgLyogY29tcGxldGVseSBlcXVpdmFsZW50IHdpdGggZXhpc3Rpbmcgc2hhZG93ICovXHJcbiAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5kZXgxID4gaW5kZXgyICYmIGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgbm90IHRvdWNoaW5nICovXHJcbiAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByZWNpc2VTaGFkb3djYXN0aW5nO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVjaXNlLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDcgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgUHJlY2lzZVNoYWRvd2Nhc3Rpbmc6IFByZWNpc2VTaGFkb3djYXN0aW5nXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFsd29kZW4uanMubWFwXG5cbmV4cG9ydCB7IGluZGV4IGFzIFRlcm1pbmFsLCBpbmRleCQxIGFzIElucHV0LCBpbmRleCQ0IGFzIEdlbmVyYXRpb24sIGluZGV4JDUgYXMgUGF0aGZpbmRpbmcsIGluZGV4JDYgYXMgR1VJLCBpbmRleCQzIGFzIFJhbmQsIGluZGV4JDIgYXMgVXRpbCwgaW5kZXgkNyBhcyBGT1YsIENoYXJDb2RlLCBHbHlwaCwgQ29sb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbHdvZGVuLmVzNS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../dist/malwoden.es5.js\n");

/***/ })

})