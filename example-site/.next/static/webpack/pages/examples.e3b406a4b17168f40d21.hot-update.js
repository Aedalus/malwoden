webpackHotUpdate_N_E("pages/examples",{

/***/ "../dist/malwoden.es5.js":
/*!*******************************!*\
  !*** ../dist/malwoden.es5.js ***!
  \*******************************/
/*! exports provided: Terminal, Input, Generation, Pathfinding, GUI, Rand, Util, FOV, CharCode, Glyph, Color */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Terminal\", function() { return index; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Input\", function() { return index$1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Generation\", function() { return index$4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pathfinding\", function() { return index$5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUI\", function() { return index$6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rand\", function() { return index$3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Util\", function() { return index$2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FOV\", function() { return index$7; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharCode\", function() { return CharCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Glyph\", function() { return Glyph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar Color = /** @class */ (function () {\r\n    function Color(r, g, b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n    Color.prototype.isEqual = function (color) {\r\n        return this.r === color.r && this.g === color.g && this.b === color.b;\r\n    };\r\n    Color.prototype.cssColor = function () {\r\n        return \"rgb(\" + this.r + \",\" + this.g + \",\" + this.b + \")\";\r\n    };\r\n    Color.prototype.sanitizeElement = function (rgb) {\r\n        return Math.round(Math.min(Math.max(rgb, 0), 255));\r\n    };\r\n    Color.prototype.add = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 1; }\r\n        return new Color(this.sanitizeElement(this.r + other.r * fractionOther), this.sanitizeElement(this.g + other.g * fractionOther), this.sanitizeElement(this.b + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blend = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 0.5; }\r\n        var fractionThis = 1.0 - fractionOther;\r\n        return new Color(this.sanitizeElement(this.r * fractionThis + other.r * fractionOther), this.sanitizeElement(this.g * fractionThis + other.g * fractionOther), this.sanitizeElement(this.b * fractionThis + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blendPercent = function (other, percentOther) {\r\n        return this.blend(other, percentOther / 100);\r\n    };\r\n    Color.prototype.toGrayscale = function () {\r\n        var total = this.r + this.g + this.b;\r\n        return new Color(this.sanitizeElement(total / 3), this.sanitizeElement(total / 3), this.sanitizeElement(total / 3));\r\n    };\r\n    // CSS Extended Color Palette\r\n    // https://en.wikipedia.org/wiki/Web_colors\r\n    // Pink Colors\r\n    Color.MediumVioletRed = new Color(199, 21, 133);\r\n    Color.DeepPink = new Color(255, 20, 147);\r\n    Color.PaleVioletRed = new Color(219, 112, 147);\r\n    Color.HotPink = new Color(255, 105, 180);\r\n    Color.LightPink = new Color(255, 182, 193);\r\n    Color.Pink = new Color(255, 192, 203);\r\n    // Red Colors\r\n    Color.DarkRed = new Color(139, 0, 0);\r\n    Color.Red = new Color(255, 0, 0);\r\n    Color.Firebrick = new Color(178, 34, 34);\r\n    Color.Crimson = new Color(220, 20, 60);\r\n    Color.IndianRed = new Color(205, 92, 92);\r\n    Color.LightCoral = new Color(240, 128, 128);\r\n    Color.Salmon = new Color(250, 128, 114);\r\n    Color.DarkSalmon = new Color(233, 150, 122);\r\n    Color.LightSalmon = new Color(255, 160, 122);\r\n    // Orange Colors\r\n    Color.OrangeRed = new Color(255, 69, 0);\r\n    Color.Tomato = new Color(255, 99, 71);\r\n    Color.DarkOrange = new Color(255, 140, 0);\r\n    Color.Coral = new Color(255, 127, 80);\r\n    Color.Orange = new Color(255, 165, 0);\r\n    // Yellow Colors\r\n    Color.DarkKhaki = new Color(189, 183, 107);\r\n    Color.Gold = new Color(255, 215, 0);\r\n    Color.Khaki = new Color(240, 230, 140);\r\n    Color.PeachPuff = new Color(255, 218, 185);\r\n    Color.Yellow = new Color(255, 255, 0);\r\n    Color.PaleGoldenrod = new Color(238, 232, 170);\r\n    Color.Moccasin = new Color(255, 228, 181);\r\n    Color.PapayaWhip = new Color(255, 239, 213);\r\n    Color.LightGoldenrodYellow = new Color(250, 250, 210);\r\n    Color.LemonChiffon = new Color(255, 250, 205);\r\n    Color.LightYellow = new Color(255, 255, 224);\r\n    // Brown Colors\r\n    Color.Maroon = new Color(128, 0, 0);\r\n    Color.Brown = new Color(165, 42, 42);\r\n    Color.SaddleBrown = new Color(139, 69, 19);\r\n    Color.Sienna = new Color(160, 82, 45);\r\n    Color.Chocolate = new Color(210, 105, 30);\r\n    Color.DarkGoldenrod = new Color(184, 134, 11);\r\n    Color.Peru = new Color(205, 133, 63);\r\n    Color.RosyBrown = new Color(188, 143, 143);\r\n    Color.Goldenrod = new Color(218, 165, 32);\r\n    Color.SandyBrown = new Color(244, 164, 96);\r\n    Color.Tan = new Color(210, 180, 140);\r\n    Color.Burlywood = new Color(222, 184, 135);\r\n    Color.Wheat = new Color(245, 222, 179);\r\n    Color.NavajoWhite = new Color(255, 222, 173);\r\n    Color.Bisque = new Color(255, 228, 196);\r\n    Color.BlanchedAlmond = new Color(255, 235, 205);\r\n    Color.Cornsilk = new Color(255, 248, 220);\r\n    // Purple/Violet/Magenta Colors\r\n    Color.Indigo = new Color(75, 0, 130);\r\n    Color.Purple = new Color(128, 0, 128);\r\n    Color.DarkMagenta = new Color(139, 9, 139);\r\n    Color.DarkViolet = new Color(148, 0, 211);\r\n    Color.DarkSlateBlue = new Color(72, 61, 129);\r\n    Color.BlueViolet = new Color(138, 43, 226);\r\n    Color.DarkOrchid = new Color(153, 50, 204);\r\n    Color.Fuchsia = new Color(255, 0, 255);\r\n    Color.Magenta = new Color(255, 0, 255); // Alias Fuchsia\r\n    Color.SlateBlue = new Color(106, 90, 205);\r\n    Color.MediumSlateBlue = new Color(123, 104, 238);\r\n    Color.MediumOrchid = new Color(186, 85, 211);\r\n    Color.MediumPurple = new Color(147, 112, 219);\r\n    Color.Orchid = new Color(218, 11, 214);\r\n    Color.Violet = new Color(238, 130, 238);\r\n    Color.Plum = new Color(221, 160, 221);\r\n    Color.Thistle = new Color(216, 191, 216);\r\n    Color.Lavender = new Color(230, 230, 250);\r\n    // White Colors\r\n    Color.MistyRose = new Color(255, 228, 225);\r\n    Color.AntiqueWhite = new Color(250, 235, 215);\r\n    Color.Linen = new Color(250, 240, 230);\r\n    Color.Beige = new Color(245, 245, 220);\r\n    Color.WhiteSmoke = new Color(245, 245, 245);\r\n    Color.LavenderBlush = new Color(255, 240, 245);\r\n    Color.OldLace = new Color(253, 245, 230);\r\n    Color.AliceBlue = new Color(240, 248, 255);\r\n    Color.Seashell = new Color(255, 245, 238);\r\n    Color.GhostWhite = new Color(248, 248, 255);\r\n    Color.Honeydew = new Color(240, 255, 240);\r\n    Color.FloralWhite = new Color(255, 250, 240);\r\n    Color.Azure = new Color(240, 255, 255);\r\n    Color.MintCream = new Color(245, 255, 250);\r\n    Color.Snow = new Color(255, 250, 250);\r\n    Color.Ivory = new Color(255, 255, 240);\r\n    Color.White = new Color(255, 255, 255);\r\n    // Grey + Black Colors\r\n    Color.Black = new Color(0, 0, 0);\r\n    Color.DarkSlateGray = new Color(47, 79, 79);\r\n    Color.DimGray = new Color(105, 105, 105);\r\n    Color.SlateGray = new Color(112, 128, 144);\r\n    Color.Gray = new Color(128, 128, 128);\r\n    Color.LightSlateGray = new Color(119, 136, 153);\r\n    Color.DarkGray = new Color(169, 169, 169);\r\n    Color.Silver = new Color(192, 192, 192);\r\n    Color.LightGray = new Color(211, 211, 211);\r\n    Color.Gainsboro = new Color(220, 220, 220);\r\n    // Green Colors\r\n    Color.DarkGreen = new Color(0, 100, 0);\r\n    Color.Green = new Color(0, 128, 0);\r\n    Color.DarkOliveGreen = new Color(85, 107, 47);\r\n    Color.ForestGreen = new Color(34, 139, 34);\r\n    Color.SeaGreen = new Color(46, 139, 87);\r\n    Color.Olive = new Color(128, 128, 0);\r\n    Color.OliveDrab = new Color(107, 142, 35);\r\n    Color.MediumSeaGreen = new Color(60, 179, 113);\r\n    Color.LimeGreen = new Color(50, 205, 50);\r\n    Color.Lime = new Color(0, 255, 0);\r\n    Color.SpringGreen = new Color(0, 255, 127);\r\n    Color.MediumSpringGreen = new Color(0, 250, 154);\r\n    Color.DarkSeaGreen = new Color(143, 188, 143);\r\n    Color.MediumAquamarine = new Color(102, 205, 170);\r\n    Color.YellowGreen = new Color(154, 205, 50);\r\n    Color.LawnGreen = new Color(124, 252, 0);\r\n    Color.Chartreuse = new Color(127, 255, 0);\r\n    Color.LightGreen = new Color(133, 238, 144);\r\n    Color.GreenYellow = new Color(173, 255, 47);\r\n    Color.PaleGreen = new Color(152, 251, 152);\r\n    // Cyan Colors\r\n    Color.Teal = new Color(0, 128, 128);\r\n    Color.DarkCyan = new Color(0, 139, 139);\r\n    Color.LightSeaGreen = new Color(32, 178, 170);\r\n    Color.CadetBlue = new Color(95, 158, 160);\r\n    Color.DarkTurquoise = new Color(0, 206, 209);\r\n    Color.MediumTurquoise = new Color(72, 209, 204);\r\n    Color.Turquoise = new Color(64, 224, 208);\r\n    Color.Aqua = new Color(0, 255, 255);\r\n    Color.Cyan = new Color(0, 255, 255);\r\n    Color.Aquamarine = new Color(127, 255, 212);\r\n    Color.PaleTurquoise = new Color(175, 238, 238);\r\n    Color.LightCyan = new Color(244, 255, 255);\r\n    // Blue Colors\r\n    Color.Navy = new Color(0, 0, 128);\r\n    Color.DarkBlue = new Color(0, 0, 139);\r\n    Color.MediumBlue = new Color(0, 0, 205);\r\n    Color.Blue = new Color(0, 0, 225);\r\n    Color.MidnightBlue = new Color(25, 25, 112);\r\n    Color.RoyalBlue = new Color(65, 105, 225);\r\n    Color.SteelBlue = new Color(70, 130, 180);\r\n    Color.DodgerBlue = new Color(30, 144, 255);\r\n    Color.DeepSkyBlue = new Color(0, 191, 255);\r\n    Color.CornflowerBlue = new Color(100, 149, 237);\r\n    Color.SkyBlue = new Color(135, 206, 235);\r\n    Color.LightSkyBlue = new Color(135, 206, 250);\r\n    Color.LightSteelBlue = new Color(176, 196, 222);\r\n    Color.LightBlue = new Color(173, 216, 230);\r\n    Color.PowderBlue = new Color(176, 224, 230);\r\n    return Color;\r\n}());\r\n//# sourceMappingURL=color.js.map\n\n/**\r\n * Represents a glyph to be drawn to the screen.\r\n */\r\nvar Glyph = /** @class */ (function () {\r\n    /**\r\n     * Creates a Glyph from a single character.\r\n     *\r\n     * @param char - A single character.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    function Glyph(char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        this.char = char.charCodeAt(0);\r\n        this.fore = fore;\r\n        this.back = back;\r\n    }\r\n    /**\r\n     * Creates a glyph from a charCode.\r\n     *\r\n     * @param char - A number representing a charCode.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    Glyph.fromCharCode = function (char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        return new Glyph(String.fromCharCode(char), fore, back);\r\n    };\r\n    /**\r\n     * Checks to see if two glyphs are equal.\r\n     * @param other Glyph - The other glyph.\r\n     */\r\n    Glyph.prototype.isEqual = function (other) {\r\n        if (other instanceof Glyph === false)\r\n            return false;\r\n        return (this.char === other.char &&\r\n            this.fore.isEqual(other.fore) &&\r\n            this.back.isEqual(other.back));\r\n    };\r\n    return Glyph;\r\n}());\r\n//# sourceMappingURL=glyph.js.map\n\nvar BaseTerminal = /** @class */ (function () {\r\n    function BaseTerminal(config) {\r\n        var _a, _b;\r\n        this.width = config.width;\r\n        this.height = config.height;\r\n        this.foreColor = (_a = config.foreColor) !== null && _a !== void 0 ? _a : Color.White;\r\n        this.backColor = (_b = config.backColor) !== null && _b !== void 0 ? _b : Color.Black;\r\n    }\r\n    BaseTerminal.prototype.size = function () {\r\n        return {\r\n            x: this.width,\r\n            y: this.height,\r\n        };\r\n    };\r\n    BaseTerminal.prototype.clear = function () {\r\n        this.fill({ x: 0, y: 0 }, { x: this.width - 1, y: this.height - 1 }, new Glyph(\" \"));\r\n    };\r\n    BaseTerminal.prototype.fill = function (v1, v2, glyph) {\r\n        for (var x = v1.x; x <= v2.x; x++) {\r\n            for (var y = v1.y; y <= v2.y; y++) {\r\n                this.drawGlyph({ x: x, y: y }, glyph);\r\n            }\r\n        }\r\n    };\r\n    BaseTerminal.prototype.writeAt = function (pos, text, fore, back) {\r\n        if (fore === void 0) { fore = this.foreColor; }\r\n        if (back === void 0) { back = this.backColor; }\r\n        for (var i = 0; i < text.length; i++) {\r\n            if (pos.x + i >= this.width)\r\n                break;\r\n            this.drawGlyph({\r\n                x: pos.x + i,\r\n                y: pos.y,\r\n            }, Glyph.fromCharCode(text.charCodeAt(i), fore, back));\r\n        }\r\n    };\r\n    BaseTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal(pos, { x: width, y: height }, this);\r\n    };\r\n    BaseTerminal.prototype.drawCharCode = function (pos, charCode, foreColor, backColor) {\r\n        if (foreColor === void 0) { foreColor = this.foreColor; }\r\n        if (backColor === void 0) { backColor = this.backColor; }\r\n        this.drawGlyph(pos, Glyph.fromCharCode(charCode, foreColor, backColor));\r\n    };\r\n    return BaseTerminal;\r\n}());\r\nvar RenderableTerminal = /** @class */ (function (_super) {\r\n    __extends(RenderableTerminal, _super);\r\n    function RenderableTerminal() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return RenderableTerminal;\r\n}(BaseTerminal));\r\nvar PortTerminal = /** @class */ (function (_super) {\r\n    __extends(PortTerminal, _super);\r\n    function PortTerminal(pos, size, root) {\r\n        var _this = _super.call(this, { width: size.x, height: size.y }) || this;\r\n        _this._x = pos.x;\r\n        _this._y = pos.y;\r\n        _this.portSize = size;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    PortTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        if (pos.x < 0 || pos.x >= this.width)\r\n            return;\r\n        if (pos.y < 0 || pos.y >= this.height)\r\n            return;\r\n        this.root.drawGlyph({ x: this._x + pos.x, y: this._y + pos.y }, glyph);\r\n    };\r\n    PortTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal({\r\n            x: this._x + pos.x,\r\n            y: this._y + pos.y,\r\n        }, { x: width, y: height }, this.root);\r\n    };\r\n    return PortTerminal;\r\n}(BaseTerminal));\r\n//# sourceMappingURL=terminal.js.map\n\nvar Table = /** @class */ (function () {\r\n    function Table(width, height) {\r\n        this.items = [];\r\n        this.width = width;\r\n        this.height = height;\r\n        // ToDo - Initialize empty array\r\n    }\r\n    Table.prototype.fill = function (value) {\r\n        var size = this.width * this.height;\r\n        for (var i = 0; i < size; i++) {\r\n            this.items[i] = value;\r\n        }\r\n    };\r\n    Table.prototype.get = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (!this.isInBounds({ x: x, y: y }))\r\n            return undefined;\r\n        var index = y * this.width + x;\r\n        return this.items[index];\r\n    };\r\n    Table.prototype.set = function (pos, item) {\r\n        if (this.isInBounds(pos) === false)\r\n            throw new Error(pos.x + \":\" + pos.y + \" is not in bounds\");\r\n        var index = pos.y * this.width + pos.x;\r\n        if (item !== undefined)\r\n            this.items[index] = item;\r\n        else\r\n            delete this.items[index];\r\n    };\r\n    Table.prototype.isInBounds = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    Table.prototype.getNeighbors = function (pos, predicate, topology) {\r\n        var _this = this;\r\n        if (topology === void 0) { topology = \"eight\"; }\r\n        var neighbors = [];\r\n        neighbors.push({ x: pos.x + 1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + -1 });\r\n        neighbors.push({ x: pos.x + -1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + 1 });\r\n        if (topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + -1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        neighbors = neighbors.filter(function (v) { return _this.isInBounds(v); });\r\n        if (predicate) {\r\n            neighbors = neighbors.filter(function (v) { return predicate(v, _this.get(v)); });\r\n        }\r\n        return neighbors;\r\n    };\r\n    Table.prototype.floodFillSelect = function (pos, targetValue) {\r\n        if (!targetValue) {\r\n            targetValue = this.get(pos);\r\n        }\r\n        // If given a target value, must match start position\r\n        if (this.get(pos) !== targetValue) {\r\n            return [];\r\n        }\r\n        var horizon = [pos];\r\n        // \"x:y\", for quick indexing\r\n        var floodFill = new Set();\r\n        while (horizon.length) {\r\n            var point = horizon.shift();\r\n            var value = this.get(point);\r\n            // If not the right type of value, we're done.\r\n            if (value !== targetValue)\r\n                continue;\r\n            // If we've already marked this spot\r\n            if (floodFill.has(point.x + \":\" + point.y))\r\n                continue;\r\n            // If it is the proper value, collect it\r\n            floodFill.add(point.x + \":\" + point.y);\r\n            // The add it's neighbors to the search horizon\r\n            var neighbors = this.getNeighbors(point, undefined, \"four\");\r\n            horizon.push.apply(horizon, neighbors);\r\n        }\r\n        var fill = Array.from(floodFill.keys()).map(function (str) {\r\n            var _a = str.split(\":\"), x = _a[0], y = _a[1];\r\n            return {\r\n                x: Number.parseInt(x),\r\n                y: Number.parseInt(y),\r\n            };\r\n        });\r\n        return fill;\r\n    };\r\n    return Table;\r\n}());\r\n//# sourceMappingURL=table.js.map\n\n/** Represents glyph data, agnostic to how it is rendered. */\r\nvar Display = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Display\r\n     * @param width - The number of glyphs wide the display is\r\n     * @param height - The number of glyphs tall the display is\r\n     */\r\n    function Display(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.glyphs = new Table(width, height);\r\n        this.changedGlyphs = new Table(width, height);\r\n    }\r\n    /**\r\n     * Returns a Vector representing the width/height of the display.\r\n     */\r\n    Display.prototype.size = function () {\r\n        return { x: this.width, y: this.height };\r\n    };\r\n    /**\r\n     * Sets a single glyph in the display.\r\n     *\r\n     * @param pos Vector2 - The position of the Glyph\r\n     * @param glyph Glyph - The Glyph\r\n     */\r\n    Display.prototype.setGlyph = function (pos, glyph) {\r\n        if (this.glyphs.isInBounds(pos) === false)\r\n            return;\r\n        if (glyph.isEqual(this.glyphs.get(pos))) {\r\n            this.changedGlyphs.set(pos, undefined);\r\n        }\r\n        else {\r\n            this.changedGlyphs.set(pos, glyph);\r\n        }\r\n    };\r\n    /**\r\n     * Calls the callback with each x/y/glyph pair.\r\n     * The terminal needs to decide how to render the display.\r\n     * The callback is called bottom to top, right to left.\r\n     */\r\n    Display.prototype.render = function (callback) {\r\n        for (var y = this.height - 1; y >= 0; y--) {\r\n            for (var x = this.width - 1; x >= 0; x--) {\r\n                var glyph = this.changedGlyphs.get({ x: x, y: y });\r\n                if (!glyph)\r\n                    continue;\r\n                callback({ x: x, y: y }, glyph);\r\n                this.glyphs.set({ x: x, y: y }, glyph);\r\n                this.changedGlyphs.set({ x: x, y: y }, undefined);\r\n            }\r\n        }\r\n    };\r\n    return Display;\r\n}());\r\n//# sourceMappingURL=display.js.map\n\nvar Font = /** @class */ (function () {\r\n    function Font(family, size, charWidth, height, x, y) {\r\n        this.family = family;\r\n        this.size = size;\r\n        this.charWidth = charWidth;\r\n        this.lineHeight = height;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return Font;\r\n}());\r\n/**\r\n * Renders a display by writing fonts to a canvas.\r\n */\r\nvar CanvasTerminal = /** @class */ (function (_super) {\r\n    __extends(CanvasTerminal, _super);\r\n    /**\r\n     * Creates a new CanvasTerminal.\r\n     *\r\n     * @param config - The config for the CanvasTerminal\r\n     * @param config.width - The width of the terminal in characters.\r\n     * @param config.height - The height of the terminal in characters.\r\n     * @param config.font Font - A font object\r\n     * @param config.mountNode - Will mount the canvas as a child of this node if provided.\r\n     */\r\n    function CanvasTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        _this.scale = window.devicePixelRatio;\r\n        _this.display = new Display(config.width, config.height);\r\n        _this.font = config.font;\r\n        _this.canvas = window.document.createElement(\"canvas\");\r\n        _this.context = _this.canvas.getContext(\"2d\");\r\n        var canvasWidth = _this.font.charWidth * _this.display.width;\r\n        var canvasHeight = _this.font.lineHeight * _this.display.height;\r\n        _this.canvas.width = canvasWidth * _this.scale;\r\n        _this.canvas.height = canvasHeight * _this.scale;\r\n        _this.canvas.style.width = canvasWidth + \"px\";\r\n        _this.canvas.style.height = canvasHeight + \"px\";\r\n        // Mount the canvas\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(_this.canvas);\r\n        }\r\n        else {\r\n            window.document.body.appendChild(_this.canvas);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws a glyph on the display.\r\n     *\r\n     * @param pos Vector2 - Position of the Glyph\r\n     * @param glyph Glyph - The Glyph to render\r\n     */\r\n    CanvasTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this.display.setGlyph(pos, glyph);\r\n    };\r\n    /**\r\n     * Renders the display to the canvas.\r\n     * Usually drawn once per animation frame.\r\n     */\r\n    CanvasTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        this.context.font = this.font.size * this.scale + \"px \" + this.font.family + \", monospace\";\r\n        this.display.render(function (pos, glyph) {\r\n            // Fill the background\r\n            _this.context.fillStyle = glyph.back.cssColor();\r\n            _this.context.fillRect(pos.x * _this.font.charWidth * _this.scale, pos.y * _this.font.lineHeight * _this.scale, _this.font.charWidth * _this.scale, _this.font.lineHeight * _this.scale);\r\n            // Dont bother drawing empty characters\r\n            if (glyph.char === 0 || \" \".charCodeAt(0) === glyph.char) {\r\n                return;\r\n            }\r\n            // Fill the char\r\n            _this.context.fillStyle = glyph.fore.cssColor();\r\n            _this.context.fillText(String.fromCharCode(glyph.char), (pos.x * _this.font.charWidth + _this.font.x) * _this.scale, (pos.y * _this.font.lineHeight + _this.font.y) * _this.scale);\r\n        });\r\n    };\r\n    /**\r\n     * Returns the character position given a pixel coordinate.\r\n     */\r\n    CanvasTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this.canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this.font.charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this.font.lineHeight),\r\n        };\r\n    };\r\n    /**\r\n     * Deletes the terminal, removing the canvas.\r\n     */\r\n    CanvasTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this.canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this.canvas);\r\n    };\r\n    return CanvasTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=canvas-terminal.js.map\n\n/// Unicode code points for various special characters that also exist on\r\n/// [code page 437][font].\r\n///\r\n/// [font]: http://en.wikipedia.org/wiki/Code_page_437\r\nvar CharCode;\r\n(function (CharCode) {\r\n    // 1 - 15.\r\n    CharCode[CharCode[\"whiteSmilingFace\"] = 9786] = \"whiteSmilingFace\";\r\n    CharCode[CharCode[\"blackSmilingFace\"] = 9787] = \"blackSmilingFace\";\r\n    CharCode[CharCode[\"blackHeartSuit\"] = 9829] = \"blackHeartSuit\";\r\n    CharCode[CharCode[\"blackDiamondSuit\"] = 9830] = \"blackDiamondSuit\";\r\n    CharCode[CharCode[\"blackClubSuit\"] = 9827] = \"blackClubSuit\";\r\n    CharCode[CharCode[\"blackSpadeSuit\"] = 9824] = \"blackSpadeSuit\";\r\n    CharCode[CharCode[\"bullet\"] = 8226] = \"bullet\";\r\n    CharCode[CharCode[\"inverseBullet\"] = 9688] = \"inverseBullet\";\r\n    CharCode[CharCode[\"whiteCircle\"] = 9675] = \"whiteCircle\";\r\n    CharCode[CharCode[\"inverseWhiteCircle\"] = 9689] = \"inverseWhiteCircle\";\r\n    CharCode[CharCode[\"maleSign\"] = 9794] = \"maleSign\";\r\n    CharCode[CharCode[\"femaleSign\"] = 9792] = \"femaleSign\";\r\n    CharCode[CharCode[\"eighthNote\"] = 9834] = \"eighthNote\";\r\n    CharCode[CharCode[\"beamedEighthNotes\"] = 9835] = \"beamedEighthNotes\";\r\n    CharCode[CharCode[\"whiteSunWithRays\"] = 9788] = \"whiteSunWithRays\";\r\n    // 16 - 31.\r\n    CharCode[CharCode[\"blackRightPointingPointer\"] = 9658] = \"blackRightPointingPointer\";\r\n    CharCode[CharCode[\"blackLeftPointingPointer\"] = 9668] = \"blackLeftPointingPointer\";\r\n    CharCode[CharCode[\"upDownArrow\"] = 8597] = \"upDownArrow\";\r\n    CharCode[CharCode[\"doubleExclamationMark\"] = 8252] = \"doubleExclamationMark\";\r\n    CharCode[CharCode[\"pilcrow\"] = 182] = \"pilcrow\";\r\n    CharCode[CharCode[\"sectionSign\"] = 167] = \"sectionSign\";\r\n    CharCode[CharCode[\"blackRectangle\"] = 9644] = \"blackRectangle\";\r\n    CharCode[CharCode[\"upDownArrowWithBase\"] = 8616] = \"upDownArrowWithBase\";\r\n    CharCode[CharCode[\"upwardsArrow\"] = 8593] = \"upwardsArrow\";\r\n    CharCode[CharCode[\"downwardsArrow\"] = 8595] = \"downwardsArrow\";\r\n    CharCode[CharCode[\"rightwardsArrow\"] = 8594] = \"rightwardsArrow\";\r\n    CharCode[CharCode[\"leftwardsArrow\"] = 8592] = \"leftwardsArrow\";\r\n    CharCode[CharCode[\"rightAngle\"] = 8735] = \"rightAngle\";\r\n    CharCode[CharCode[\"leftRightArrow\"] = 8596] = \"leftRightArrow\";\r\n    CharCode[CharCode[\"blackUpPointingTriangle\"] = 9650] = \"blackUpPointingTriangle\";\r\n    CharCode[CharCode[\"blackDownPointingTriangle\"] = 9660] = \"blackDownPointingTriangle\";\r\n    // 32 - 47.\r\n    CharCode[CharCode[\"space\"] = 32] = \"space\";\r\n    CharCode[CharCode[\"exclamationPoint\"] = 33] = \"exclamationPoint\";\r\n    CharCode[CharCode[\"doubleQuote\"] = 34] = \"doubleQuote\";\r\n    CharCode[CharCode[\"numberSign\"] = 35] = \"numberSign\";\r\n    CharCode[CharCode[\"dollarSign\"] = 36] = \"dollarSign\";\r\n    CharCode[CharCode[\"percent\"] = 37] = \"percent\";\r\n    CharCode[CharCode[\"ampersand\"] = 38] = \"ampersand\";\r\n    CharCode[CharCode[\"apostrophe\"] = 39] = \"apostrophe\";\r\n    CharCode[CharCode[\"leftParenthesis\"] = 40] = \"leftParenthesis\";\r\n    CharCode[CharCode[\"rightParenthesis\"] = 41] = \"rightParenthesis\";\r\n    CharCode[CharCode[\"asterisk\"] = 42] = \"asterisk\";\r\n    CharCode[CharCode[\"plus\"] = 43] = \"plus\";\r\n    CharCode[CharCode[\"comma\"] = 44] = \"comma\";\r\n    CharCode[CharCode[\"minus\"] = 45] = \"minus\";\r\n    CharCode[CharCode[\"period\"] = 46] = \"period\";\r\n    CharCode[CharCode[\"slash\"] = 47] = \"slash\";\r\n    // 48 - 63.\r\n    CharCode[CharCode[\"zero\"] = 48] = \"zero\";\r\n    CharCode[CharCode[\"one\"] = 49] = \"one\";\r\n    CharCode[CharCode[\"two\"] = 50] = \"two\";\r\n    CharCode[CharCode[\"three\"] = 51] = \"three\";\r\n    CharCode[CharCode[\"four\"] = 52] = \"four\";\r\n    CharCode[CharCode[\"five\"] = 53] = \"five\";\r\n    CharCode[CharCode[\"six\"] = 54] = \"six\";\r\n    CharCode[CharCode[\"seven\"] = 55] = \"seven\";\r\n    CharCode[CharCode[\"eight\"] = 56] = \"eight\";\r\n    CharCode[CharCode[\"nine\"] = 57] = \"nine\";\r\n    CharCode[CharCode[\"colon\"] = 58] = \"colon\";\r\n    CharCode[CharCode[\"semicolon\"] = 59] = \"semicolon\";\r\n    CharCode[CharCode[\"lessThan\"] = 60] = \"lessThan\";\r\n    CharCode[CharCode[\"equals\"] = 61] = \"equals\";\r\n    CharCode[CharCode[\"greaterThan\"] = 62] = \"greaterThan\";\r\n    CharCode[CharCode[\"questionMark\"] = 63] = \"questionMark\";\r\n    // 64 - 95.\r\n    CharCode[CharCode[\"at\"] = 64] = \"at\";\r\n    CharCode[CharCode[\"aUpper\"] = 65] = \"aUpper\";\r\n    CharCode[CharCode[\"bUpper\"] = 66] = \"bUpper\";\r\n    CharCode[CharCode[\"cUpper\"] = 67] = \"cUpper\";\r\n    CharCode[CharCode[\"dUpper\"] = 68] = \"dUpper\";\r\n    CharCode[CharCode[\"eUpper\"] = 69] = \"eUpper\";\r\n    CharCode[CharCode[\"fUpper\"] = 70] = \"fUpper\";\r\n    CharCode[CharCode[\"gUpper\"] = 71] = \"gUpper\";\r\n    CharCode[CharCode[\"hUpper\"] = 72] = \"hUpper\";\r\n    CharCode[CharCode[\"iUpper\"] = 73] = \"iUpper\";\r\n    CharCode[CharCode[\"jUpper\"] = 74] = \"jUpper\";\r\n    CharCode[CharCode[\"kUpper\"] = 75] = \"kUpper\";\r\n    CharCode[CharCode[\"lUpper\"] = 76] = \"lUpper\";\r\n    CharCode[CharCode[\"mUpper\"] = 77] = \"mUpper\";\r\n    CharCode[CharCode[\"nUpper\"] = 78] = \"nUpper\";\r\n    CharCode[CharCode[\"oUpper\"] = 79] = \"oUpper\";\r\n    CharCode[CharCode[\"pUpper\"] = 80] = \"pUpper\";\r\n    CharCode[CharCode[\"qUpper\"] = 81] = \"qUpper\";\r\n    CharCode[CharCode[\"rUpper\"] = 82] = \"rUpper\";\r\n    CharCode[CharCode[\"sUpper\"] = 83] = \"sUpper\";\r\n    CharCode[CharCode[\"tUpper\"] = 84] = \"tUpper\";\r\n    CharCode[CharCode[\"uUpper\"] = 85] = \"uUpper\";\r\n    CharCode[CharCode[\"vUpper\"] = 86] = \"vUpper\";\r\n    CharCode[CharCode[\"wUpper\"] = 87] = \"wUpper\";\r\n    CharCode[CharCode[\"xUpper\"] = 88] = \"xUpper\";\r\n    CharCode[CharCode[\"yUpper\"] = 89] = \"yUpper\";\r\n    CharCode[CharCode[\"zUpper\"] = 90] = \"zUpper\";\r\n    CharCode[CharCode[\"leftBracket\"] = 91] = \"leftBracket\";\r\n    CharCode[CharCode[\"backSlash\"] = 92] = \"backSlash\";\r\n    CharCode[CharCode[\"rightBracket\"] = 93] = \"rightBracket\";\r\n    CharCode[CharCode[\"caret\"] = 94] = \"caret\";\r\n    CharCode[CharCode[\"underscore\"] = 95] = \"underscore\";\r\n    // 96 - 127.\r\n    CharCode[CharCode[\"accent\"] = 96] = \"accent\";\r\n    CharCode[CharCode[\"aLower\"] = 97] = \"aLower\";\r\n    CharCode[CharCode[\"bLower\"] = 98] = \"bLower\";\r\n    CharCode[CharCode[\"cLower\"] = 99] = \"cLower\";\r\n    CharCode[CharCode[\"dLower\"] = 100] = \"dLower\";\r\n    CharCode[CharCode[\"eLower\"] = 101] = \"eLower\";\r\n    CharCode[CharCode[\"fLower\"] = 102] = \"fLower\";\r\n    CharCode[CharCode[\"gLower\"] = 103] = \"gLower\";\r\n    CharCode[CharCode[\"hLower\"] = 104] = \"hLower\";\r\n    CharCode[CharCode[\"iLower\"] = 105] = \"iLower\";\r\n    CharCode[CharCode[\"jLower\"] = 106] = \"jLower\";\r\n    CharCode[CharCode[\"kLower\"] = 107] = \"kLower\";\r\n    CharCode[CharCode[\"lLower\"] = 108] = \"lLower\";\r\n    CharCode[CharCode[\"mLower\"] = 109] = \"mLower\";\r\n    CharCode[CharCode[\"nLower\"] = 110] = \"nLower\";\r\n    CharCode[CharCode[\"oLower\"] = 111] = \"oLower\";\r\n    CharCode[CharCode[\"pLower\"] = 112] = \"pLower\";\r\n    CharCode[CharCode[\"qLower\"] = 113] = \"qLower\";\r\n    CharCode[CharCode[\"rLower\"] = 114] = \"rLower\";\r\n    CharCode[CharCode[\"sLower\"] = 115] = \"sLower\";\r\n    CharCode[CharCode[\"tLower\"] = 116] = \"tLower\";\r\n    CharCode[CharCode[\"uLower\"] = 117] = \"uLower\";\r\n    CharCode[CharCode[\"vLower\"] = 118] = \"vLower\";\r\n    CharCode[CharCode[\"wLower\"] = 119] = \"wLower\";\r\n    CharCode[CharCode[\"xLower\"] = 120] = \"xLower\";\r\n    CharCode[CharCode[\"yLower\"] = 121] = \"yLower\";\r\n    CharCode[CharCode[\"zLower\"] = 122] = \"zLower\";\r\n    CharCode[CharCode[\"leftBrace\"] = 123] = \"leftBrace\";\r\n    CharCode[CharCode[\"pipe\"] = 124] = \"pipe\";\r\n    CharCode[CharCode[\"rightBrace\"] = 125] = \"rightBrace\";\r\n    CharCode[CharCode[\"tilde\"] = 126] = \"tilde\";\r\n    CharCode[CharCode[\"house\"] = 8962] = \"house\";\r\n    // 128 - 143.\r\n    CharCode[CharCode[\"latinCapitalLetterCWithCedilla\"] = 199] = \"latinCapitalLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithDiaeresis\"] = 252] = \"latinSmallLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithAcute\"] = 233] = \"latinSmallLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithCircumflex\"] = 226] = \"latinSmallLetterAWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithDiaeresis\"] = 228] = \"latinSmallLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithGrave\"] = 224] = \"latinSmallLetterAWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithRingAbove\"] = 229] = \"latinSmallLetterAWithRingAbove\";\r\n    CharCode[CharCode[\"latinSmallLetterCWithCedilla\"] = 231] = \"latinSmallLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithCircumflex\"] = 234] = \"latinSmallLetterEWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithDiaeresis\"] = 235] = \"latinSmallLetterEWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithGrave\"] = 232] = \"latinSmallLetterEWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithDiaeresis\"] = 239] = \"latinSmallLetterIWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithCircumflex\"] = 238] = \"latinSmallLetterIWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithGrave\"] = 236] = \"latinSmallLetterIWithGrave\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithDiaeresis\"] = 196] = \"latinCapitalLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithRingAbove\"] = 197] = \"latinCapitalLetterAWithRingAbove\";\r\n    // 144 - 159.\r\n    CharCode[CharCode[\"latinCapitalLetterEWithAcute\"] = 201] = \"latinCapitalLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAe\"] = 230] = \"latinSmallLetterAe\";\r\n    CharCode[CharCode[\"latinCapitalLetterAe\"] = 198] = \"latinCapitalLetterAe\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithCircumflex\"] = 244] = \"latinSmallLetterOWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithDiaeresis\"] = 246] = \"latinSmallLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithGrave\"] = 242] = \"latinSmallLetterOWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithCircumflex\"] = 251] = \"latinSmallLetterUWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithGrave\"] = 249] = \"latinSmallLetterUWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterYWithDiaeresis\"] = 255] = \"latinSmallLetterYWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterOWithDiaeresis\"] = 214] = \"latinCapitalLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterUWithDiaeresis\"] = 220] = \"latinCapitalLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"centSign\"] = 162] = \"centSign\";\r\n    CharCode[CharCode[\"poundSign\"] = 163] = \"poundSign\";\r\n    CharCode[CharCode[\"yenSign\"] = 165] = \"yenSign\";\r\n    CharCode[CharCode[\"pesetaSign\"] = 8359] = \"pesetaSign\";\r\n    CharCode[CharCode[\"latinSmallLetterFWithHook\"] = 402] = \"latinSmallLetterFWithHook\";\r\n    // 160 - 175.\r\n    CharCode[CharCode[\"latinSmallLetterAWithAcute\"] = 225] = \"latinSmallLetterAWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithAcute\"] = 237] = \"latinSmallLetterIWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithAcute\"] = 243] = \"latinSmallLetterOWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithAcute\"] = 250] = \"latinSmallLetterUWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterNWithTilde\"] = 241] = \"latinSmallLetterNWithTilde\";\r\n    CharCode[CharCode[\"latinCapitalLetterNWithTilde\"] = 209] = \"latinCapitalLetterNWithTilde\";\r\n    CharCode[CharCode[\"feminineOrdinalIndicator\"] = 170] = \"feminineOrdinalIndicator\";\r\n    CharCode[CharCode[\"masculineOrdinalIndicator\"] = 186] = \"masculineOrdinalIndicator\";\r\n    CharCode[CharCode[\"invertedQuestionMark\"] = 191] = \"invertedQuestionMark\";\r\n    CharCode[CharCode[\"reversedNotSign\"] = 8976] = \"reversedNotSign\";\r\n    CharCode[CharCode[\"notSign\"] = 172] = \"notSign\";\r\n    CharCode[CharCode[\"vulgarFractionOneHalf\"] = 189] = \"vulgarFractionOneHalf\";\r\n    CharCode[CharCode[\"vulgarFractionOneQuarter\"] = 188] = \"vulgarFractionOneQuarter\";\r\n    CharCode[CharCode[\"invertedExclamationMark\"] = 161] = \"invertedExclamationMark\";\r\n    CharCode[CharCode[\"leftPointingDoubleAngleQuotationMark\"] = 171] = \"leftPointingDoubleAngleQuotationMark\";\r\n    CharCode[CharCode[\"rightPointingDoubleAngleQuotationMark\"] = 187] = \"rightPointingDoubleAngleQuotationMark\";\r\n    // 176 - 191.\r\n    CharCode[CharCode[\"lightShade\"] = 9617] = \"lightShade\";\r\n    CharCode[CharCode[\"mediumShade\"] = 9618] = \"mediumShade\";\r\n    CharCode[CharCode[\"darkShade\"] = 9619] = \"darkShade\";\r\n    CharCode[CharCode[\"boxDrawingsLightVertical\"] = 9474] = \"boxDrawingsLightVertical\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndLeft\"] = 9508] = \"boxDrawingsLightVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndLeftDouble\"] = 9569] = \"boxDrawingsVerticalSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndLeftSingle\"] = 9570] = \"boxDrawingsVerticalDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndLeftSingle\"] = 9558] = \"boxDrawingsDownDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndLeftDouble\"] = 9557] = \"boxDrawingsDownSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndLeft\"] = 9571] = \"boxDrawingsDoubleVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVertical\"] = 9553] = \"boxDrawingsDoubleVertical\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndLeft\"] = 9559] = \"boxDrawingsDoubleDownAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndLeft\"] = 9565] = \"boxDrawingsDoubleUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndLeftSingle\"] = 9564] = \"boxDrawingsUpDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndLeftDouble\"] = 9563] = \"boxDrawingsUpSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndLeft\"] = 9488] = \"boxDrawingsLightDownAndLeft\";\r\n    // 192 - 207.\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndRight\"] = 9492] = \"boxDrawingsLightUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndHorizontal\"] = 9524] = \"boxDrawingsLightUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndHorizontal\"] = 9516] = \"boxDrawingsLightDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndRight\"] = 9500] = \"boxDrawingsLightVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightHorizontal\"] = 9472] = \"boxDrawingsLightHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndHorizontal\"] = 9532] = \"boxDrawingsLightVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndRightDouble\"] = 9566] = \"boxDrawingsVerticalSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndRightSingle\"] = 9567] = \"boxDrawingsVerticalDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndRight\"] = 9562] = \"boxDrawingsDoubleUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndRight\"] = 9556] = \"boxDrawingsDoubleDownAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndHorizontal\"] = 9577] = \"boxDrawingsDoubleUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndHorizontal\"] = 9574] = \"boxDrawingsDoubleDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndRight\"] = 9568] = \"boxDrawingsDoubleVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleHorizontal\"] = 9552] = \"boxDrawingsDoubleHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndHorizontal\"] = 9580] = \"boxDrawingsDoubleVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndHorizontalDouble\"] = 9575] = \"boxDrawingsUpSingleAndHorizontalDouble\";\r\n    // 208 - 223.\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndHorizontalSingle\"] = 9576] = \"boxDrawingsUpDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndHorizontalDouble\"] = 9572] = \"boxDrawingsDownSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndHorizontalSingle\"] = 9573] = \"boxDrawingsDownDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndRightSingle\"] = 9561] = \"boxDrawingsUpDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndRightDouble\"] = 9560] = \"boxDrawingsUpSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndRightDouble\"] = 9554] = \"boxDrawingsDownSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndRightSingle\"] = 9555] = \"boxDrawingsDownDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndHorizontalSingle\"] = 9579] = \"boxDrawingsVerticalDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndHorizontalDouble\"] = 9578] = \"boxDrawingsVerticalSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndLeft\"] = 9496] = \"boxDrawingsLightUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndRight\"] = 9484] = \"boxDrawingsLightDownAndRight\";\r\n    CharCode[CharCode[\"fullBlock\"] = 9608] = \"fullBlock\";\r\n    CharCode[CharCode[\"lowerHalfBlock\"] = 9604] = \"lowerHalfBlock\";\r\n    CharCode[CharCode[\"leftHalfBlock\"] = 9612] = \"leftHalfBlock\";\r\n    CharCode[CharCode[\"rightHalfBlock\"] = 9616] = \"rightHalfBlock\";\r\n    CharCode[CharCode[\"upperHalfBlock\"] = 9600] = \"upperHalfBlock\";\r\n    // 224 - 239.\r\n    CharCode[CharCode[\"greekSmallLetterAlpha\"] = 945] = \"greekSmallLetterAlpha\";\r\n    CharCode[CharCode[\"latinSmallLetterSharpS\"] = 223] = \"latinSmallLetterSharpS\";\r\n    CharCode[CharCode[\"greekCapitalLetterGamma\"] = 915] = \"greekCapitalLetterGamma\";\r\n    CharCode[CharCode[\"greekSmallLetterPi\"] = 960] = \"greekSmallLetterPi\";\r\n    CharCode[CharCode[\"greekCapitalLetterSigma\"] = 931] = \"greekCapitalLetterSigma\";\r\n    CharCode[CharCode[\"greekSmallLetterSigma\"] = 963] = \"greekSmallLetterSigma\";\r\n    CharCode[CharCode[\"microSign\"] = 181] = \"microSign\";\r\n    CharCode[CharCode[\"greekSmallLetterTau\"] = 964] = \"greekSmallLetterTau\";\r\n    CharCode[CharCode[\"greekCapitalLetterPhi\"] = 934] = \"greekCapitalLetterPhi\";\r\n    CharCode[CharCode[\"greekCapitalLetterTheta\"] = 920] = \"greekCapitalLetterTheta\";\r\n    CharCode[CharCode[\"greekCapitalLetterOmega\"] = 937] = \"greekCapitalLetterOmega\";\r\n    CharCode[CharCode[\"greekSmallLetterDelta\"] = 948] = \"greekSmallLetterDelta\";\r\n    CharCode[CharCode[\"infinity\"] = 8734] = \"infinity\";\r\n    CharCode[CharCode[\"greekSmallLetterPhi\"] = 966] = \"greekSmallLetterPhi\";\r\n    CharCode[CharCode[\"greekSmallLetterEpsilon\"] = 949] = \"greekSmallLetterEpsilon\";\r\n    CharCode[CharCode[\"intersection\"] = 8745] = \"intersection\";\r\n    // 240 - 254.\r\n    CharCode[CharCode[\"identicalTo\"] = 8801] = \"identicalTo\";\r\n    CharCode[CharCode[\"plusMinusSign\"] = 177] = \"plusMinusSign\";\r\n    CharCode[CharCode[\"greaterThanOrEqualTo\"] = 8805] = \"greaterThanOrEqualTo\";\r\n    CharCode[CharCode[\"lessThanOrEqualTo\"] = 8804] = \"lessThanOrEqualTo\";\r\n    CharCode[CharCode[\"topHalfIntegral\"] = 8992] = \"topHalfIntegral\";\r\n    CharCode[CharCode[\"bottomHalfIntegral\"] = 8993] = \"bottomHalfIntegral\";\r\n    CharCode[CharCode[\"divisionSign\"] = 247] = \"divisionSign\";\r\n    CharCode[CharCode[\"almostEqualTo\"] = 8776] = \"almostEqualTo\";\r\n    CharCode[CharCode[\"degreeSign\"] = 176] = \"degreeSign\";\r\n    CharCode[CharCode[\"bulletOperator\"] = 8729] = \"bulletOperator\";\r\n    CharCode[CharCode[\"middleDot\"] = 183] = \"middleDot\";\r\n    CharCode[CharCode[\"squareRoot\"] = 8730] = \"squareRoot\";\r\n    CharCode[CharCode[\"superscriptLatinSmallLetterN\"] = 8319] = \"superscriptLatinSmallLetterN\";\r\n    CharCode[CharCode[\"superscriptTwo\"] = 178] = \"superscriptTwo\";\r\n    CharCode[CharCode[\"blackSquare\"] = 9632] = \"blackSquare\";\r\n})(CharCode || (CharCode = {}));\r\n//# sourceMappingURL=char-code.js.map\n\nvar _a;\r\nvar unicodeMap = (_a = {},\r\n    // 1 - 15.\r\n    _a[CharCode.whiteSmilingFace] = 1,\r\n    _a[CharCode.blackSmilingFace] = 2,\r\n    _a[CharCode.blackHeartSuit] = 3,\r\n    _a[CharCode.blackDiamondSuit] = 4,\r\n    _a[CharCode.blackClubSuit] = 5,\r\n    _a[CharCode.blackSpadeSuit] = 6,\r\n    _a[CharCode.bullet] = 7,\r\n    _a[CharCode.inverseBullet] = 8,\r\n    _a[CharCode.whiteCircle] = 9,\r\n    _a[CharCode.inverseWhiteCircle] = 10,\r\n    _a[CharCode.maleSign] = 11,\r\n    _a[CharCode.femaleSign] = 12,\r\n    _a[CharCode.eighthNote] = 13,\r\n    _a[CharCode.beamedEighthNotes] = 14,\r\n    _a[CharCode.whiteSunWithRays] = 15,\r\n    // 16 - 31.\r\n    _a[CharCode.blackRightPointingPointer] = 16,\r\n    _a[CharCode.blackLeftPointingPointer] = 17,\r\n    _a[CharCode.upDownArrow] = 18,\r\n    _a[CharCode.doubleExclamationMark] = 19,\r\n    _a[CharCode.pilcrow] = 20,\r\n    _a[CharCode.sectionSign] = 21,\r\n    _a[CharCode.blackRectangle] = 22,\r\n    _a[CharCode.upDownArrowWithBase] = 23,\r\n    _a[CharCode.upwardsArrow] = 24,\r\n    _a[CharCode.downwardsArrow] = 25,\r\n    _a[CharCode.rightwardsArrow] = 26,\r\n    _a[CharCode.leftwardsArrow] = 27,\r\n    _a[CharCode.rightAngle] = 28,\r\n    _a[CharCode.leftRightArrow] = 29,\r\n    _a[CharCode.blackUpPointingTriangle] = 30,\r\n    _a[CharCode.blackDownPointingTriangle] = 31,\r\n    // 127.\r\n    _a[CharCode.house] = 127,\r\n    // 128 - 143.\r\n    _a[CharCode.latinCapitalLetterCWithCedilla] = 128,\r\n    _a[CharCode.latinSmallLetterUWithDiaeresis] = 129,\r\n    _a[CharCode.latinSmallLetterEWithAcute] = 130,\r\n    _a[CharCode.latinSmallLetterAWithCircumflex] = 131,\r\n    _a[CharCode.latinSmallLetterAWithDiaeresis] = 132,\r\n    _a[CharCode.latinSmallLetterAWithGrave] = 133,\r\n    _a[CharCode.latinSmallLetterAWithRingAbove] = 134,\r\n    _a[CharCode.latinSmallLetterCWithCedilla] = 135,\r\n    _a[CharCode.latinSmallLetterEWithCircumflex] = 136,\r\n    _a[CharCode.latinSmallLetterEWithDiaeresis] = 137,\r\n    _a[CharCode.latinSmallLetterEWithGrave] = 138,\r\n    _a[CharCode.latinSmallLetterIWithDiaeresis] = 139,\r\n    _a[CharCode.latinSmallLetterIWithCircumflex] = 140,\r\n    _a[CharCode.latinSmallLetterIWithGrave] = 141,\r\n    _a[CharCode.latinCapitalLetterAWithDiaeresis] = 142,\r\n    _a[CharCode.latinCapitalLetterAWithRingAbove] = 143,\r\n    // 144 - 159.\r\n    _a[CharCode.latinCapitalLetterEWithAcute] = 144,\r\n    _a[CharCode.latinSmallLetterAe] = 145,\r\n    _a[CharCode.latinCapitalLetterAe] = 146,\r\n    _a[CharCode.latinSmallLetterOWithCircumflex] = 147,\r\n    _a[CharCode.latinSmallLetterOWithDiaeresis] = 148,\r\n    _a[CharCode.latinSmallLetterOWithGrave] = 149,\r\n    _a[CharCode.latinSmallLetterUWithCircumflex] = 150,\r\n    _a[CharCode.latinSmallLetterUWithGrave] = 151,\r\n    _a[CharCode.latinSmallLetterYWithDiaeresis] = 152,\r\n    _a[CharCode.latinCapitalLetterOWithDiaeresis] = 153,\r\n    _a[CharCode.latinCapitalLetterUWithDiaeresis] = 154,\r\n    _a[CharCode.centSign] = 155,\r\n    _a[CharCode.poundSign] = 156,\r\n    _a[CharCode.yenSign] = 157,\r\n    _a[CharCode.pesetaSign] = 158,\r\n    _a[CharCode.latinSmallLetterFWithHook] = 159,\r\n    // 160 - 175.\r\n    _a[CharCode.latinSmallLetterAWithAcute] = 160,\r\n    _a[CharCode.latinSmallLetterIWithAcute] = 161,\r\n    _a[CharCode.latinSmallLetterOWithAcute] = 162,\r\n    _a[CharCode.latinSmallLetterUWithAcute] = 163,\r\n    _a[CharCode.latinSmallLetterNWithTilde] = 164,\r\n    _a[CharCode.latinCapitalLetterNWithTilde] = 165,\r\n    _a[CharCode.feminineOrdinalIndicator] = 166,\r\n    _a[CharCode.masculineOrdinalIndicator] = 167,\r\n    _a[CharCode.invertedQuestionMark] = 168,\r\n    _a[CharCode.reversedNotSign] = 169,\r\n    _a[CharCode.notSign] = 170,\r\n    _a[CharCode.vulgarFractionOneHalf] = 171,\r\n    _a[CharCode.vulgarFractionOneQuarter] = 172,\r\n    _a[CharCode.invertedExclamationMark] = 173,\r\n    _a[CharCode.leftPointingDoubleAngleQuotationMark] = 174,\r\n    _a[CharCode.rightPointingDoubleAngleQuotationMark] = 175,\r\n    // 176 - 191.\r\n    _a[CharCode.lightShade] = 176,\r\n    _a[CharCode.mediumShade] = 177,\r\n    _a[CharCode.darkShade] = 178,\r\n    _a[CharCode.boxDrawingsLightVertical] = 179,\r\n    _a[CharCode.boxDrawingsLightVerticalAndLeft] = 180,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndLeftDouble] = 181,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndLeftSingle] = 182,\r\n    _a[CharCode.boxDrawingsDownDoubleAndLeftSingle] = 183,\r\n    _a[CharCode.boxDrawingsDownSingleAndLeftDouble] = 184,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndLeft] = 185,\r\n    _a[CharCode.boxDrawingsDoubleVertical] = 186,\r\n    _a[CharCode.boxDrawingsDoubleDownAndLeft] = 187,\r\n    _a[CharCode.boxDrawingsDoubleUpAndLeft] = 188,\r\n    _a[CharCode.boxDrawingsUpDoubleAndLeftSingle] = 189,\r\n    _a[CharCode.boxDrawingsUpSingleAndLeftDouble] = 190,\r\n    _a[CharCode.boxDrawingsLightDownAndLeft] = 191,\r\n    // 192 - 207.\r\n    _a[CharCode.boxDrawingsLightUpAndRight] = 192,\r\n    _a[CharCode.boxDrawingsLightUpAndHorizontal] = 193,\r\n    _a[CharCode.boxDrawingsLightDownAndHorizontal] = 194,\r\n    _a[CharCode.boxDrawingsLightVerticalAndRight] = 195,\r\n    _a[CharCode.boxDrawingsLightHorizontal] = 196,\r\n    _a[CharCode.boxDrawingsLightVerticalAndHorizontal] = 197,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndRightDouble] = 198,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndRightSingle] = 199,\r\n    _a[CharCode.boxDrawingsDoubleUpAndRight] = 200,\r\n    _a[CharCode.boxDrawingsDoubleDownAndRight] = 201,\r\n    _a[CharCode.boxDrawingsDoubleUpAndHorizontal] = 202,\r\n    _a[CharCode.boxDrawingsDoubleDownAndHorizontal] = 203,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndRight] = 204,\r\n    _a[CharCode.boxDrawingsDoubleHorizontal] = 205,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndHorizontal] = 206,\r\n    _a[CharCode.boxDrawingsUpSingleAndHorizontalDouble] = 207,\r\n    // 208 - 223.\r\n    _a[CharCode.boxDrawingsUpDoubleAndHorizontalSingle] = 208,\r\n    _a[CharCode.boxDrawingsDownSingleAndHorizontalDouble] = 209,\r\n    _a[CharCode.boxDrawingsDownDoubleAndHorizontalSingle] = 210,\r\n    _a[CharCode.boxDrawingsUpDoubleAndRightSingle] = 211,\r\n    _a[CharCode.boxDrawingsUpSingleAndRightDouble] = 212,\r\n    _a[CharCode.boxDrawingsDownSingleAndRightDouble] = 213,\r\n    _a[CharCode.boxDrawingsDownDoubleAndRightSingle] = 214,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndHorizontalSingle] = 215,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndHorizontalDouble] = 216,\r\n    _a[CharCode.boxDrawingsLightUpAndLeft] = 217,\r\n    _a[CharCode.boxDrawingsLightDownAndRight] = 218,\r\n    _a[CharCode.fullBlock] = 219,\r\n    _a[CharCode.lowerHalfBlock] = 220,\r\n    _a[CharCode.leftHalfBlock] = 221,\r\n    _a[CharCode.rightHalfBlock] = 222,\r\n    _a[CharCode.upperHalfBlock] = 223,\r\n    // 224 - 239.\r\n    _a[CharCode.greekSmallLetterAlpha] = 224,\r\n    _a[CharCode.latinSmallLetterSharpS] = 225,\r\n    _a[CharCode.greekCapitalLetterGamma] = 226,\r\n    _a[CharCode.greekSmallLetterPi] = 227,\r\n    _a[CharCode.greekCapitalLetterSigma] = 228,\r\n    _a[CharCode.greekSmallLetterSigma] = 229,\r\n    _a[CharCode.microSign] = 230,\r\n    _a[CharCode.greekSmallLetterTau] = 231,\r\n    _a[CharCode.greekCapitalLetterPhi] = 232,\r\n    _a[CharCode.greekCapitalLetterTheta] = 233,\r\n    _a[CharCode.greekCapitalLetterOmega] = 234,\r\n    _a[CharCode.greekSmallLetterDelta] = 235,\r\n    _a[CharCode.infinity] = 236,\r\n    _a[CharCode.greekSmallLetterPhi] = 237,\r\n    _a[CharCode.greekSmallLetterEpsilon] = 238,\r\n    _a[CharCode.intersection] = 239,\r\n    // 240 - 255.\r\n    _a[CharCode.identicalTo] = 240,\r\n    _a[CharCode.plusMinusSign] = 241,\r\n    _a[CharCode.greaterThanOrEqualTo] = 242,\r\n    _a[CharCode.lessThanOrEqualTo] = 243,\r\n    _a[CharCode.topHalfIntegral] = 244,\r\n    _a[CharCode.bottomHalfIntegral] = 245,\r\n    _a[CharCode.divisionSign] = 246,\r\n    _a[CharCode.almostEqualTo] = 247,\r\n    _a[CharCode.degreeSign] = 248,\r\n    _a[CharCode.bulletOperator] = 249,\r\n    _a[CharCode.middleDot] = 250,\r\n    _a[CharCode.squareRoot] = 251,\r\n    _a[CharCode.superscriptLatinSmallLetterN] = 252,\r\n    _a[CharCode.superscriptTwo] = 253,\r\n    _a[CharCode.blackSquare] = 254,\r\n    _a);\r\n//# sourceMappingURL=unicodemap.js.map\n\nvar RetroTerminal = /** @class */ (function (_super) {\r\n    __extends(RetroTerminal, _super);\r\n    function RetroTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        // A cache of the tinted font images. Each key is a color, and the image is the font in that color.\r\n        _this._fontColorCache = new Map();\r\n        _this._imageLoaded = false;\r\n        _this._display = new Display(config.width, config.height);\r\n        _this._charWidth = config.charWidth;\r\n        _this._charHeight = config.charHeight;\r\n        _this._scale = window.devicePixelRatio;\r\n        // Font\r\n        _this._font = new Image();\r\n        _this._font.src = config.imageURL;\r\n        // Create canvas\r\n        var canvas = window.document.createElement(\"canvas\");\r\n        var canvasWidth = config.charWidth * config.width;\r\n        var canvasHeight = config.charHeight * config.height;\r\n        canvas.width = canvasWidth * _this._scale;\r\n        canvas.height = canvasHeight * _this._scale;\r\n        canvas.style.width = canvasWidth + \"px\";\r\n        canvas.style.height = canvasHeight + \"px\";\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(canvas);\r\n        }\r\n        else {\r\n            document.body.appendChild(canvas);\r\n        }\r\n        _this._canvas = canvas;\r\n        _this._context = canvas.getContext(\"2d\");\r\n        _this._font.onload = function () {\r\n            _this._imageLoaded = true;\r\n            _this.render();\r\n        };\r\n        return _this;\r\n    }\r\n    RetroTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this._display.setGlyph(pos, glyph);\r\n    };\r\n    RetroTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this._imageLoaded)\r\n            return;\r\n        this._display.render(function (pos, glyph) {\r\n            var char = glyph.char;\r\n            // Remap it if it's a Unicode character\r\n            if (unicodeMap[char] !== undefined) {\r\n                char = unicodeMap[char];\r\n            }\r\n            var sx = (char % 32) * _this._charWidth;\r\n            var sy = Math.floor(char / 32) * _this._charHeight;\r\n            // Fill the background\r\n            _this._context.fillStyle = glyph.back.cssColor();\r\n            _this._context.fillRect(pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n            // Dont bother with empty characters\r\n            if (char == 0 || char == CharCode.space)\r\n                return;\r\n            var color = _this.getColorFont(glyph.fore);\r\n            _this._context.imageSmoothingEnabled = false;\r\n            _this._context.drawImage(color, sx, sy, _this._charWidth, _this._charHeight, pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n        });\r\n    };\r\n    RetroTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this._canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this._charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this._charHeight),\r\n        };\r\n    };\r\n    RetroTerminal.prototype.getColorFont = function (color) {\r\n        // If cached return\r\n        var colorName = color.cssColor();\r\n        var cached = this._fontColorCache.get(colorName);\r\n        if (cached)\r\n            return cached;\r\n        // Create a font using the given color.\r\n        var tint = window.document.createElement(\"canvas\");\r\n        tint.width = this._font.width;\r\n        tint.height = this._font.height;\r\n        var context = tint.getContext(\"2d\");\r\n        // Draw the font\r\n        context.drawImage(this._font, 0, 0);\r\n        // Tint it by filling in the existing alpha with the color\r\n        context.globalCompositeOperation = \"source-atop\";\r\n        context.fillStyle = color.cssColor();\r\n        context.fillRect(0, 0, this._font.width, this._font.height);\r\n        this._fontColorCache.set(colorName, tint);\r\n        return tint;\r\n    };\r\n    /** Deletes the terminal, removing the canvas. */\r\n    RetroTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this._canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this._canvas);\r\n    };\r\n    return RetroTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=retro-terminal.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index = /*#__PURE__*/Object.freeze({\n    CanvasTerminal: CanvasTerminal,\n    Font: Font,\n    RetroTerminal: RetroTerminal,\n    Color: Color,\n    Glyph: Glyph,\n    get CharCode () { return CharCode; },\n    BaseTerminal: BaseTerminal,\n    PortTerminal: PortTerminal\n});\n\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Shift\"] = 16] = \"Shift\";\r\n    KeyCode[KeyCode[\"Ctrl\"] = 17] = \"Ctrl\";\r\n    KeyCode[KeyCode[\"Alt\"] = 18] = \"Alt\";\r\n    KeyCode[KeyCode[\"PauseBreak\"] = 19] = \"PauseBreak\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Escape\"] = 27] = \"Escape\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"LeftArrow\"] = 37] = \"LeftArrow\";\r\n    KeyCode[KeyCode[\"UpArrow\"] = 38] = \"UpArrow\";\r\n    KeyCode[KeyCode[\"RightArrow\"] = 39] = \"RightArrow\";\r\n    KeyCode[KeyCode[\"DownArrow\"] = 40] = \"DownArrow\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Zero\"] = 48] = \"Zero\";\r\n    KeyCode[KeyCode[\"ClosedParen\"] = 48] = \"ClosedParen\";\r\n    KeyCode[KeyCode[\"One\"] = 49] = \"One\";\r\n    KeyCode[KeyCode[\"ExclamationMark\"] = 49] = \"ExclamationMark\";\r\n    KeyCode[KeyCode[\"Two\"] = 50] = \"Two\";\r\n    KeyCode[KeyCode[\"AtSign\"] = 50] = \"AtSign\";\r\n    KeyCode[KeyCode[\"Three\"] = 51] = \"Three\";\r\n    KeyCode[KeyCode[\"PoundSign\"] = 51] = \"PoundSign\";\r\n    KeyCode[KeyCode[\"Hash\"] = 51] = \"Hash\";\r\n    KeyCode[KeyCode[\"Four\"] = 52] = \"Four\";\r\n    KeyCode[KeyCode[\"DollarSign\"] = 52] = \"DollarSign\";\r\n    KeyCode[KeyCode[\"Five\"] = 53] = \"Five\";\r\n    KeyCode[KeyCode[\"PercentSign\"] = 53] = \"PercentSign\";\r\n    KeyCode[KeyCode[\"Six\"] = 54] = \"Six\";\r\n    KeyCode[KeyCode[\"Caret\"] = 54] = \"Caret\";\r\n    KeyCode[KeyCode[\"Hat\"] = 54] = \"Hat\";\r\n    KeyCode[KeyCode[\"Seven\"] = 55] = \"Seven\";\r\n    KeyCode[KeyCode[\"Ampersand\"] = 55] = \"Ampersand\";\r\n    KeyCode[KeyCode[\"Eight\"] = 56] = \"Eight\";\r\n    KeyCode[KeyCode[\"Star\"] = 56] = \"Star\";\r\n    KeyCode[KeyCode[\"Asterik\"] = 56] = \"Asterik\";\r\n    KeyCode[KeyCode[\"Nine\"] = 57] = \"Nine\";\r\n    KeyCode[KeyCode[\"OpenParen\"] = 57] = \"OpenParen\";\r\n    KeyCode[KeyCode[\"A\"] = 65] = \"A\";\r\n    KeyCode[KeyCode[\"B\"] = 66] = \"B\";\r\n    KeyCode[KeyCode[\"C\"] = 67] = \"C\";\r\n    KeyCode[KeyCode[\"D\"] = 68] = \"D\";\r\n    KeyCode[KeyCode[\"E\"] = 69] = \"E\";\r\n    KeyCode[KeyCode[\"F\"] = 70] = \"F\";\r\n    KeyCode[KeyCode[\"G\"] = 71] = \"G\";\r\n    KeyCode[KeyCode[\"H\"] = 72] = \"H\";\r\n    KeyCode[KeyCode[\"I\"] = 73] = \"I\";\r\n    KeyCode[KeyCode[\"J\"] = 74] = \"J\";\r\n    KeyCode[KeyCode[\"K\"] = 75] = \"K\";\r\n    KeyCode[KeyCode[\"L\"] = 76] = \"L\";\r\n    KeyCode[KeyCode[\"M\"] = 77] = \"M\";\r\n    KeyCode[KeyCode[\"N\"] = 78] = \"N\";\r\n    KeyCode[KeyCode[\"O\"] = 79] = \"O\";\r\n    KeyCode[KeyCode[\"P\"] = 80] = \"P\";\r\n    KeyCode[KeyCode[\"Q\"] = 81] = \"Q\";\r\n    KeyCode[KeyCode[\"R\"] = 82] = \"R\";\r\n    KeyCode[KeyCode[\"S\"] = 83] = \"S\";\r\n    KeyCode[KeyCode[\"T\"] = 84] = \"T\";\r\n    KeyCode[KeyCode[\"U\"] = 85] = \"U\";\r\n    KeyCode[KeyCode[\"V\"] = 86] = \"V\";\r\n    KeyCode[KeyCode[\"W\"] = 87] = \"W\";\r\n    KeyCode[KeyCode[\"X\"] = 88] = \"X\";\r\n    KeyCode[KeyCode[\"Y\"] = 89] = \"Y\";\r\n    KeyCode[KeyCode[\"Z\"] = 90] = \"Z\";\r\n    KeyCode[KeyCode[\"LeftWindowKey\"] = 91] = \"LeftWindowKey\";\r\n    KeyCode[KeyCode[\"RightWindowKey\"] = 92] = \"RightWindowKey\";\r\n    KeyCode[KeyCode[\"SelectKey\"] = 93] = \"SelectKey\";\r\n    KeyCode[KeyCode[\"Numpad0\"] = 96] = \"Numpad0\";\r\n    KeyCode[KeyCode[\"Numpad1\"] = 97] = \"Numpad1\";\r\n    KeyCode[KeyCode[\"Numpad2\"] = 98] = \"Numpad2\";\r\n    KeyCode[KeyCode[\"Numpad3\"] = 99] = \"Numpad3\";\r\n    KeyCode[KeyCode[\"Numpad4\"] = 100] = \"Numpad4\";\r\n    KeyCode[KeyCode[\"Numpad5\"] = 101] = \"Numpad5\";\r\n    KeyCode[KeyCode[\"Numpad6\"] = 102] = \"Numpad6\";\r\n    KeyCode[KeyCode[\"Numpad7\"] = 103] = \"Numpad7\";\r\n    KeyCode[KeyCode[\"Numpad8\"] = 104] = \"Numpad8\";\r\n    KeyCode[KeyCode[\"Numpad9\"] = 105] = \"Numpad9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"DecimalPoint\"] = 110] = \"DecimalPoint\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"SemiColon\"] = 186] = \"SemiColon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"UnderScore\"] = 189] = \"UnderScore\";\r\n    KeyCode[KeyCode[\"PlusSign\"] = 187] = \"PlusSign\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"Tilde\"] = 192] = \"Tilde\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"ClosedBracket\"] = 221] = \"ClosedBracket\";\r\n    KeyCode[KeyCode[\"Quote\"] = 222] = \"Quote\";\r\n})(KeyCode || (KeyCode = {}));\r\n//# sourceMappingURL=keycode.js.map\n\n/**\r\n * Represents a global keyboard. Will likely only create one per app.\r\n *\r\n * You can bind/switch KeyboardContexts to the Keyboard handler\r\n * to change input 'modes'.\r\n */\r\nvar KeyboardHandler = /** @class */ (function () {\r\n    /** Creates a new KeyboardHandler */\r\n    function KeyboardHandler() {\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"keydown\", this.onKeyDownEvent.bind(this));\r\n        document.addEventListener(\"keyup\", this.onKeyUpEvent.bind(this));\r\n    }\r\n    KeyboardHandler.prototype.onKeyDownEvent = function (e) {\r\n        this._isDown.add(e.keyCode);\r\n        this.context && this.context.fireOnDown(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    KeyboardHandler.prototype.onKeyUpEvent = function (e) {\r\n        this._isDown.delete(e.keyCode);\r\n        this.context && this.context.fireOnUp(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    /**\r\n     * Sets the active context of the keyboard handler.\r\n     * @param context KeyboardContext - The context to use\r\n     */\r\n    KeyboardHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Clears the active context for the keyboard handler.\r\n     */\r\n    KeyboardHandler.prototype.clearContext = function () {\r\n        var existing = this.context;\r\n        this.context = undefined;\r\n        return existing;\r\n    };\r\n    /**\r\n     * Returns if a key is currently held down.\r\n     * @param keyCode KeyCode | number - The keyCode to check\r\n     */\r\n    KeyboardHandler.prototype.isKeyDown = function (keyCode) {\r\n        return this._isDown.has(keyCode);\r\n    };\r\n    return KeyboardHandler;\r\n}());\r\n/** Represents a keyboard 'mode', like navigating a menu or world. */\r\nvar KeyboardContext = /** @class */ (function () {\r\n    function KeyboardContext() {\r\n        this._onDown = new Map();\r\n        this._onUp = new Map();\r\n    }\r\n    /**\r\n     * Fires callback on KeyDown\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onDown = function (key, callback) {\r\n        this._onDown.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Fires callback on KeyUp\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onUp = function (key, callback) {\r\n        this._onUp.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was pressed.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnDown = function (key) {\r\n        var fn = this._onDown.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was lifted.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnUp = function (key) {\r\n        var fn = this._onUp.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    return KeyboardContext;\r\n}());\r\n//# sourceMappingURL=keyboard.js.map\n\n/** Abstracts browser mouse input */\r\nvar MouseHandler = /** @class */ (function () {\r\n    /** Creates a new Mouse Handler */\r\n    function MouseHandler() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"mousemove\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mouseenter\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mousedown\", this.onMouseDownEvent.bind(this));\r\n        document.addEventListener(\"mouseup\", this.onMouseUpEvent.bind(this));\r\n    }\r\n    MouseHandler.prototype.onMouseDownEvent = function (e) {\r\n        this._isDown.add(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseDown({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpEvent = function (e) {\r\n        this._isDown.delete(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseUp({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpdateEvent = function (e) {\r\n        this.x = e.pageX;\r\n        this.y = e.pageY;\r\n    };\r\n    /**\r\n     * Returns true if the given mouse button is down.\r\n     * @param mouseButton number - Default 0 for left click.\r\n     */\r\n    MouseHandler.prototype.isMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        return this._isDown.has(mouseButton);\r\n    };\r\n    /** Gets the current window position of the mouse */\r\n    MouseHandler.prototype.getPos = function () {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n        };\r\n    };\r\n    /**\r\n     * Sets the active mouse context\r\n     * @param context MouseContext\r\n     */\r\n    MouseHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /** Clears the active mouse context */\r\n    MouseHandler.prototype.clearContext = function () {\r\n        this.context = undefined;\r\n    };\r\n    return MouseHandler;\r\n}());\r\nvar MouseContext = /** @class */ (function () {\r\n    function MouseContext() {\r\n        this.onDown = new Map();\r\n        this.onUp = new Map();\r\n    }\r\n    /**\r\n     * Registers a callback for a mousedown event\r\n     * @param callback - The function to call on mousedown\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseDown = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Registers a callback for a mouseup event\r\n     * @param callback - The function to call on mouseup\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseUp = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Clears a registered function for mousedown\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Clears a registered function for mouseup\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseUp = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mousedown\r\n     * @param pos Vector2 - The pos for the mouse\r\n     * @param mouseButton - The mouse button pressed\r\n     */\r\n    MouseContext.prototype.callOnMouseDown = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onDown.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mouseup\r\n     * @param pos\r\n     * @param mouseButton\r\n     */\r\n    MouseContext.prototype.callOnMouseUp = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onUp.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    return MouseContext;\r\n}());\r\n//# sourceMappingURL=mouse.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n    get KeyCode () { return KeyCode; },\n    KeyboardContext: KeyboardContext,\n    KeyboardHandler: KeyboardHandler,\n    MouseHandler: MouseHandler,\n    MouseContext: MouseContext\n});\n\n//# sourceMappingURL=vector.js.map\n\n// ToDo - Make this more efficient via heap\r\nvar PriorityQueue = /** @class */ (function () {\r\n    function PriorityQueue(priorityFunc) {\r\n        this.data = [];\r\n        this.priorityFunc = priorityFunc;\r\n    }\r\n    PriorityQueue.prototype.insert = function (data) {\r\n        var score = this.priorityFunc(data);\r\n        this.data.push([score, data]);\r\n    };\r\n    PriorityQueue.prototype.peek = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        return this.data[minIndex][1];\r\n    };\r\n    PriorityQueue.prototype.pop = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        var popped = this.data.splice(minIndex, 1);\r\n        return popped[0][1];\r\n    };\r\n    PriorityQueue.prototype.size = function () {\r\n        return this.data.length;\r\n    };\r\n    return PriorityQueue;\r\n}());\r\n//# sourceMappingURL=priority-queue.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    Table: Table,\n    PriorityQueue: PriorityQueue\n});\n\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\r\n// Johannes Baage <baagoe@baagoe.com>, 2010\r\nfunction Mash() {\r\n    var n = 0xefc8249d;\r\n    var mash = function (data) {\r\n        data = data.toString();\r\n        for (var i = 0; i < data.length; i++) {\r\n            n += data.charCodeAt(i);\r\n            var h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nvar AleaRNG = /** @class */ (function () {\r\n    function AleaRNG(seed) {\r\n        this.s0 = 0;\r\n        this.s1 = 0;\r\n        this.s2 = 0;\r\n        this.c = 0;\r\n        // Initialize seed if needed\r\n        this.seed = seed === undefined ? new Date().toString() : seed;\r\n        this.reset();\r\n    }\r\n    AleaRNG.prototype.reset = function () {\r\n        var mash = Mash();\r\n        // Initial mashes\r\n        this.s0 = mash(\" \");\r\n        this.s1 = mash(\" \");\r\n        this.s2 = mash(\" \");\r\n        this.c = 1;\r\n        this.s0 -= mash(this.seed);\r\n        this.s1 -= mash(this.seed);\r\n        this.s2 -= mash(this.seed);\r\n        this.sanitize();\r\n    };\r\n    AleaRNG.prototype.sanitize = function () {\r\n        if (this.s0 < 0)\r\n            this.s0 += 1;\r\n        if (this.s1 < 0)\r\n            this.s1 += 1;\r\n        if (this.s2 < 0)\r\n            this.s2 += 1;\r\n    };\r\n    AleaRNG.prototype.step = function () {\r\n        // The dark magic that makes the number generator run\r\n        var t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = t | 0));\r\n    };\r\n    // Returns between [0,1)\r\n    AleaRNG.prototype.nextRand = function () {\r\n        return (this.step() + ((this.step() * 0x200000) | 0) * 1.1102230246251565e-16); // 2^-53\r\n    };\r\n    AleaRNG.prototype.next = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 1; }\r\n        return this.nextRand() * (max - min) + min;\r\n    };\r\n    AleaRNG.prototype.nextInt = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 100; }\r\n        return Math.floor(this.next() * (max - min) + min);\r\n    };\r\n    AleaRNG.prototype.nextBoolean = function () {\r\n        return this.nextRand() > 0.5;\r\n    };\r\n    AleaRNG.prototype.nextItem = function (array) {\r\n        if (array.length === 0)\r\n            return undefined;\r\n        var i = this.nextInt(0, array.length);\r\n        return array[i];\r\n    };\r\n    AleaRNG.prototype.shuffle = function (array) {\r\n        var result = [];\r\n        var clone = array.slice();\r\n        while (clone.length) {\r\n            var index = this.nextInt(0, clone.length);\r\n            result.push(clone.splice(index, 1)[0]);\r\n        }\r\n        return result;\r\n    };\r\n    AleaRNG.prototype.clone = function () {\r\n        var a = new AleaRNG();\r\n        a.s0 = this.s0;\r\n        a.s1 = this.s1;\r\n        a.s2 = this.s2;\r\n        a.c = this.c;\r\n        return a;\r\n    };\r\n    return AleaRNG;\r\n}());\r\n//# sourceMappingURL=alea.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$3 = /*#__PURE__*/Object.freeze({\n    AleaRNG: AleaRNG\n});\n\n/** Contains math for common vector operations. */\r\nvar Vector = /** @class */ (function () {\r\n    function Vector() {\r\n    }\r\n    /**\r\n     * Returns true if two vectors have the same x and y values.\r\n     * @param v1 The first Vector2.\r\n     * @param v2 The second Vector2.\r\n     */\r\n    Vector.areEqual = function (v1, v2) {\r\n        return v1.x === v2.x && v1.y === v2.y;\r\n    };\r\n    /**\r\n     * Returns the distance between two vectors.\r\n     *\r\n     * If no topology is given, diagonal distance is sqrt(2).\r\n     * If topology is four, diagonal distance is 2.\r\n     * If topology is eight, diagonal distance is 1.\r\n     *\r\n     * @param start The starting Vector2.\r\n     * @param end The ending Vector2.\r\n     * @param topology Can use \"four\" or \"eight\" for non-cartesian distances.\r\n     */\r\n    Vector.getDistance = function (start, end, topology) {\r\n        if (topology === \"four\") {\r\n            return Math.abs(start.x - end.x) + Math.abs(start.y - end.y);\r\n        }\r\n        else if (topology === \"eight\") {\r\n            return Math.max(Math.abs(start.x - end.x), Math.abs(start.y - end.y));\r\n        }\r\n        else {\r\n            var a = start.x - end.x;\r\n            var b = start.y - end.y;\r\n            return Math.sqrt(a * a + b * b);\r\n        }\r\n    };\r\n    /**\r\n     * Will find the center of an area by averaging all Vectors in the area.\r\n     * This point may not be in the area itself, for example in a donut shaped area.\r\n     * @param area Vector2\r\n     */\r\n    Vector.getCenter = function (area) {\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find center of empty area\");\r\n        }\r\n        var sx = 0;\r\n        var sy = 0;\r\n        for (var _i = 0, area_1 = area; _i < area_1.length; _i++) {\r\n            var v = area_1[_i];\r\n            sx += v.x;\r\n            sy += v.y;\r\n        }\r\n        return {\r\n            x: sx / area.length,\r\n            y: sy / area.length,\r\n        };\r\n    };\r\n    /**\r\n     * Will find the position in the area closest to the target\r\n     * @param area Vector2[]\r\n     * @param target Vector2\r\n     * @param topology Either 'four' or 'eight'. Default 'four'\r\n     */\r\n    Vector.getClosest = function (area, target, topology) {\r\n        if (topology === void 0) { topology = \"four\"; }\r\n        // Throw an error if area is empty\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find closest position of an empty area\");\r\n        }\r\n        // Keep track of the closest we've found.\r\n        var minDistance = Infinity;\r\n        var closest = area[0];\r\n        for (var _i = 0, area_2 = area; _i < area_2.length; _i++) {\r\n            var v = area_2[_i];\r\n            var distance = Vector.getDistance(target, v, topology);\r\n            // Found exact one, immediately return\r\n            if (distance === 0) {\r\n                return {\r\n                    x: target.x,\r\n                    y: target.y,\r\n                };\r\n            }\r\n            // Closer than currently known\r\n            if (distance < minDistance) {\r\n                minDistance = distance;\r\n                closest = v;\r\n            }\r\n        }\r\n        return closest;\r\n    };\r\n    return Vector;\r\n}());\r\n//# sourceMappingURL=vector.js.map\n\n//# sourceMappingURL=index.js.map\n\nfunction getRing8(originX, originY, range) {\r\n    if (range === 0)\r\n        return [{ x: originX, y: originY }];\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    //Start at the 3 o'clock, (0 degrees), rotate all the way around\r\n    // Top Right Side, no corner\r\n    for (var x = maxX, y = originY; y > minY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top Side, right to left. Include top corners\r\n    for (var x = maxX, y = minY; x >= minX; x--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Left side, no corners\r\n    for (var x = minX, y = minY + 1; y < maxY; y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom side, corners\r\n    for (var x = minX, y = maxY; x <= maxX; x++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Right side back to to 0 degrees, no corner\r\n    for (var x = maxX, y = maxY - 1; y > originY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\nfunction getRing4(originX, originY, range) {\r\n    if (range === 0) {\r\n        return [\r\n            {\r\n                x: originX,\r\n                y: originY,\r\n            },\r\n        ];\r\n    }\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    // Top right arc\r\n    for (var x = maxX, y = originY; x > originX; x--, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top left arc\r\n    for (var x = originX, y = minY; x > minX; x--, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom left arc\r\n    for (var x = minX, y = originY; x < originX; x++, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom right arc\r\n    for (var x = originX, y = maxY; x < maxX; x++, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\n//# sourceMappingURL=get-ring.js.map\n\nvar AStar = /** @class */ (function () {\r\n    /**\r\n     * @param config - General parameters for the AStar Pathfinder\r\n     * @param config.isBlockedCallback - Return true if the position is blocked.\r\n     * @param config.topology - four | eight\r\n     */\r\n    function AStar(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    /**\r\n     * Get all neightbors of a point. Returns orthogonal\r\n     * directions first, then diagonal if topology is 8.\r\n     * Results in more natural looking paths.\r\n     * @param pos - Vector2\r\n     */\r\n    AStar.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    /**\r\n     * @param start Vector2 - The starting position\r\n     * @param end  Vector2 - The ending position\r\n     *\r\n     * @returns Vector2[] | undefined - Returns the path,\r\n     * including start + end, or undefined if no path is found.\r\n     */\r\n    AStar.prototype.compute = function (start, end) {\r\n        var _this = this;\r\n        // openSet is the set of discovered nodes, and more might be found\r\n        var openSet = new PriorityQueue(function (n) { return n.fScore; });\r\n        openSet.insert({\r\n            v: start,\r\n            fScore: Vector.getDistance(start, end, \"eight\"),\r\n        });\r\n        // cameFrom maps a node to the one preceding it with the cheapest path\r\n        var cameFrom = new Map();\r\n        // gScore tracks the cheapest path from start to the node\r\n        // fScore tracks gScore + esimated\r\n        var gScore = new Map();\r\n        gScore.set(start.x + \":\" + start.y, 0);\r\n        while (openSet.size()) {\r\n            var current = openSet.pop().v;\r\n            if (Vector.areEqual(current, end)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.has(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            var currentGScore = gScore.get(current.x + \":\" + current.y);\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                // ToDo - allow the distance to be determined by function\r\n                var tentative_gScore = currentGScore + 1;\r\n                if (gScore.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                    gScore.set(n.x + \":\" + n.y, tentative_gScore);\r\n                    var fScore = tentative_gScore + Vector.getDistance(n, end, \"eight\");\r\n                    openSet.insert({\r\n                        v: n,\r\n                        fScore: fScore,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // We never got current == end\r\n        return undefined;\r\n    };\r\n    return AStar;\r\n}());\r\n//# sourceMappingURL=astar.js.map\n\n/**\r\n * Connects areas of the map to ensure they are all connected.\r\n *\r\n * For instance, if you're using an alive value of 1 for walls,\r\n * then this can connect the dead value of 0 to ensure all\r\n * squares on the map are accessable.\r\n *\r\n * @param value The value to connect (default this.deadValue)\r\n */\r\nfunction connect(table, value) {\r\n    var spacesToConnect = new Set();\r\n    var groups = [];\r\n    var paths = [];\r\n    // Get all spaces with the value\r\n    for (var x = 0; x < table.width; x++) {\r\n        for (var y = 0; y < table.height; y++) {\r\n            if (table.get({ x: x, y: y }) === value) {\r\n                spacesToConnect.add(x + \":\" + y);\r\n            }\r\n        }\r\n    }\r\n    // Figure out which groups there are\r\n    while (spacesToConnect.size > 0) {\r\n        var v = Array.from(spacesToConnect.entries())[0][0];\r\n        var _a = v.split(\":\"), x = _a[0], y = _a[1];\r\n        var position = {\r\n            x: Number.parseInt(x),\r\n            y: Number.parseInt(y),\r\n        };\r\n        // Grab an area, then remove those tiles from the spacesToConnect\r\n        var selection = table.floodFillSelect(position);\r\n        groups.push(selection);\r\n        for (var _i = 0, selection_1 = selection; _i < selection_1.length; _i++) {\r\n            var s = selection_1[_i];\r\n            spacesToConnect.delete(s.x + \":\" + s.y);\r\n        }\r\n    }\r\n    // spacesToConnect is now empty.\r\n    // Each group in groups is an isolated set of tiles\r\n    for (var i = 0; i < groups.length; i++) {\r\n        // Ignore the last group\r\n        if (i === groups.length - 1)\r\n            break;\r\n        var current = groups[i];\r\n        var next = groups[i + 1];\r\n        // Get the center point from each area\r\n        var currentCenter = Vector.getCenter(current);\r\n        var currentPoint = Vector.getClosest(current, currentCenter);\r\n        var nextCenter = Vector.getCenter(next);\r\n        var nextPoint = Vector.getClosest(next, nextCenter);\r\n        // Get two points that are close to the edge for each section\r\n        var closestCurrent = Vector.getClosest(next, currentPoint);\r\n        var closestNext = Vector.getClosest(current, nextPoint);\r\n        var a = new AStar({ topology: \"four\" });\r\n        var connection = a.compute(closestCurrent, closestNext);\r\n        // Connect the paths\r\n        if (!connection)\r\n            throw new Error(\"Error: Could not connect cell areas\");\r\n        for (var _b = 0, connection_1 = connection; _b < connection_1.length; _b++) {\r\n            var v = connection_1[_b];\r\n            table.set(v, value);\r\n        }\r\n        paths.push(connection);\r\n    }\r\n    return {\r\n        groups: groups,\r\n        paths: paths,\r\n    };\r\n}\r\n//# sourceMappingURL=connect.js.map\n\n/** Used to create CellularAutomata Maps. */\r\nvar CellularAutomata = /** @class */ (function () {\r\n    /**\r\n     * Creates a Cellular Automata Map Generator\r\n     *\r\n     * @param width The width of the map.\r\n     * @param height The height of the map.\r\n     * @param options Additional options.\r\n     */\r\n    function CellularAutomata(width, height, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.table = new Table(width, height);\r\n        // Set up defaults\r\n        this.aliveValue =\r\n            options.aliveValue === undefined ? 1 : options.aliveValue;\r\n        this.deadValue =\r\n            options.deadValue === undefined ? 0 : options.deadValue;\r\n        this.rng = options.rng === undefined ? new AleaRNG() : options.rng;\r\n    }\r\n    /**\r\n     * Randomly sets each cell to either alive or dead.\r\n     *\r\n     * @param isAliveChance The chance for a cell to be set to the 'alive' value.\r\n     */\r\n    CellularAutomata.prototype.randomize = function (isAliveChance) {\r\n        if (isAliveChance === void 0) { isAliveChance = 0.6; }\r\n        for (var x = 0; x < this.table.width; x++) {\r\n            for (var y = 0; y < this.table.height; y++) {\r\n                var isAlive = this.rng.next() > isAliveChance;\r\n                if (isAlive) {\r\n                    this.table.set({ x: x, y: y }, this.aliveValue);\r\n                }\r\n                else {\r\n                    this.table.set({ x: x, y: y }, this.deadValue);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CellularAutomata.prototype.countAliveNeighbors = function (x, y) {\r\n        var count = 0;\r\n        for (var i = -1; i < 2; i++) {\r\n            for (var j = -1; j < 2; j++) {\r\n                var neighbor_x = x + i;\r\n                var neighbor_y = y + j;\r\n                if (i == 0 && j == 0) ;\r\n                else if (this.table.isInBounds({ x: neighbor_x, y: neighbor_y }) == false) {\r\n                    count++;\r\n                }\r\n                else if (this.table.get({ x: neighbor_x, y: neighbor_y }) == this.aliveValue) {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    };\r\n    /**\r\n     * Runs a number of simulation steps.\r\n     * Each step generally \"smooths\" the map.\r\n     *\r\n     * @param stepCount The number of steps to run.\r\n     */\r\n    CellularAutomata.prototype.doSimulationStep = function (stepCount) {\r\n        if (stepCount === void 0) { stepCount = 1; }\r\n        for (var step = 0; step < stepCount; step++) {\r\n            var newMap = new Table(this.table.width, this.table.height);\r\n            var oldMap = this.table; //this just renames the table to prevent 'this' all over the place.\r\n            for (var x = 0; x < oldMap.width; x++) {\r\n                for (var y = 0; y < oldMap.height; y++) {\r\n                    var nbs = this.countAliveNeighbors(x, y);\r\n                    if (oldMap.get({ x: x, y: y }) === this.aliveValue) {\r\n                        if (nbs < 4) {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (nbs > 3) {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.table = newMap;\r\n        }\r\n    };\r\n    /**\r\n     * Connects areas of the map to ensure they are all connected.\r\n     *\r\n     * For instance, if you're using an alive value of 1 for walls,\r\n     * then this can connect the dead value of 0 to ensure all\r\n     * squares on the map are accessable.\r\n     *\r\n     * @param value The value to connect (default this.deadValue)\r\n     */\r\n    CellularAutomata.prototype.connect = function (value) {\r\n        if (value === void 0) { value = this.deadValue; }\r\n        return connect(this.table, value);\r\n    };\r\n    return CellularAutomata;\r\n}());\r\n//# sourceMappingURL=cellular-automata.js.map\n\n/** Generator to perform a Drunkard's Walk*/\r\nvar DrunkardsWalk = /** @class */ (function () {\r\n    /**\r\n     * Creates a new DrunkardsWalk Generator\r\n     * @param config - Generator Config\r\n     * @param config.width number - Width of the map\r\n     * @param config.height number - Height of the map\r\n     * @param config.rng IRNG - Optional random number generator\r\n     * @param config.topology \"four\" | \"eight\" - Topology to use. Default four.\r\n     */\r\n    function DrunkardsWalk(config) {\r\n        var _a, _b;\r\n        this._path = [];\r\n        this._steps = 0;\r\n        this._coveredCount = 0;\r\n        this.table = new Table(config.width, config.height);\r\n        this._rng = (_a = config.rng) !== null && _a !== void 0 ? _a : new AleaRNG();\r\n        this._topology = (_b = config.topology) !== null && _b !== void 0 ? _b : \"four\";\r\n        // Initialize Table\r\n        this.table.fill(0);\r\n    }\r\n    /**\r\n     * Returns the path traveled so far.\r\n     */\r\n    DrunkardsWalk.prototype.getPath = function () {\r\n        return this._path;\r\n    };\r\n    /**\r\n     * Returns the last visited location.\r\n     */\r\n    DrunkardsWalk.prototype.getCurrent = function () {\r\n        return this._path[this._path.length - 1];\r\n    };\r\n    /**\r\n     * Returns the total number of steps taken\r\n     */\r\n    DrunkardsWalk.prototype.getSteps = function () {\r\n        return this._steps;\r\n    };\r\n    /**\r\n     * Returns the total number of unique spaces visited\r\n     */\r\n    DrunkardsWalk.prototype.getCoveredCount = function () {\r\n        return this._coveredCount;\r\n    };\r\n    /**\r\n     * Adds a point to the drunkards walk,\r\n     * adjusting path, table, and steps as needed.\r\n     * @param point Vector2 - The point to add\r\n     */\r\n    DrunkardsWalk.prototype.addPoint = function (point) {\r\n        this._steps++;\r\n        if (this.table.get(point) !== 1) {\r\n            this._coveredCount++;\r\n        }\r\n        this.table.set(point, 1);\r\n        this._path.push(point);\r\n    };\r\n    /**\r\n     * Generate a path by walking a number of steps.\r\n     * Can be called multiple times to have the Drunkard 'jump' to a different spot.\r\n     * @param config - The walk configuration\r\n     * @param config.steps number - The number of steps to take.\r\n     * @param config.start Vector2 - The starting position. Default random.\r\n     * @param config.maxCoveredTiles number - Stops walking if the total number of tiles\r\n     * ever covered reaches this limit. Default Infinity.\r\n     */\r\n    DrunkardsWalk.prototype.walkSteps = function (config) {\r\n        var _a, _b;\r\n        // Initialize config\r\n        var maxCoveredTiles = (_a = config.maxCoveredTiles) !== null && _a !== void 0 ? _a : Infinity;\r\n        var steps = config.steps;\r\n        // Set the initial coordinate\r\n        this.addPoint((_b = config.start) !== null && _b !== void 0 ? _b : this.getRandPoint());\r\n        for (var i = 0; i < steps - 1; i++) {\r\n            // Break if we're over the covered limit\r\n            if (this._coveredCount >= maxCoveredTiles) {\r\n                break;\r\n            }\r\n            var current = this._path[this._path.length - 1];\r\n            var next = this.getRandomNeighbor(current);\r\n            this.addPoint(next);\r\n        }\r\n    };\r\n    DrunkardsWalk.prototype.getRandPoint = function () {\r\n        var x = this._rng.nextInt(0, this.table.width);\r\n        var y = this._rng.nextInt(0, this.table.height);\r\n        return { x: x, y: y };\r\n    };\r\n    DrunkardsWalk.prototype.getRandomNeighbor = function (pos) {\r\n        var next = undefined;\r\n        while (next === undefined) {\r\n            // Get next neighbor\r\n            var neighbors = this._topology === \"four\"\r\n                ? getRing4(pos.x, pos.y, 1)\r\n                : getRing8(pos.x, pos.y, 1);\r\n            var n = this._rng.nextItem(neighbors);\r\n            // Check if it is in bounds\r\n            if (this.table.isInBounds(n)) {\r\n                next = n;\r\n            }\r\n        }\r\n        return next;\r\n    };\r\n    return DrunkardsWalk;\r\n}());\r\n//# sourceMappingURL=drunkards-walk.js.map\n\n// export { BSPTreeRect } from \"./bsp-tree\";\r\n//# sourceMappingURL=index.js.map\n\nvar index$4 = /*#__PURE__*/Object.freeze({\n    CellularAutomata: CellularAutomata,\n    DrunkardsWalk: DrunkardsWalk\n});\n\nvar Dijkstra = /** @class */ (function () {\r\n    function Dijkstra(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    Dijkstra.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    Dijkstra.prototype.compute = function (initial, goal) {\r\n        var _this = this;\r\n        //unpackage config.\r\n        var cameFrom = new Map();\r\n        var processed = new Set();\r\n        var processing = [initial];\r\n        cameFrom.set(initial.x + \":\" + initial.y, \"\");\r\n        while (processing.length !== 0) {\r\n            //shift the last node off the array.\r\n            var current = processing.shift();\r\n            //short circut\r\n            if (processed.has(current.x + \":\" + current.y)) {\r\n                continue;\r\n            }\r\n            else {\r\n                processed.add(current.x + \":\" + current.y);\r\n            }\r\n            // check to see if the space is where you need to be. If so, exit loop.\r\n            if (Vector.areEqual(current, goal)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.get(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                processing.push(n);\r\n                if (cameFrom.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return Dijkstra;\r\n}());\r\n//# sourceMappingURL=dijkstra.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$5 = /*#__PURE__*/Object.freeze({\n    AStar: AStar,\n    Dijkstra: Dijkstra\n});\n\nfunction box(terminal, options) {\r\n    var x1 = options.x1, x2 = options.x2, y1 = options.y1, y2 = options.y2, title = options.title;\r\n    // Corners\r\n    terminal.drawGlyph({ x: x1, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndLeft));\r\n    terminal.drawGlyph({ x: x1, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndLeft));\r\n    // Horizontal Bars\r\n    for (var dx = x1 + 1; dx < x2; dx++) {\r\n        terminal.drawGlyph({ x: dx, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n        terminal.drawGlyph({ x: dx, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n    }\r\n    // Vertical Bars\r\n    for (var dy = y1 + 1; dy < y2; dy++) {\r\n        terminal.drawGlyph({ x: x1, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n        terminal.drawGlyph({ x: x2, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n    }\r\n    if (title) {\r\n        terminal.writeAt({ x: x1 + 2, y: y1 }, \" \" + title + \" \");\r\n    }\r\n}\r\n//# sourceMappingURL=box.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$6 = /*#__PURE__*/Object.freeze({\n    box: box\n});\n\n/** FOV Algorithm that calculates angles of shadows and merges them together. */\r\nvar PreciseShadowcasting = /** @class */ (function () {\r\n    /**\r\n     * Creates a new PreciseShadowcasting object\r\n     * which can calulate viewsheds.\r\n     *\r\n     * @param config\r\n     * @param config.lightPasses Vector2 => Boolean - Whether a position is visible\r\n     * @param config.topology \"four\" | \"eight\" | \"free\" - The topology to use\r\n     * @param config.returnAll Return all spaces in range, even if not visible. Default false.\r\n     * @param config.cartesianRange If set, will calculate range as a^2 + b^2 = c^2. Results in round shape. Default false.\r\n     */\r\n    function PreciseShadowcasting(config) {\r\n        var _a, _b;\r\n        this.lightPasses = config.lightPasses;\r\n        // free uses an 8 ring topology\r\n        this.getRing = config.topology === \"four\" ? getRing4 : getRing8;\r\n        this.returnAll = (_a = config.returnAll) !== null && _a !== void 0 ? _a : false;\r\n        this.cartesianRange = (_b = config.cartesianRange) !== null && _b !== void 0 ? _b : false;\r\n    }\r\n    /**\r\n     * Calculates an array of visible Vectors. Same as calculateCallback,\r\n     * but returns an Array instead.\r\n     *\r\n     * @param origin Vector2 - The position to start from.\r\n     * @param range Number - The range of vision\r\n     */\r\n    PreciseShadowcasting.prototype.calculateArray = function (origin, range) {\r\n        var v = [];\r\n        this.calculateCallback(origin, range, function (pos, r, visibility) {\r\n            v.push({ pos: pos, r: r, visibility: visibility });\r\n        });\r\n        return v;\r\n    };\r\n    /**\r\n     * Calculates visible positions, and invokes the given callback for each one.\r\n     *\r\n     * @param origin Vector2 - The position to start from\r\n     * @param range Number - The range of vision\r\n     * @param callback (pos: Vector2, range: number, visibility: number) => void - The function to call for each visible tile\r\n     */\r\n    PreciseShadowcasting.prototype.calculateCallback = function (origin, range, callback) {\r\n        // Always call the original\r\n        callback(origin, 0, 1);\r\n        var shadows = [];\r\n        // For all rings\r\n        for (var r = 1; r <= range; r++) {\r\n            var ring = this.getRing(origin.x, origin.y, r);\r\n            // * by 2 here since we're making 2 arcs per tile\r\n            var arcCount = ring.length * 2;\r\n            // For all cells\r\n            for (var i = 0; i < ring.length; i++) {\r\n                var cell = ring[i];\r\n                // If it's the first angle, we shift the negative value to a positive one.\r\n                // i.e. -1/8 -> 7/8\r\n                var lesserN = i === 0 ? arcCount - 1 : 2 * i - 1;\r\n                // ToDo - Fix naming\r\n                var lesserAngle = [lesserN, arcCount];\r\n                var greaterAngle = [2 * i + 1, arcCount];\r\n                var blocks = this.lightPasses(cell) === false;\r\n                var visibility = this.checkVisibility(lesserAngle, greaterAngle, blocks, shadows);\r\n                if (visibility || this.returnAll) {\r\n                    if (this.cartesianRange) {\r\n                        var absRange = Vector.getDistance(origin, cell);\r\n                        if (absRange <= range) {\r\n                            callback(cell, r, visibility);\r\n                        }\r\n                    }\r\n                    else {\r\n                        callback(cell, r, visibility);\r\n                    }\r\n                }\r\n                // ToDo - Short circuit if entirely surrounded\r\n            }\r\n        }\r\n    };\r\n    PreciseShadowcasting.prototype.checkVisibility = function (A1, A2, blocks, shadows) {\r\n        if (A1[0] > A2[0]) {\r\n            /* split into two sub-arcs */\r\n            var v1 = this.checkVisibility(A1, [A1[1], A1[1]], blocks, shadows);\r\n            var v2 = this.checkVisibility([0, 1], A2, blocks, shadows);\r\n            return (v1 + v2) / 2;\r\n        }\r\n        /* index1: first shadow >= A1 */\r\n        var index1 = 0, edge1 = false;\r\n        while (index1 < shadows.length) {\r\n            var old = shadows[index1];\r\n            var diff = old[0] * A1[1] - A1[0] * old[1];\r\n            if (diff >= 0) {\r\n                /* old >= A1 */\r\n                if (diff == 0 && !(index1 % 2)) {\r\n                    edge1 = true;\r\n                }\r\n                break;\r\n            }\r\n            index1++;\r\n        }\r\n        /* index2: last shadow <= A2 */\r\n        var index2 = shadows.length, edge2 = false;\r\n        while (index2--) {\r\n            var old = shadows[index2];\r\n            var diff = A2[0] * old[1] - old[0] * A2[1];\r\n            if (diff >= 0) {\r\n                /* old <= A2 */\r\n                if (diff == 0 && index2 % 2) {\r\n                    edge2 = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        var visible = this.checkShadowVisibility(index1, index2, edge1, edge2);\r\n        if (!visible) {\r\n            return 0;\r\n        } /* fast case: not visible */\r\n        var visibleLength;\r\n        /* compute the length of visible arc, adjust list of shadows (if blocking) */\r\n        var remove = index2 - index1 + 1;\r\n        if (remove % 2) {\r\n            if (index1 % 2) {\r\n                /* first edge within existing shadow, second outside */\r\n                var P = shadows[index1];\r\n                visibleLength = (A2[0] * P[1] - P[0] * A2[1]) / (P[1] * A2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A2);\r\n                }\r\n            }\r\n            else {\r\n                /* second edge within existing shadow, first outside */\r\n                var P = shadows[index2];\r\n                visibleLength = (P[0] * A1[1] - A1[0] * P[1]) / (A1[1] * P[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (index1 % 2) {\r\n                /* both edges within existing shadows */\r\n                var P1 = shadows[index1];\r\n                var P2 = shadows[index2];\r\n                visibleLength = (P2[0] * P1[1] - P1[0] * P2[1]) / (P1[1] * P2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove);\r\n                }\r\n            }\r\n            else {\r\n                /* both edges outside existing shadows */\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1, A2);\r\n                }\r\n                return 1; /* whole arc visible! */\r\n            }\r\n        }\r\n        var arcLength = (A2[0] * A1[1] - A1[0] * A2[1]) / (A1[1] * A2[1]);\r\n        return visibleLength / arcLength;\r\n    };\r\n    PreciseShadowcasting.prototype.checkShadowVisibility = function (index1, index2, edge1, edge2) {\r\n        var visible = true;\r\n        if (index1 == index2 && (edge1 || edge2)) {\r\n            /* subset of existing shadow, one of the edges match */\r\n            visible = false;\r\n        }\r\n        else if (edge1 && edge2 && index1 + 1 == index2 && index2 % 2) {\r\n            /* completely equivalent with existing shadow */\r\n            visible = false;\r\n        }\r\n        else if (index1 > index2 && index1 % 2) {\r\n            /* subset of existing shadow, not touching */\r\n            visible = false;\r\n        }\r\n        return visible;\r\n    };\r\n    return PreciseShadowcasting;\r\n}());\r\n//# sourceMappingURL=precise.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$7 = /*#__PURE__*/Object.freeze({\n    PreciseShadowcasting: PreciseShadowcasting\n});\n\n//# sourceMappingURL=malwoden.js.map\n\n\n//# sourceMappingURL=malwoden.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uL2Rpc3QvbWFsd29kZW4uZXM1LmpzPzg4OTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsbUJBQW1CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxQkFBcUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3Qjs7QUFFQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQixFQUFFO0FBQ3hDO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGFBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRXdMO0FBQ3hMIiwiZmlsZSI6Ii4uL2Rpc3QvbWFsd29kZW4uZXM1LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgQ29sb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb2xvcihyLCBnLCBiKSB7XHJcbiAgICAgICAgdGhpcy5yID0gcjtcclxuICAgICAgICB0aGlzLmcgPSBnO1xyXG4gICAgICAgIHRoaXMuYiA9IGI7XHJcbiAgICB9XHJcbiAgICBDb2xvci5wcm90b3R5cGUuaXNFcXVhbCA9IGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnIgPT09IGNvbG9yLnIgJiYgdGhpcy5nID09PSBjb2xvci5nICYmIHRoaXMuYiA9PT0gY29sb3IuYjtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUuY3NzQ29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwicmdiKFwiICsgdGhpcy5yICsgXCIsXCIgKyB0aGlzLmcgKyBcIixcIiArIHRoaXMuYiArIFwiKVwiO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS5zYW5pdGl6ZUVsZW1lbnQgPSBmdW5jdGlvbiAocmdiKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5taW4oTWF0aC5tYXgocmdiLCAwKSwgMjU1KSk7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvdGhlciwgZnJhY3Rpb25PdGhlcikge1xyXG4gICAgICAgIGlmIChmcmFjdGlvbk90aGVyID09PSB2b2lkIDApIHsgZnJhY3Rpb25PdGhlciA9IDE7IH1cclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuciArIG90aGVyLnIgKiBmcmFjdGlvbk90aGVyKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5nICsgb3RoZXIuZyAqIGZyYWN0aW9uT3RoZXIpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLmIgKyBvdGhlci5iICogZnJhY3Rpb25PdGhlcikpO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS5ibGVuZCA9IGZ1bmN0aW9uIChvdGhlciwgZnJhY3Rpb25PdGhlcikge1xyXG4gICAgICAgIGlmIChmcmFjdGlvbk90aGVyID09PSB2b2lkIDApIHsgZnJhY3Rpb25PdGhlciA9IDAuNTsgfVxyXG4gICAgICAgIHZhciBmcmFjdGlvblRoaXMgPSAxLjAgLSBmcmFjdGlvbk90aGVyO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IodGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5yICogZnJhY3Rpb25UaGlzICsgb3RoZXIuciAqIGZyYWN0aW9uT3RoZXIpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLmcgKiBmcmFjdGlvblRoaXMgKyBvdGhlci5nICogZnJhY3Rpb25PdGhlciksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuYiAqIGZyYWN0aW9uVGhpcyArIG90aGVyLmIgKiBmcmFjdGlvbk90aGVyKSk7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLmJsZW5kUGVyY2VudCA9IGZ1bmN0aW9uIChvdGhlciwgcGVyY2VudE90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxlbmQob3RoZXIsIHBlcmNlbnRPdGhlciAvIDEwMCk7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLnRvR3JheXNjYWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuciArIHRoaXMuZyArIHRoaXMuYjtcclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKHRoaXMuc2FuaXRpemVFbGVtZW50KHRvdGFsIC8gMyksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRvdGFsIC8gMyksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRvdGFsIC8gMykpO1xyXG4gICAgfTtcclxuICAgIC8vIENTUyBFeHRlbmRlZCBDb2xvciBQYWxldHRlXHJcbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfY29sb3JzXHJcbiAgICAvLyBQaW5rIENvbG9yc1xyXG4gICAgQ29sb3IuTWVkaXVtVmlvbGV0UmVkID0gbmV3IENvbG9yKDE5OSwgMjEsIDEzMyk7XHJcbiAgICBDb2xvci5EZWVwUGluayA9IG5ldyBDb2xvcigyNTUsIDIwLCAxNDcpO1xyXG4gICAgQ29sb3IuUGFsZVZpb2xldFJlZCA9IG5ldyBDb2xvcigyMTksIDExMiwgMTQ3KTtcclxuICAgIENvbG9yLkhvdFBpbmsgPSBuZXcgQ29sb3IoMjU1LCAxMDUsIDE4MCk7XHJcbiAgICBDb2xvci5MaWdodFBpbmsgPSBuZXcgQ29sb3IoMjU1LCAxODIsIDE5Myk7XHJcbiAgICBDb2xvci5QaW5rID0gbmV3IENvbG9yKDI1NSwgMTkyLCAyMDMpO1xyXG4gICAgLy8gUmVkIENvbG9yc1xyXG4gICAgQ29sb3IuRGFya1JlZCA9IG5ldyBDb2xvcigxMzksIDAsIDApO1xyXG4gICAgQ29sb3IuUmVkID0gbmV3IENvbG9yKDI1NSwgMCwgMCk7XHJcbiAgICBDb2xvci5GaXJlYnJpY2sgPSBuZXcgQ29sb3IoMTc4LCAzNCwgMzQpO1xyXG4gICAgQ29sb3IuQ3JpbXNvbiA9IG5ldyBDb2xvcigyMjAsIDIwLCA2MCk7XHJcbiAgICBDb2xvci5JbmRpYW5SZWQgPSBuZXcgQ29sb3IoMjA1LCA5MiwgOTIpO1xyXG4gICAgQ29sb3IuTGlnaHRDb3JhbCA9IG5ldyBDb2xvcigyNDAsIDEyOCwgMTI4KTtcclxuICAgIENvbG9yLlNhbG1vbiA9IG5ldyBDb2xvcigyNTAsIDEyOCwgMTE0KTtcclxuICAgIENvbG9yLkRhcmtTYWxtb24gPSBuZXcgQ29sb3IoMjMzLCAxNTAsIDEyMik7XHJcbiAgICBDb2xvci5MaWdodFNhbG1vbiA9IG5ldyBDb2xvcigyNTUsIDE2MCwgMTIyKTtcclxuICAgIC8vIE9yYW5nZSBDb2xvcnNcclxuICAgIENvbG9yLk9yYW5nZVJlZCA9IG5ldyBDb2xvcigyNTUsIDY5LCAwKTtcclxuICAgIENvbG9yLlRvbWF0byA9IG5ldyBDb2xvcigyNTUsIDk5LCA3MSk7XHJcbiAgICBDb2xvci5EYXJrT3JhbmdlID0gbmV3IENvbG9yKDI1NSwgMTQwLCAwKTtcclxuICAgIENvbG9yLkNvcmFsID0gbmV3IENvbG9yKDI1NSwgMTI3LCA4MCk7XHJcbiAgICBDb2xvci5PcmFuZ2UgPSBuZXcgQ29sb3IoMjU1LCAxNjUsIDApO1xyXG4gICAgLy8gWWVsbG93IENvbG9yc1xyXG4gICAgQ29sb3IuRGFya0toYWtpID0gbmV3IENvbG9yKDE4OSwgMTgzLCAxMDcpO1xyXG4gICAgQ29sb3IuR29sZCA9IG5ldyBDb2xvcigyNTUsIDIxNSwgMCk7XHJcbiAgICBDb2xvci5LaGFraSA9IG5ldyBDb2xvcigyNDAsIDIzMCwgMTQwKTtcclxuICAgIENvbG9yLlBlYWNoUHVmZiA9IG5ldyBDb2xvcigyNTUsIDIxOCwgMTg1KTtcclxuICAgIENvbG9yLlllbGxvdyA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMCk7XHJcbiAgICBDb2xvci5QYWxlR29sZGVucm9kID0gbmV3IENvbG9yKDIzOCwgMjMyLCAxNzApO1xyXG4gICAgQ29sb3IuTW9jY2FzaW4gPSBuZXcgQ29sb3IoMjU1LCAyMjgsIDE4MSk7XHJcbiAgICBDb2xvci5QYXBheWFXaGlwID0gbmV3IENvbG9yKDI1NSwgMjM5LCAyMTMpO1xyXG4gICAgQ29sb3IuTGlnaHRHb2xkZW5yb2RZZWxsb3cgPSBuZXcgQ29sb3IoMjUwLCAyNTAsIDIxMCk7XHJcbiAgICBDb2xvci5MZW1vbkNoaWZmb24gPSBuZXcgQ29sb3IoMjU1LCAyNTAsIDIwNSk7XHJcbiAgICBDb2xvci5MaWdodFllbGxvdyA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMjI0KTtcclxuICAgIC8vIEJyb3duIENvbG9yc1xyXG4gICAgQ29sb3IuTWFyb29uID0gbmV3IENvbG9yKDEyOCwgMCwgMCk7XHJcbiAgICBDb2xvci5Ccm93biA9IG5ldyBDb2xvcigxNjUsIDQyLCA0Mik7XHJcbiAgICBDb2xvci5TYWRkbGVCcm93biA9IG5ldyBDb2xvcigxMzksIDY5LCAxOSk7XHJcbiAgICBDb2xvci5TaWVubmEgPSBuZXcgQ29sb3IoMTYwLCA4MiwgNDUpO1xyXG4gICAgQ29sb3IuQ2hvY29sYXRlID0gbmV3IENvbG9yKDIxMCwgMTA1LCAzMCk7XHJcbiAgICBDb2xvci5EYXJrR29sZGVucm9kID0gbmV3IENvbG9yKDE4NCwgMTM0LCAxMSk7XHJcbiAgICBDb2xvci5QZXJ1ID0gbmV3IENvbG9yKDIwNSwgMTMzLCA2Myk7XHJcbiAgICBDb2xvci5Sb3N5QnJvd24gPSBuZXcgQ29sb3IoMTg4LCAxNDMsIDE0Myk7XHJcbiAgICBDb2xvci5Hb2xkZW5yb2QgPSBuZXcgQ29sb3IoMjE4LCAxNjUsIDMyKTtcclxuICAgIENvbG9yLlNhbmR5QnJvd24gPSBuZXcgQ29sb3IoMjQ0LCAxNjQsIDk2KTtcclxuICAgIENvbG9yLlRhbiA9IG5ldyBDb2xvcigyMTAsIDE4MCwgMTQwKTtcclxuICAgIENvbG9yLkJ1cmx5d29vZCA9IG5ldyBDb2xvcigyMjIsIDE4NCwgMTM1KTtcclxuICAgIENvbG9yLldoZWF0ID0gbmV3IENvbG9yKDI0NSwgMjIyLCAxNzkpO1xyXG4gICAgQ29sb3IuTmF2YWpvV2hpdGUgPSBuZXcgQ29sb3IoMjU1LCAyMjIsIDE3Myk7XHJcbiAgICBDb2xvci5CaXNxdWUgPSBuZXcgQ29sb3IoMjU1LCAyMjgsIDE5Nik7XHJcbiAgICBDb2xvci5CbGFuY2hlZEFsbW9uZCA9IG5ldyBDb2xvcigyNTUsIDIzNSwgMjA1KTtcclxuICAgIENvbG9yLkNvcm5zaWxrID0gbmV3IENvbG9yKDI1NSwgMjQ4LCAyMjApO1xyXG4gICAgLy8gUHVycGxlL1Zpb2xldC9NYWdlbnRhIENvbG9yc1xyXG4gICAgQ29sb3IuSW5kaWdvID0gbmV3IENvbG9yKDc1LCAwLCAxMzApO1xyXG4gICAgQ29sb3IuUHVycGxlID0gbmV3IENvbG9yKDEyOCwgMCwgMTI4KTtcclxuICAgIENvbG9yLkRhcmtNYWdlbnRhID0gbmV3IENvbG9yKDEzOSwgOSwgMTM5KTtcclxuICAgIENvbG9yLkRhcmtWaW9sZXQgPSBuZXcgQ29sb3IoMTQ4LCAwLCAyMTEpO1xyXG4gICAgQ29sb3IuRGFya1NsYXRlQmx1ZSA9IG5ldyBDb2xvcig3MiwgNjEsIDEyOSk7XHJcbiAgICBDb2xvci5CbHVlVmlvbGV0ID0gbmV3IENvbG9yKDEzOCwgNDMsIDIyNik7XHJcbiAgICBDb2xvci5EYXJrT3JjaGlkID0gbmV3IENvbG9yKDE1MywgNTAsIDIwNCk7XHJcbiAgICBDb2xvci5GdWNoc2lhID0gbmV3IENvbG9yKDI1NSwgMCwgMjU1KTtcclxuICAgIENvbG9yLk1hZ2VudGEgPSBuZXcgQ29sb3IoMjU1LCAwLCAyNTUpOyAvLyBBbGlhcyBGdWNoc2lhXHJcbiAgICBDb2xvci5TbGF0ZUJsdWUgPSBuZXcgQ29sb3IoMTA2LCA5MCwgMjA1KTtcclxuICAgIENvbG9yLk1lZGl1bVNsYXRlQmx1ZSA9IG5ldyBDb2xvcigxMjMsIDEwNCwgMjM4KTtcclxuICAgIENvbG9yLk1lZGl1bU9yY2hpZCA9IG5ldyBDb2xvcigxODYsIDg1LCAyMTEpO1xyXG4gICAgQ29sb3IuTWVkaXVtUHVycGxlID0gbmV3IENvbG9yKDE0NywgMTEyLCAyMTkpO1xyXG4gICAgQ29sb3IuT3JjaGlkID0gbmV3IENvbG9yKDIxOCwgMTEsIDIxNCk7XHJcbiAgICBDb2xvci5WaW9sZXQgPSBuZXcgQ29sb3IoMjM4LCAxMzAsIDIzOCk7XHJcbiAgICBDb2xvci5QbHVtID0gbmV3IENvbG9yKDIyMSwgMTYwLCAyMjEpO1xyXG4gICAgQ29sb3IuVGhpc3RsZSA9IG5ldyBDb2xvcigyMTYsIDE5MSwgMjE2KTtcclxuICAgIENvbG9yLkxhdmVuZGVyID0gbmV3IENvbG9yKDIzMCwgMjMwLCAyNTApO1xyXG4gICAgLy8gV2hpdGUgQ29sb3JzXHJcbiAgICBDb2xvci5NaXN0eVJvc2UgPSBuZXcgQ29sb3IoMjU1LCAyMjgsIDIyNSk7XHJcbiAgICBDb2xvci5BbnRpcXVlV2hpdGUgPSBuZXcgQ29sb3IoMjUwLCAyMzUsIDIxNSk7XHJcbiAgICBDb2xvci5MaW5lbiA9IG5ldyBDb2xvcigyNTAsIDI0MCwgMjMwKTtcclxuICAgIENvbG9yLkJlaWdlID0gbmV3IENvbG9yKDI0NSwgMjQ1LCAyMjApO1xyXG4gICAgQ29sb3IuV2hpdGVTbW9rZSA9IG5ldyBDb2xvcigyNDUsIDI0NSwgMjQ1KTtcclxuICAgIENvbG9yLkxhdmVuZGVyQmx1c2ggPSBuZXcgQ29sb3IoMjU1LCAyNDAsIDI0NSk7XHJcbiAgICBDb2xvci5PbGRMYWNlID0gbmV3IENvbG9yKDI1MywgMjQ1LCAyMzApO1xyXG4gICAgQ29sb3IuQWxpY2VCbHVlID0gbmV3IENvbG9yKDI0MCwgMjQ4LCAyNTUpO1xyXG4gICAgQ29sb3IuU2Vhc2hlbGwgPSBuZXcgQ29sb3IoMjU1LCAyNDUsIDIzOCk7XHJcbiAgICBDb2xvci5HaG9zdFdoaXRlID0gbmV3IENvbG9yKDI0OCwgMjQ4LCAyNTUpO1xyXG4gICAgQ29sb3IuSG9uZXlkZXcgPSBuZXcgQ29sb3IoMjQwLCAyNTUsIDI0MCk7XHJcbiAgICBDb2xvci5GbG9yYWxXaGl0ZSA9IG5ldyBDb2xvcigyNTUsIDI1MCwgMjQwKTtcclxuICAgIENvbG9yLkF6dXJlID0gbmV3IENvbG9yKDI0MCwgMjU1LCAyNTUpO1xyXG4gICAgQ29sb3IuTWludENyZWFtID0gbmV3IENvbG9yKDI0NSwgMjU1LCAyNTApO1xyXG4gICAgQ29sb3IuU25vdyA9IG5ldyBDb2xvcigyNTUsIDI1MCwgMjUwKTtcclxuICAgIENvbG9yLkl2b3J5ID0gbmV3IENvbG9yKDI1NSwgMjU1LCAyNDApO1xyXG4gICAgQ29sb3IuV2hpdGUgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSk7XHJcbiAgICAvLyBHcmV5ICsgQmxhY2sgQ29sb3JzXHJcbiAgICBDb2xvci5CbGFjayA9IG5ldyBDb2xvcigwLCAwLCAwKTtcclxuICAgIENvbG9yLkRhcmtTbGF0ZUdyYXkgPSBuZXcgQ29sb3IoNDcsIDc5LCA3OSk7XHJcbiAgICBDb2xvci5EaW1HcmF5ID0gbmV3IENvbG9yKDEwNSwgMTA1LCAxMDUpO1xyXG4gICAgQ29sb3IuU2xhdGVHcmF5ID0gbmV3IENvbG9yKDExMiwgMTI4LCAxNDQpO1xyXG4gICAgQ29sb3IuR3JheSA9IG5ldyBDb2xvcigxMjgsIDEyOCwgMTI4KTtcclxuICAgIENvbG9yLkxpZ2h0U2xhdGVHcmF5ID0gbmV3IENvbG9yKDExOSwgMTM2LCAxNTMpO1xyXG4gICAgQ29sb3IuRGFya0dyYXkgPSBuZXcgQ29sb3IoMTY5LCAxNjksIDE2OSk7XHJcbiAgICBDb2xvci5TaWx2ZXIgPSBuZXcgQ29sb3IoMTkyLCAxOTIsIDE5Mik7XHJcbiAgICBDb2xvci5MaWdodEdyYXkgPSBuZXcgQ29sb3IoMjExLCAyMTEsIDIxMSk7XHJcbiAgICBDb2xvci5HYWluc2Jvcm8gPSBuZXcgQ29sb3IoMjIwLCAyMjAsIDIyMCk7XHJcbiAgICAvLyBHcmVlbiBDb2xvcnNcclxuICAgIENvbG9yLkRhcmtHcmVlbiA9IG5ldyBDb2xvcigwLCAxMDAsIDApO1xyXG4gICAgQ29sb3IuR3JlZW4gPSBuZXcgQ29sb3IoMCwgMTI4LCAwKTtcclxuICAgIENvbG9yLkRhcmtPbGl2ZUdyZWVuID0gbmV3IENvbG9yKDg1LCAxMDcsIDQ3KTtcclxuICAgIENvbG9yLkZvcmVzdEdyZWVuID0gbmV3IENvbG9yKDM0LCAxMzksIDM0KTtcclxuICAgIENvbG9yLlNlYUdyZWVuID0gbmV3IENvbG9yKDQ2LCAxMzksIDg3KTtcclxuICAgIENvbG9yLk9saXZlID0gbmV3IENvbG9yKDEyOCwgMTI4LCAwKTtcclxuICAgIENvbG9yLk9saXZlRHJhYiA9IG5ldyBDb2xvcigxMDcsIDE0MiwgMzUpO1xyXG4gICAgQ29sb3IuTWVkaXVtU2VhR3JlZW4gPSBuZXcgQ29sb3IoNjAsIDE3OSwgMTEzKTtcclxuICAgIENvbG9yLkxpbWVHcmVlbiA9IG5ldyBDb2xvcig1MCwgMjA1LCA1MCk7XHJcbiAgICBDb2xvci5MaW1lID0gbmV3IENvbG9yKDAsIDI1NSwgMCk7XHJcbiAgICBDb2xvci5TcHJpbmdHcmVlbiA9IG5ldyBDb2xvcigwLCAyNTUsIDEyNyk7XHJcbiAgICBDb2xvci5NZWRpdW1TcHJpbmdHcmVlbiA9IG5ldyBDb2xvcigwLCAyNTAsIDE1NCk7XHJcbiAgICBDb2xvci5EYXJrU2VhR3JlZW4gPSBuZXcgQ29sb3IoMTQzLCAxODgsIDE0Myk7XHJcbiAgICBDb2xvci5NZWRpdW1BcXVhbWFyaW5lID0gbmV3IENvbG9yKDEwMiwgMjA1LCAxNzApO1xyXG4gICAgQ29sb3IuWWVsbG93R3JlZW4gPSBuZXcgQ29sb3IoMTU0LCAyMDUsIDUwKTtcclxuICAgIENvbG9yLkxhd25HcmVlbiA9IG5ldyBDb2xvcigxMjQsIDI1MiwgMCk7XHJcbiAgICBDb2xvci5DaGFydHJldXNlID0gbmV3IENvbG9yKDEyNywgMjU1LCAwKTtcclxuICAgIENvbG9yLkxpZ2h0R3JlZW4gPSBuZXcgQ29sb3IoMTMzLCAyMzgsIDE0NCk7XHJcbiAgICBDb2xvci5HcmVlblllbGxvdyA9IG5ldyBDb2xvcigxNzMsIDI1NSwgNDcpO1xyXG4gICAgQ29sb3IuUGFsZUdyZWVuID0gbmV3IENvbG9yKDE1MiwgMjUxLCAxNTIpO1xyXG4gICAgLy8gQ3lhbiBDb2xvcnNcclxuICAgIENvbG9yLlRlYWwgPSBuZXcgQ29sb3IoMCwgMTI4LCAxMjgpO1xyXG4gICAgQ29sb3IuRGFya0N5YW4gPSBuZXcgQ29sb3IoMCwgMTM5LCAxMzkpO1xyXG4gICAgQ29sb3IuTGlnaHRTZWFHcmVlbiA9IG5ldyBDb2xvcigzMiwgMTc4LCAxNzApO1xyXG4gICAgQ29sb3IuQ2FkZXRCbHVlID0gbmV3IENvbG9yKDk1LCAxNTgsIDE2MCk7XHJcbiAgICBDb2xvci5EYXJrVHVycXVvaXNlID0gbmV3IENvbG9yKDAsIDIwNiwgMjA5KTtcclxuICAgIENvbG9yLk1lZGl1bVR1cnF1b2lzZSA9IG5ldyBDb2xvcig3MiwgMjA5LCAyMDQpO1xyXG4gICAgQ29sb3IuVHVycXVvaXNlID0gbmV3IENvbG9yKDY0LCAyMjQsIDIwOCk7XHJcbiAgICBDb2xvci5BcXVhID0gbmV3IENvbG9yKDAsIDI1NSwgMjU1KTtcclxuICAgIENvbG9yLkN5YW4gPSBuZXcgQ29sb3IoMCwgMjU1LCAyNTUpO1xyXG4gICAgQ29sb3IuQXF1YW1hcmluZSA9IG5ldyBDb2xvcigxMjcsIDI1NSwgMjEyKTtcclxuICAgIENvbG9yLlBhbGVUdXJxdW9pc2UgPSBuZXcgQ29sb3IoMTc1LCAyMzgsIDIzOCk7XHJcbiAgICBDb2xvci5MaWdodEN5YW4gPSBuZXcgQ29sb3IoMjQ0LCAyNTUsIDI1NSk7XHJcbiAgICAvLyBCbHVlIENvbG9yc1xyXG4gICAgQ29sb3IuTmF2eSA9IG5ldyBDb2xvcigwLCAwLCAxMjgpO1xyXG4gICAgQ29sb3IuRGFya0JsdWUgPSBuZXcgQ29sb3IoMCwgMCwgMTM5KTtcclxuICAgIENvbG9yLk1lZGl1bUJsdWUgPSBuZXcgQ29sb3IoMCwgMCwgMjA1KTtcclxuICAgIENvbG9yLkJsdWUgPSBuZXcgQ29sb3IoMCwgMCwgMjI1KTtcclxuICAgIENvbG9yLk1pZG5pZ2h0Qmx1ZSA9IG5ldyBDb2xvcigyNSwgMjUsIDExMik7XHJcbiAgICBDb2xvci5Sb3lhbEJsdWUgPSBuZXcgQ29sb3IoNjUsIDEwNSwgMjI1KTtcclxuICAgIENvbG9yLlN0ZWVsQmx1ZSA9IG5ldyBDb2xvcig3MCwgMTMwLCAxODApO1xyXG4gICAgQ29sb3IuRG9kZ2VyQmx1ZSA9IG5ldyBDb2xvcigzMCwgMTQ0LCAyNTUpO1xyXG4gICAgQ29sb3IuRGVlcFNreUJsdWUgPSBuZXcgQ29sb3IoMCwgMTkxLCAyNTUpO1xyXG4gICAgQ29sb3IuQ29ybmZsb3dlckJsdWUgPSBuZXcgQ29sb3IoMTAwLCAxNDksIDIzNyk7XHJcbiAgICBDb2xvci5Ta3lCbHVlID0gbmV3IENvbG9yKDEzNSwgMjA2LCAyMzUpO1xyXG4gICAgQ29sb3IuTGlnaHRTa3lCbHVlID0gbmV3IENvbG9yKDEzNSwgMjA2LCAyNTApO1xyXG4gICAgQ29sb3IuTGlnaHRTdGVlbEJsdWUgPSBuZXcgQ29sb3IoMTc2LCAxOTYsIDIyMik7XHJcbiAgICBDb2xvci5MaWdodEJsdWUgPSBuZXcgQ29sb3IoMTczLCAyMTYsIDIzMCk7XHJcbiAgICBDb2xvci5Qb3dkZXJCbHVlID0gbmV3IENvbG9yKDE3NiwgMjI0LCAyMzApO1xyXG4gICAgcmV0dXJuIENvbG9yO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvci5qcy5tYXBcblxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBnbHlwaCB0byBiZSBkcmF3biB0byB0aGUgc2NyZWVuLlxyXG4gKi9cclxudmFyIEdseXBoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgR2x5cGggZnJvbSBhIHNpbmdsZSBjaGFyYWN0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNoYXIgLSBBIHNpbmdsZSBjaGFyYWN0ZXIuXHJcbiAgICAgKiBAcGFyYW0gZm9yZSAtIEEgZm9yZWdyb3VuZCBjb2xvciAoZGVmYXVsdCB3aGl0ZSlcclxuICAgICAqIEBwYXJhbSBiYWNrIC0gQSBiYWNrZ3JvdW5kIGNvbG9yIChkZWZhdWx0IGJsYWNrKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBHbHlwaChjaGFyLCBmb3JlLCBiYWNrKSB7XHJcbiAgICAgICAgaWYgKGZvcmUgPT09IHZvaWQgMCkgeyBmb3JlID0gQ29sb3IuV2hpdGU7IH1cclxuICAgICAgICBpZiAoYmFjayA9PT0gdm9pZCAwKSB7IGJhY2sgPSBDb2xvci5CbGFjazsgfVxyXG4gICAgICAgIHRoaXMuY2hhciA9IGNoYXIuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICB0aGlzLmZvcmUgPSBmb3JlO1xyXG4gICAgICAgIHRoaXMuYmFjayA9IGJhY2s7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBnbHlwaCBmcm9tIGEgY2hhckNvZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNoYXIgLSBBIG51bWJlciByZXByZXNlbnRpbmcgYSBjaGFyQ29kZS5cclxuICAgICAqIEBwYXJhbSBmb3JlIC0gQSBmb3JlZ3JvdW5kIGNvbG9yIChkZWZhdWx0IHdoaXRlKVxyXG4gICAgICogQHBhcmFtIGJhY2sgLSBBIGJhY2tncm91bmQgY29sb3IgKGRlZmF1bHQgYmxhY2spXHJcbiAgICAgKi9cclxuICAgIEdseXBoLmZyb21DaGFyQ29kZSA9IGZ1bmN0aW9uIChjaGFyLCBmb3JlLCBiYWNrKSB7XHJcbiAgICAgICAgaWYgKGZvcmUgPT09IHZvaWQgMCkgeyBmb3JlID0gQ29sb3IuV2hpdGU7IH1cclxuICAgICAgICBpZiAoYmFjayA9PT0gdm9pZCAwKSB7IGJhY2sgPSBDb2xvci5CbGFjazsgfVxyXG4gICAgICAgIHJldHVybiBuZXcgR2x5cGgoU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgZm9yZSwgYmFjayk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIHR3byBnbHlwaHMgYXJlIGVxdWFsLlxyXG4gICAgICogQHBhcmFtIG90aGVyIEdseXBoIC0gVGhlIG90aGVyIGdseXBoLlxyXG4gICAgICovXHJcbiAgICBHbHlwaC5wcm90b3R5cGUuaXNFcXVhbCA9IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEdseXBoID09PSBmYWxzZSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiAodGhpcy5jaGFyID09PSBvdGhlci5jaGFyICYmXHJcbiAgICAgICAgICAgIHRoaXMuZm9yZS5pc0VxdWFsKG90aGVyLmZvcmUpICYmXHJcbiAgICAgICAgICAgIHRoaXMuYmFjay5pc0VxdWFsKG90aGVyLmJhY2spKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gR2x5cGg7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdseXBoLmpzLm1hcFxuXG52YXIgQmFzZVRlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmFzZVRlcm1pbmFsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGNvbmZpZy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5mb3JlQ29sb3IgPSAoX2EgPSBjb25maWcuZm9yZUNvbG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBDb2xvci5XaGl0ZTtcclxuICAgICAgICB0aGlzLmJhY2tDb2xvciA9IChfYiA9IGNvbmZpZy5iYWNrQ29sb3IpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IENvbG9yLkJsYWNrO1xyXG4gICAgfVxyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZpbGwoeyB4OiAwLCB5OiAwIH0sIHsgeDogdGhpcy53aWR0aCAtIDEsIHk6IHRoaXMuaGVpZ2h0IC0gMSB9LCBuZXcgR2x5cGgoXCIgXCIpKTtcclxuICAgIH07XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAodjEsIHYyLCBnbHlwaCkge1xyXG4gICAgICAgIGZvciAodmFyIHggPSB2MS54OyB4IDw9IHYyLng7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gdjEueTsgeSA8PSB2Mi55OyB5KyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dseXBoKHsgeDogeCwgeTogeSB9LCBnbHlwaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS53cml0ZUF0ID0gZnVuY3Rpb24gKHBvcywgdGV4dCwgZm9yZSwgYmFjaykge1xyXG4gICAgICAgIGlmIChmb3JlID09PSB2b2lkIDApIHsgZm9yZSA9IHRoaXMuZm9yZUNvbG9yOyB9XHJcbiAgICAgICAgaWYgKGJhY2sgPT09IHZvaWQgMCkgeyBiYWNrID0gdGhpcy5iYWNrQ29sb3I7IH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHBvcy54ICsgaSA+PSB0aGlzLndpZHRoKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0dseXBoKHtcclxuICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgaSxcclxuICAgICAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICB9LCBHbHlwaC5mcm9tQ2hhckNvZGUodGV4dC5jaGFyQ29kZUF0KGkpLCBmb3JlLCBiYWNrKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUucG9ydCA9IGZ1bmN0aW9uIChwb3MsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvcnRUZXJtaW5hbChwb3MsIHsgeDogd2lkdGgsIHk6IGhlaWdodCB9LCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLmRyYXdDaGFyQ29kZSA9IGZ1bmN0aW9uIChwb3MsIGNoYXJDb2RlLCBmb3JlQ29sb3IsIGJhY2tDb2xvcikge1xyXG4gICAgICAgIGlmIChmb3JlQ29sb3IgPT09IHZvaWQgMCkgeyBmb3JlQ29sb3IgPSB0aGlzLmZvcmVDb2xvcjsgfVxyXG4gICAgICAgIGlmIChiYWNrQ29sb3IgPT09IHZvaWQgMCkgeyBiYWNrQ29sb3IgPSB0aGlzLmJhY2tDb2xvcjsgfVxyXG4gICAgICAgIHRoaXMuZHJhd0dseXBoKHBvcywgR2x5cGguZnJvbUNoYXJDb2RlKGNoYXJDb2RlLCBmb3JlQ29sb3IsIGJhY2tDb2xvcikpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlVGVybWluYWw7XHJcbn0oKSk7XHJcbnZhciBSZW5kZXJhYmxlVGVybWluYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVuZGVyYWJsZVRlcm1pbmFsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVuZGVyYWJsZVRlcm1pbmFsKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSZW5kZXJhYmxlVGVybWluYWw7XHJcbn0oQmFzZVRlcm1pbmFsKSk7XHJcbnZhciBQb3J0VGVybWluYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUG9ydFRlcm1pbmFsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUG9ydFRlcm1pbmFsKHBvcywgc2l6ZSwgcm9vdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHsgd2lkdGg6IHNpemUueCwgaGVpZ2h0OiBzaXplLnkgfSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5feCA9IHBvcy54O1xyXG4gICAgICAgIF90aGlzLl95ID0gcG9zLnk7XHJcbiAgICAgICAgX3RoaXMucG9ydFNpemUgPSBzaXplO1xyXG4gICAgICAgIF90aGlzLnJvb3QgPSByb290O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBvcnRUZXJtaW5hbC5wcm90b3R5cGUuZHJhd0dseXBoID0gZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICBpZiAocG9zLnggPCAwIHx8IHBvcy54ID49IHRoaXMud2lkdGgpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAocG9zLnkgPCAwIHx8IHBvcy55ID49IHRoaXMuaGVpZ2h0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5yb290LmRyYXdHbHlwaCh7IHg6IHRoaXMuX3ggKyBwb3MueCwgeTogdGhpcy5feSArIHBvcy55IH0sIGdseXBoKTtcclxuICAgIH07XHJcbiAgICBQb3J0VGVybWluYWwucHJvdG90eXBlLnBvcnQgPSBmdW5jdGlvbiAocG9zLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb3J0VGVybWluYWwoe1xyXG4gICAgICAgICAgICB4OiB0aGlzLl94ICsgcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuX3kgKyBwb3MueSxcclxuICAgICAgICB9LCB7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfSwgdGhpcy5yb290KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUG9ydFRlcm1pbmFsO1xyXG59KEJhc2VUZXJtaW5hbCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXJtaW5hbC5qcy5tYXBcblxudmFyIFRhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGFibGUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgLy8gVG9EbyAtIEluaXRpYWxpemUgZW1wdHkgYXJyYXlcclxuICAgIH1cclxuICAgIFRhYmxlLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIHggPSBfYS54LCB5ID0gX2EueTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNJbkJvdW5kcyh7IHg6IHgsIHk6IHkgfSkpXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGluZGV4ID0geSAqIHRoaXMud2lkdGggKyB4O1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zW2luZGV4XTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHBvcywgaXRlbSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5Cb3VuZHMocG9zKSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwb3MueCArIFwiOlwiICsgcG9zLnkgKyBcIiBpcyBub3QgaW4gYm91bmRzXCIpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IHBvcy55ICogdGhpcy53aWR0aCArIHBvcy54O1xyXG4gICAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gaXRlbTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zW2luZGV4XTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuaXNJbkJvdW5kcyA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciB4ID0gX2EueCwgeSA9IF9hLnk7XHJcbiAgICAgICAgaWYgKHggPCAwIHx8IHggPj0gdGhpcy53aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24gKHBvcywgcHJlZGljYXRlLCB0b3BvbG9neSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRvcG9sb2d5ID09PSB2b2lkIDApIHsgdG9wb2xvZ3kgPSBcImVpZ2h0XCI7IH1cclxuICAgICAgICB2YXIgbmVpZ2hib3JzID0gW107XHJcbiAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55IH0pO1xyXG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLngsIHk6IHBvcy55ICsgLTEgfSk7XHJcbiAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIC0xLCB5OiBwb3MueSB9KTtcclxuICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54LCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgaWYgKHRvcG9sb2d5ID09PSBcImVpZ2h0XCIpIHtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55IC0gMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIC0xLCB5OiBwb3MueSArIC0xIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgLTEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmVpZ2hib3JzID0gbmVpZ2hib3JzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuaXNJbkJvdW5kcyh2KTsgfSk7XHJcbiAgICAgICAgaWYgKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMgPSBuZWlnaGJvcnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiBwcmVkaWNhdGUodiwgX3RoaXMuZ2V0KHYpKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZWlnaGJvcnM7XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmZsb29kRmlsbFNlbGVjdCA9IGZ1bmN0aW9uIChwb3MsIHRhcmdldFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0YXJnZXRWYWx1ZSkge1xyXG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRoaXMuZ2V0KHBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIGdpdmVuIGEgdGFyZ2V0IHZhbHVlLCBtdXN0IG1hdGNoIHN0YXJ0IHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KHBvcykgIT09IHRhcmdldFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhvcml6b24gPSBbcG9zXTtcclxuICAgICAgICAvLyBcIng6eVwiLCBmb3IgcXVpY2sgaW5kZXhpbmdcclxuICAgICAgICB2YXIgZmxvb2RGaWxsID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHdoaWxlIChob3Jpem9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBob3Jpem9uLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KHBvaW50KTtcclxuICAgICAgICAgICAgLy8gSWYgbm90IHRoZSByaWdodCB0eXBlIG9mIHZhbHVlLCB3ZSdyZSBkb25lLlxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRhcmdldFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgbWFya2VkIHRoaXMgc3BvdFxyXG4gICAgICAgICAgICBpZiAoZmxvb2RGaWxsLmhhcyhwb2ludC54ICsgXCI6XCIgKyBwb2ludC55KSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB0aGUgcHJvcGVyIHZhbHVlLCBjb2xsZWN0IGl0XHJcbiAgICAgICAgICAgIGZsb29kRmlsbC5hZGQocG9pbnQueCArIFwiOlwiICsgcG9pbnQueSk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBhZGQgaXQncyBuZWlnaGJvcnMgdG8gdGhlIHNlYXJjaCBob3Jpem9uXHJcbiAgICAgICAgICAgIHZhciBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhwb2ludCwgdW5kZWZpbmVkLCBcImZvdXJcIik7XHJcbiAgICAgICAgICAgIGhvcml6b24ucHVzaC5hcHBseShob3Jpem9uLCBuZWlnaGJvcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZmlsbCA9IEFycmF5LmZyb20oZmxvb2RGaWxsLmtleXMoKSkubWFwKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gc3RyLnNwbGl0KFwiOlwiKSwgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIucGFyc2VJbnQoeCksXHJcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIucGFyc2VJbnQoeSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZpbGw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRhYmxlO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWJsZS5qcy5tYXBcblxuLyoqIFJlcHJlc2VudHMgZ2x5cGggZGF0YSwgYWdub3N0aWMgdG8gaG93IGl0IGlzIHJlbmRlcmVkLiAqL1xyXG52YXIgRGlzcGxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBEaXNwbGF5XHJcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgbnVtYmVyIG9mIGdseXBocyB3aWRlIHRoZSBkaXNwbGF5IGlzXHJcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gVGhlIG51bWJlciBvZiBnbHlwaHMgdGFsbCB0aGUgZGlzcGxheSBpc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBEaXNwbGF5KHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5nbHlwaHMgPSBuZXcgVGFibGUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkR2x5cGhzID0gbmV3IFRhYmxlKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgd2lkdGgvaGVpZ2h0IG9mIHRoZSBkaXNwbGF5LlxyXG4gICAgICovXHJcbiAgICBEaXNwbGF5LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7IHg6IHRoaXMud2lkdGgsIHk6IHRoaXMuaGVpZ2h0IH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgc2luZ2xlIGdseXBoIGluIHRoZSBkaXNwbGF5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwb3MgVmVjdG9yMiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgR2x5cGhcclxuICAgICAqIEBwYXJhbSBnbHlwaCBHbHlwaCAtIFRoZSBHbHlwaFxyXG4gICAgICovXHJcbiAgICBEaXNwbGF5LnByb3RvdHlwZS5zZXRHbHlwaCA9IGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhzLmlzSW5Cb3VuZHMocG9zKSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAoZ2x5cGguaXNFcXVhbCh0aGlzLmdseXBocy5nZXQocG9zKSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkR2x5cGhzLnNldChwb3MsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRHbHlwaHMuc2V0KHBvcywgZ2x5cGgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggeC95L2dseXBoIHBhaXIuXHJcbiAgICAgKiBUaGUgdGVybWluYWwgbmVlZHMgdG8gZGVjaWRlIGhvdyB0byByZW5kZXIgdGhlIGRpc3BsYXkuXHJcbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIGJvdHRvbSB0byB0b3AsIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgKi9cclxuICAgIERpc3BsYXkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGZvciAodmFyIHkgPSB0aGlzLmhlaWdodCAtIDE7IHkgPj0gMDsgeS0tKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSB0aGlzLndpZHRoIC0gMTsgeCA+PSAwOyB4LS0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbHlwaCA9IHRoaXMuY2hhbmdlZEdseXBocy5nZXQoeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFnbHlwaClcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHsgeDogeCwgeTogeSB9LCBnbHlwaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdseXBocy5zZXQoeyB4OiB4LCB5OiB5IH0sIGdseXBoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZEdseXBocy5zZXQoeyB4OiB4LCB5OiB5IH0sIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERpc3BsYXk7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYXkuanMubWFwXG5cbnZhciBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRm9udChmYW1pbHksIHNpemUsIGNoYXJXaWR0aCwgaGVpZ2h0LCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5mYW1pbHkgPSBmYW1pbHk7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLmNoYXJXaWR0aCA9IGNoYXJXaWR0aDtcclxuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEZvbnQ7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBSZW5kZXJzIGEgZGlzcGxheSBieSB3cml0aW5nIGZvbnRzIHRvIGEgY2FudmFzLlxyXG4gKi9cclxudmFyIENhbnZhc1Rlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKENhbnZhc1Rlcm1pbmFsLCBfc3VwZXIpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENhbnZhc1Rlcm1pbmFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb25maWcgLSBUaGUgY29uZmlnIGZvciB0aGUgQ2FudmFzVGVybWluYWxcclxuICAgICAqIEBwYXJhbSBjb25maWcud2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHRlcm1pbmFsIGluIGNoYXJhY3RlcnMuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHRlcm1pbmFsIGluIGNoYXJhY3RlcnMuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmZvbnQgRm9udCAtIEEgZm9udCBvYmplY3RcclxuICAgICAqIEBwYXJhbSBjb25maWcubW91bnROb2RlIC0gV2lsbCBtb3VudCB0aGUgY2FudmFzIGFzIGEgY2hpbGQgb2YgdGhpcyBub2RlIGlmIHByb3ZpZGVkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDYW52YXNUZXJtaW5hbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICBfdGhpcy5kaXNwbGF5ID0gbmV3IERpc3BsYXkoY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0KTtcclxuICAgICAgICBfdGhpcy5mb250ID0gY29uZmlnLmZvbnQ7XHJcbiAgICAgICAgX3RoaXMuY2FudmFzID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gX3RoaXMuZm9udC5jaGFyV2lkdGggKiBfdGhpcy5kaXNwbGF5LndpZHRoO1xyXG4gICAgICAgIHZhciBjYW52YXNIZWlnaHQgPSBfdGhpcy5mb250LmxpbmVIZWlnaHQgKiBfdGhpcy5kaXNwbGF5LmhlaWdodDtcclxuICAgICAgICBfdGhpcy5jYW52YXMud2lkdGggPSBjYW52YXNXaWR0aCAqIF90aGlzLnNjYWxlO1xyXG4gICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiBfdGhpcy5zY2FsZTtcclxuICAgICAgICBfdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXNXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBfdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIC8vIE1vdW50IHRoZSBjYW52YXNcclxuICAgICAgICBpZiAoY29uZmlnLm1vdW50Tm9kZSkge1xyXG4gICAgICAgICAgICBjb25maWcubW91bnROb2RlLmFwcGVuZENoaWxkKF90aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIGEgZ2x5cGggb24gdGhlIGRpc3BsYXkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBvcyBWZWN0b3IyIC0gUG9zaXRpb24gb2YgdGhlIEdseXBoXHJcbiAgICAgKiBAcGFyYW0gZ2x5cGggR2x5cGggLSBUaGUgR2x5cGggdG8gcmVuZGVyXHJcbiAgICAgKi9cclxuICAgIENhbnZhc1Rlcm1pbmFsLnByb3RvdHlwZS5kcmF3R2x5cGggPSBmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheS5zZXRHbHlwaChwb3MsIGdseXBoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcnMgdGhlIGRpc3BsYXkgdG8gdGhlIGNhbnZhcy5cclxuICAgICAqIFVzdWFsbHkgZHJhd24gb25jZSBwZXIgYW5pbWF0aW9uIGZyYW1lLlxyXG4gICAgICovXHJcbiAgICBDYW52YXNUZXJtaW5hbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnQuc2l6ZSAqIHRoaXMuc2NhbGUgKyBcInB4IFwiICsgdGhpcy5mb250LmZhbWlseSArIFwiLCBtb25vc3BhY2VcIjtcclxuICAgICAgICB0aGlzLmRpc3BsYXkucmVuZGVyKGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgICAgIC8vIEZpbGwgdGhlIGJhY2tncm91bmRcclxuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5maWxsU3R5bGUgPSBnbHlwaC5iYWNrLmNzc0NvbG9yKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuZmlsbFJlY3QocG9zLnggKiBfdGhpcy5mb250LmNoYXJXaWR0aCAqIF90aGlzLnNjYWxlLCBwb3MueSAqIF90aGlzLmZvbnQubGluZUhlaWdodCAqIF90aGlzLnNjYWxlLCBfdGhpcy5mb250LmNoYXJXaWR0aCAqIF90aGlzLnNjYWxlLCBfdGhpcy5mb250LmxpbmVIZWlnaHQgKiBfdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgICAgIC8vIERvbnQgYm90aGVyIGRyYXdpbmcgZW1wdHkgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICBpZiAoZ2x5cGguY2hhciA9PT0gMCB8fCBcIiBcIi5jaGFyQ29kZUF0KDApID09PSBnbHlwaC5jaGFyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRmlsbCB0aGUgY2hhclxyXG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGdseXBoLmZvcmUuY3NzQ29sb3IoKTtcclxuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5maWxsVGV4dChTdHJpbmcuZnJvbUNoYXJDb2RlKGdseXBoLmNoYXIpLCAocG9zLnggKiBfdGhpcy5mb250LmNoYXJXaWR0aCArIF90aGlzLmZvbnQueCkgKiBfdGhpcy5zY2FsZSwgKHBvcy55ICogX3RoaXMuZm9udC5saW5lSGVpZ2h0ICsgX3RoaXMuZm9udC55KSAqIF90aGlzLnNjYWxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiBnaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUuXHJcbiAgICAgKi9cclxuICAgIENhbnZhc1Rlcm1pbmFsLnByb3RvdHlwZS5waXhlbFRvQ2hhciA9IGZ1bmN0aW9uIChwaXhlbCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogTWF0aC5mbG9vcigocGl4ZWwueCAtIHJlY3QubGVmdCkgLyB0aGlzLmZvbnQuY2hhcldpZHRoKSxcclxuICAgICAgICAgICAgeTogTWF0aC5mbG9vcigocGl4ZWwueSAtIHJlY3QudG9wKSAvIHRoaXMuZm9udC5saW5lSGVpZ2h0KSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlcyB0aGUgdGVybWluYWwsIHJlbW92aW5nIHRoZSBjYW52YXMuXHJcbiAgICAgKi9cclxuICAgIENhbnZhc1Rlcm1pbmFsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMuY2FudmFzLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhbnZhc1Rlcm1pbmFsO1xyXG59KFJlbmRlcmFibGVUZXJtaW5hbCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW52YXMtdGVybWluYWwuanMubWFwXG5cbi8vLyBVbmljb2RlIGNvZGUgcG9pbnRzIGZvciB2YXJpb3VzIHNwZWNpYWwgY2hhcmFjdGVycyB0aGF0IGFsc28gZXhpc3Qgb25cclxuLy8vIFtjb2RlIHBhZ2UgNDM3XVtmb250XS5cclxuLy8vXHJcbi8vLyBbZm9udF06IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29kZV9wYWdlXzQzN1xyXG52YXIgQ2hhckNvZGU7XHJcbihmdW5jdGlvbiAoQ2hhckNvZGUpIHtcclxuICAgIC8vIDEgLSAxNS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wid2hpdGVTbWlsaW5nRmFjZVwiXSA9IDk3ODZdID0gXCJ3aGl0ZVNtaWxpbmdGYWNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrU21pbGluZ0ZhY2VcIl0gPSA5Nzg3XSA9IFwiYmxhY2tTbWlsaW5nRmFjZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja0hlYXJ0U3VpdFwiXSA9IDk4MjldID0gXCJibGFja0hlYXJ0U3VpdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja0RpYW1vbmRTdWl0XCJdID0gOTgzMF0gPSBcImJsYWNrRGlhbW9uZFN1aXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tDbHViU3VpdFwiXSA9IDk4MjddID0gXCJibGFja0NsdWJTdWl0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrU3BhZGVTdWl0XCJdID0gOTgyNF0gPSBcImJsYWNrU3BhZGVTdWl0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJ1bGxldFwiXSA9IDgyMjZdID0gXCJidWxsZXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW52ZXJzZUJ1bGxldFwiXSA9IDk2ODhdID0gXCJpbnZlcnNlQnVsbGV0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIndoaXRlQ2lyY2xlXCJdID0gOTY3NV0gPSBcIndoaXRlQ2lyY2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImludmVyc2VXaGl0ZUNpcmNsZVwiXSA9IDk2ODldID0gXCJpbnZlcnNlV2hpdGVDaXJjbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWFsZVNpZ25cIl0gPSA5Nzk0XSA9IFwibWFsZVNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZmVtYWxlU2lnblwiXSA9IDk3OTJdID0gXCJmZW1hbGVTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImVpZ2h0aE5vdGVcIl0gPSA5ODM0XSA9IFwiZWlnaHRoTm90ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJiZWFtZWRFaWdodGhOb3Rlc1wiXSA9IDk4MzVdID0gXCJiZWFtZWRFaWdodGhOb3Rlc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ3aGl0ZVN1bldpdGhSYXlzXCJdID0gOTc4OF0gPSBcIndoaXRlU3VuV2l0aFJheXNcIjtcclxuICAgIC8vIDE2IC0gMzEuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrUmlnaHRQb2ludGluZ1BvaW50ZXJcIl0gPSA5NjU4XSA9IFwiYmxhY2tSaWdodFBvaW50aW5nUG9pbnRlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja0xlZnRQb2ludGluZ1BvaW50ZXJcIl0gPSA5NjY4XSA9IFwiYmxhY2tMZWZ0UG9pbnRpbmdQb2ludGVyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVwRG93bkFycm93XCJdID0gODU5N10gPSBcInVwRG93bkFycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRvdWJsZUV4Y2xhbWF0aW9uTWFya1wiXSA9IDgyNTJdID0gXCJkb3VibGVFeGNsYW1hdGlvbk1hcmtcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGlsY3Jvd1wiXSA9IDE4Ml0gPSBcInBpbGNyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic2VjdGlvblNpZ25cIl0gPSAxNjddID0gXCJzZWN0aW9uU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1JlY3RhbmdsZVwiXSA9IDk2NDRdID0gXCJibGFja1JlY3RhbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1cERvd25BcnJvd1dpdGhCYXNlXCJdID0gODYxNl0gPSBcInVwRG93bkFycm93V2l0aEJhc2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widXB3YXJkc0Fycm93XCJdID0gODU5M10gPSBcInVwd2FyZHNBcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkb3dud2FyZHNBcnJvd1wiXSA9IDg1OTVdID0gXCJkb3dud2FyZHNBcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodHdhcmRzQXJyb3dcIl0gPSA4NTk0XSA9IFwicmlnaHR3YXJkc0Fycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnR3YXJkc0Fycm93XCJdID0gODU5Ml0gPSBcImxlZnR3YXJkc0Fycm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0QW5nbGVcIl0gPSA4NzM1XSA9IFwicmlnaHRBbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0UmlnaHRBcnJvd1wiXSA9IDg1OTZdID0gXCJsZWZ0UmlnaHRBcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1VwUG9pbnRpbmdUcmlhbmdsZVwiXSA9IDk2NTBdID0gXCJibGFja1VwUG9pbnRpbmdUcmlhbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja0Rvd25Qb2ludGluZ1RyaWFuZ2xlXCJdID0gOTY2MF0gPSBcImJsYWNrRG93blBvaW50aW5nVHJpYW5nbGVcIjtcclxuICAgIC8vIDMyIC0gNDcuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNwYWNlXCJdID0gMzJdID0gXCJzcGFjZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJleGNsYW1hdGlvblBvaW50XCJdID0gMzNdID0gXCJleGNsYW1hdGlvblBvaW50XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRvdWJsZVF1b3RlXCJdID0gMzRdID0gXCJkb3VibGVRdW90ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJudW1iZXJTaWduXCJdID0gMzVdID0gXCJudW1iZXJTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRvbGxhclNpZ25cIl0gPSAzNl0gPSBcImRvbGxhclNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGVyY2VudFwiXSA9IDM3XSA9IFwicGVyY2VudFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhbXBlcnNhbmRcIl0gPSAzOF0gPSBcImFtcGVyc2FuZFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhcG9zdHJvcGhlXCJdID0gMzldID0gXCJhcG9zdHJvcGhlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRQYXJlbnRoZXNpc1wiXSA9IDQwXSA9IFwibGVmdFBhcmVudGhlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0UGFyZW50aGVzaXNcIl0gPSA0MV0gPSBcInJpZ2h0UGFyZW50aGVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYXN0ZXJpc2tcIl0gPSA0Ml0gPSBcImFzdGVyaXNrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBsdXNcIl0gPSA0M10gPSBcInBsdXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY29tbWFcIl0gPSA0NF0gPSBcImNvbW1hXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1pbnVzXCJdID0gNDVdID0gXCJtaW51c1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwZXJpb2RcIl0gPSA0Nl0gPSBcInBlcmlvZFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzbGFzaFwiXSA9IDQ3XSA9IFwic2xhc2hcIjtcclxuICAgIC8vIDQ4IC0gNjMuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInplcm9cIl0gPSA0OF0gPSBcInplcm9cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wib25lXCJdID0gNDldID0gXCJvbmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widHdvXCJdID0gNTBdID0gXCJ0d29cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widGhyZWVcIl0gPSA1MV0gPSBcInRocmVlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZvdXJcIl0gPSA1Ml0gPSBcImZvdXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZml2ZVwiXSA9IDUzXSA9IFwiZml2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzaXhcIl0gPSA1NF0gPSBcInNpeFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzZXZlblwiXSA9IDU1XSA9IFwic2V2ZW5cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZWlnaHRcIl0gPSA1Nl0gPSBcImVpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm5pbmVcIl0gPSA1N10gPSBcIm5pbmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY29sb25cIl0gPSA1OF0gPSBcImNvbG9uXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNlbWljb2xvblwiXSA9IDU5XSA9IFwic2VtaWNvbG9uXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlc3NUaGFuXCJdID0gNjBdID0gXCJsZXNzVGhhblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJlcXVhbHNcIl0gPSA2MV0gPSBcImVxdWFsc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVhdGVyVGhhblwiXSA9IDYyXSA9IFwiZ3JlYXRlclRoYW5cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicXVlc3Rpb25NYXJrXCJdID0gNjNdID0gXCJxdWVzdGlvbk1hcmtcIjtcclxuICAgIC8vIDY0IC0gOTUuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImF0XCJdID0gNjRdID0gXCJhdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhVXBwZXJcIl0gPSA2NV0gPSBcImFVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJiVXBwZXJcIl0gPSA2Nl0gPSBcImJVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjVXBwZXJcIl0gPSA2N10gPSBcImNVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkVXBwZXJcIl0gPSA2OF0gPSBcImRVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJlVXBwZXJcIl0gPSA2OV0gPSBcImVVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmVXBwZXJcIl0gPSA3MF0gPSBcImZVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJnVXBwZXJcIl0gPSA3MV0gPSBcImdVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJoVXBwZXJcIl0gPSA3Ml0gPSBcImhVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpVXBwZXJcIl0gPSA3M10gPSBcImlVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJqVXBwZXJcIl0gPSA3NF0gPSBcImpVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJrVXBwZXJcIl0gPSA3NV0gPSBcImtVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsVXBwZXJcIl0gPSA3Nl0gPSBcImxVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtVXBwZXJcIl0gPSA3N10gPSBcIm1VcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJuVXBwZXJcIl0gPSA3OF0gPSBcIm5VcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJvVXBwZXJcIl0gPSA3OV0gPSBcIm9VcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwVXBwZXJcIl0gPSA4MF0gPSBcInBVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJxVXBwZXJcIl0gPSA4MV0gPSBcInFVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyVXBwZXJcIl0gPSA4Ml0gPSBcInJVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzVXBwZXJcIl0gPSA4M10gPSBcInNVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0VXBwZXJcIl0gPSA4NF0gPSBcInRVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1VXBwZXJcIl0gPSA4NV0gPSBcInVVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ2VXBwZXJcIl0gPSA4Nl0gPSBcInZVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ3VXBwZXJcIl0gPSA4N10gPSBcIndVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ4VXBwZXJcIl0gPSA4OF0gPSBcInhVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ5VXBwZXJcIl0gPSA4OV0gPSBcInlVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ6VXBwZXJcIl0gPSA5MF0gPSBcInpVcHBlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0QnJhY2tldFwiXSA9IDkxXSA9IFwibGVmdEJyYWNrZXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmFja1NsYXNoXCJdID0gOTJdID0gXCJiYWNrU2xhc2hcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRCcmFja2V0XCJdID0gOTNdID0gXCJyaWdodEJyYWNrZXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY2FyZXRcIl0gPSA5NF0gPSBcImNhcmV0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVuZGVyc2NvcmVcIl0gPSA5NV0gPSBcInVuZGVyc2NvcmVcIjtcclxuICAgIC8vIDk2IC0gMTI3LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhY2NlbnRcIl0gPSA5Nl0gPSBcImFjY2VudFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhTG93ZXJcIl0gPSA5N10gPSBcImFMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJiTG93ZXJcIl0gPSA5OF0gPSBcImJMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjTG93ZXJcIl0gPSA5OV0gPSBcImNMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkTG93ZXJcIl0gPSAxMDBdID0gXCJkTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZUxvd2VyXCJdID0gMTAxXSA9IFwiZUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZMb3dlclwiXSA9IDEwMl0gPSBcImZMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJnTG93ZXJcIl0gPSAxMDNdID0gXCJnTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaExvd2VyXCJdID0gMTA0XSA9IFwiaExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImlMb3dlclwiXSA9IDEwNV0gPSBcImlMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJqTG93ZXJcIl0gPSAxMDZdID0gXCJqTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wia0xvd2VyXCJdID0gMTA3XSA9IFwia0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxMb3dlclwiXSA9IDEwOF0gPSBcImxMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtTG93ZXJcIl0gPSAxMDldID0gXCJtTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibkxvd2VyXCJdID0gMTEwXSA9IFwibkxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm9Mb3dlclwiXSA9IDExMV0gPSBcIm9Mb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwTG93ZXJcIl0gPSAxMTJdID0gXCJwTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicUxvd2VyXCJdID0gMTEzXSA9IFwicUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJMb3dlclwiXSA9IDExNF0gPSBcInJMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzTG93ZXJcIl0gPSAxMTVdID0gXCJzTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widExvd2VyXCJdID0gMTE2XSA9IFwidExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVMb3dlclwiXSA9IDExN10gPSBcInVMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ2TG93ZXJcIl0gPSAxMThdID0gXCJ2TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wid0xvd2VyXCJdID0gMTE5XSA9IFwid0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInhMb3dlclwiXSA9IDEyMF0gPSBcInhMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ5TG93ZXJcIl0gPSAxMjFdID0gXCJ5TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiekxvd2VyXCJdID0gMTIyXSA9IFwiekxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRCcmFjZVwiXSA9IDEyM10gPSBcImxlZnRCcmFjZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwaXBlXCJdID0gMTI0XSA9IFwicGlwZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodEJyYWNlXCJdID0gMTI1XSA9IFwicmlnaHRCcmFjZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0aWxkZVwiXSA9IDEyNl0gPSBcInRpbGRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImhvdXNlXCJdID0gODk2Ml0gPSBcImhvdXNlXCI7XHJcbiAgICAvLyAxMjggLSAxNDMuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlckNXaXRoQ2VkaWxsYVwiXSA9IDE5OV0gPSBcImxhdGluQ2FwaXRhbExldHRlckNXaXRoQ2VkaWxsYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhEaWFlcmVzaXNcIl0gPSAyNTJdID0gXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckVXaXRoQWN1dGVcIl0gPSAyMzNdID0gXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhDaXJjdW1mbGV4XCJdID0gMjI2XSA9IFwibGF0aW5TbWFsbExldHRlckFXaXRoQ2lyY3VtZmxleFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhEaWFlcmVzaXNcIl0gPSAyMjhdID0gXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFXaXRoR3JhdmVcIl0gPSAyMjRdID0gXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhHcmF2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhSaW5nQWJvdmVcIl0gPSAyMjldID0gXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhSaW5nQWJvdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckNXaXRoQ2VkaWxsYVwiXSA9IDIzMV0gPSBcImxhdGluU21hbGxMZXR0ZXJDV2l0aENlZGlsbGFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckVXaXRoQ2lyY3VtZmxleFwiXSA9IDIzNF0gPSBcImxhdGluU21hbGxMZXR0ZXJFV2l0aENpcmN1bWZsZXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckVXaXRoRGlhZXJlc2lzXCJdID0gMjM1XSA9IFwibGF0aW5TbWFsbExldHRlckVXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJFV2l0aEdyYXZlXCJdID0gMjMyXSA9IFwibGF0aW5TbWFsbExldHRlckVXaXRoR3JhdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlcklXaXRoRGlhZXJlc2lzXCJdID0gMjM5XSA9IFwibGF0aW5TbWFsbExldHRlcklXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJJV2l0aENpcmN1bWZsZXhcIl0gPSAyMzhdID0gXCJsYXRpblNtYWxsTGV0dGVySVdpdGhDaXJjdW1mbGV4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJJV2l0aEdyYXZlXCJdID0gMjM2XSA9IFwibGF0aW5TbWFsbExldHRlcklXaXRoR3JhdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhEaWFlcmVzaXNcIl0gPSAxOTZdID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aFJpbmdBYm92ZVwiXSA9IDE5N10gPSBcImxhdGluQ2FwaXRhbExldHRlckFXaXRoUmluZ0Fib3ZlXCI7XHJcbiAgICAvLyAxNDQgLSAxNTkuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlckVXaXRoQWN1dGVcIl0gPSAyMDFdID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJFV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBZVwiXSA9IDIzMF0gPSBcImxhdGluU21hbGxMZXR0ZXJBZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJBZVwiXSA9IDE5OF0gPSBcImxhdGluQ2FwaXRhbExldHRlckFlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJPV2l0aENpcmN1bWZsZXhcIl0gPSAyNDRdID0gXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhDaXJjdW1mbGV4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJPV2l0aERpYWVyZXNpc1wiXSA9IDI0Nl0gPSBcImxhdGluU21hbGxMZXR0ZXJPV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhHcmF2ZVwiXSA9IDI0Ml0gPSBcImxhdGluU21hbGxMZXR0ZXJPV2l0aEdyYXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJVV2l0aENpcmN1bWZsZXhcIl0gPSAyNTFdID0gXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhDaXJjdW1mbGV4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJVV2l0aEdyYXZlXCJdID0gMjQ5XSA9IFwibGF0aW5TbWFsbExldHRlclVXaXRoR3JhdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlcllXaXRoRGlhZXJlc2lzXCJdID0gMjU1XSA9IFwibGF0aW5TbWFsbExldHRlcllXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlck9XaXRoRGlhZXJlc2lzXCJdID0gMjE0XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyT1dpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyVVdpdGhEaWFlcmVzaXNcIl0gPSAyMjBdID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJVV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJjZW50U2lnblwiXSA9IDE2Ml0gPSBcImNlbnRTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBvdW5kU2lnblwiXSA9IDE2M10gPSBcInBvdW5kU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ5ZW5TaWduXCJdID0gMTY1XSA9IFwieWVuU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwZXNldGFTaWduXCJdID0gODM1OV0gPSBcInBlc2V0YVNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckZXaXRoSG9va1wiXSA9IDQwMl0gPSBcImxhdGluU21hbGxMZXR0ZXJGV2l0aEhvb2tcIjtcclxuICAgIC8vIDE2MCAtIDE3NS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFXaXRoQWN1dGVcIl0gPSAyMjVdID0gXCJsYXRpblNtYWxsTGV0dGVyQVdpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVySVdpdGhBY3V0ZVwiXSA9IDIzN10gPSBcImxhdGluU21hbGxMZXR0ZXJJV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJPV2l0aEFjdXRlXCJdID0gMjQzXSA9IFwibGF0aW5TbWFsbExldHRlck9XaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlclVXaXRoQWN1dGVcIl0gPSAyNTBdID0gXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyTldpdGhUaWxkZVwiXSA9IDI0MV0gPSBcImxhdGluU21hbGxMZXR0ZXJOV2l0aFRpbGRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlck5XaXRoVGlsZGVcIl0gPSAyMDldID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJOV2l0aFRpbGRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZlbWluaW5lT3JkaW5hbEluZGljYXRvclwiXSA9IDE3MF0gPSBcImZlbWluaW5lT3JkaW5hbEluZGljYXRvclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtYXNjdWxpbmVPcmRpbmFsSW5kaWNhdG9yXCJdID0gMTg2XSA9IFwibWFzY3VsaW5lT3JkaW5hbEluZGljYXRvclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbnZlcnRlZFF1ZXN0aW9uTWFya1wiXSA9IDE5MV0gPSBcImludmVydGVkUXVlc3Rpb25NYXJrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJldmVyc2VkTm90U2lnblwiXSA9IDg5NzZdID0gXCJyZXZlcnNlZE5vdFNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibm90U2lnblwiXSA9IDE3Ml0gPSBcIm5vdFNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widnVsZ2FyRnJhY3Rpb25PbmVIYWxmXCJdID0gMTg5XSA9IFwidnVsZ2FyRnJhY3Rpb25PbmVIYWxmXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInZ1bGdhckZyYWN0aW9uT25lUXVhcnRlclwiXSA9IDE4OF0gPSBcInZ1bGdhckZyYWN0aW9uT25lUXVhcnRlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbnZlcnRlZEV4Y2xhbWF0aW9uTWFya1wiXSA9IDE2MV0gPSBcImludmVydGVkRXhjbGFtYXRpb25NYXJrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya1wiXSA9IDE3MV0gPSBcImxlZnRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXCJdID0gMTg3XSA9IFwicmlnaHRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya1wiO1xyXG4gICAgLy8gMTc2IC0gMTkxLlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsaWdodFNoYWRlXCJdID0gOTYxN10gPSBcImxpZ2h0U2hhZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWVkaXVtU2hhZGVcIl0gPSA5NjE4XSA9IFwibWVkaXVtU2hhZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZGFya1NoYWRlXCJdID0gOTYxOV0gPSBcImRhcmtTaGFkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxcIl0gPSA5NDc0XSA9IFwiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZExlZnRcIl0gPSA5NTA4XSA9IFwiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kTGVmdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kTGVmdERvdWJsZVwiXSA9IDk1NjldID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kTGVmdERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kTGVmdFNpbmdsZVwiXSA9IDk1NzBdID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kTGVmdFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRMZWZ0U2luZ2xlXCJdID0gOTU1OF0gPSBcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZExlZnRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kTGVmdERvdWJsZVwiXSA9IDk1NTddID0gXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRMZWZ0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRMZWZ0XCJdID0gOTU3MV0gPSBcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRMZWZ0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxcIl0gPSA5NTUzXSA9IFwiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRMZWZ0XCJdID0gOTU1OV0gPSBcImJveERyYXdpbmdzRG91YmxlRG93bkFuZExlZnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVVcEFuZExlZnRcIl0gPSA5NTY1XSA9IFwiYm94RHJhd2luZ3NEb3VibGVVcEFuZExlZnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcERvdWJsZUFuZExlZnRTaW5nbGVcIl0gPSA5NTY0XSA9IFwiYm94RHJhd2luZ3NVcERvdWJsZUFuZExlZnRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcFNpbmdsZUFuZExlZnREb3VibGVcIl0gPSA5NTYzXSA9IFwiYm94RHJhd2luZ3NVcFNpbmdsZUFuZExlZnREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodERvd25BbmRMZWZ0XCJdID0gOTQ4OF0gPSBcImJveERyYXdpbmdzTGlnaHREb3duQW5kTGVmdFwiO1xyXG4gICAgLy8gMTkyIC0gMjA3LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRSaWdodFwiXSA9IDk0OTJdID0gXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRIb3Jpem9udGFsXCJdID0gOTUyNF0gPSBcImJveERyYXdpbmdzTGlnaHRVcEFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodERvd25BbmRIb3Jpem9udGFsXCJdID0gOTUxNl0gPSBcImJveERyYXdpbmdzTGlnaHREb3duQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRSaWdodFwiXSA9IDk1MDBdID0gXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0SG9yaXpvbnRhbFwiXSA9IDk0NzJdID0gXCJib3hEcmF3aW5nc0xpZ2h0SG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRIb3Jpem9udGFsXCJdID0gOTUzMl0gPSBcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZFJpZ2h0RG91YmxlXCJdID0gOTU2Nl0gPSBcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRSaWdodERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kUmlnaHRTaW5nbGVcIl0gPSA5NTY3XSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZFJpZ2h0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVXBBbmRSaWdodFwiXSA9IDk1NjJdID0gXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kUmlnaHRcIl0gPSA5NTU2XSA9IFwiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVVcEFuZEhvcml6b250YWxcIl0gPSA5NTc3XSA9IFwiYm94RHJhd2luZ3NEb3VibGVVcEFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kSG9yaXpvbnRhbFwiXSA9IDk1NzRdID0gXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRSaWdodFwiXSA9IDk1NjhdID0gXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsXCJdID0gOTU1Ml0gPSBcImJveERyYXdpbmdzRG91YmxlSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kSG9yaXpvbnRhbFwiXSA9IDk1ODBdID0gXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiXSA9IDk1NzVdID0gXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiO1xyXG4gICAgLy8gMjA4IC0gMjIzLlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiXSA9IDk1NzZdID0gXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCJdID0gOTU3Ml0gPSBcImJveERyYXdpbmdzRG93blNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiXSA9IDk1NzNdID0gXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBEb3VibGVBbmRSaWdodFNpbmdsZVwiXSA9IDk1NjFdID0gXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kUmlnaHRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcFNpbmdsZUFuZFJpZ2h0RG91YmxlXCJdID0gOTU2MF0gPSBcImJveERyYXdpbmdzVXBTaW5nbGVBbmRSaWdodERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRSaWdodERvdWJsZVwiXSA9IDk1NTRdID0gXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRSaWdodERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRSaWdodFNpbmdsZVwiXSA9IDk1NTVdID0gXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRSaWdodFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiXSA9IDk1NzldID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiXSA9IDk1NzhdID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRMZWZ0XCJdID0gOTQ5Nl0gPSBcImJveERyYXdpbmdzTGlnaHRVcEFuZExlZnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodERvd25BbmRSaWdodFwiXSA9IDk0ODRdID0gXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZ1bGxCbG9ja1wiXSA9IDk2MDhdID0gXCJmdWxsQmxvY2tcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibG93ZXJIYWxmQmxvY2tcIl0gPSA5NjA0XSA9IFwibG93ZXJIYWxmQmxvY2tcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdEhhbGZCbG9ja1wiXSA9IDk2MTJdID0gXCJsZWZ0SGFsZkJsb2NrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0SGFsZkJsb2NrXCJdID0gOTYxNl0gPSBcInJpZ2h0SGFsZkJsb2NrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVwcGVySGFsZkJsb2NrXCJdID0gOTYwMF0gPSBcInVwcGVySGFsZkJsb2NrXCI7XHJcbiAgICAvLyAyMjQgLSAyMzkuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJBbHBoYVwiXSA9IDk0NV0gPSBcImdyZWVrU21hbGxMZXR0ZXJBbHBoYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyU2hhcnBTXCJdID0gMjIzXSA9IFwibGF0aW5TbWFsbExldHRlclNoYXJwU1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla0NhcGl0YWxMZXR0ZXJHYW1tYVwiXSA9IDkxNV0gPSBcImdyZWVrQ2FwaXRhbExldHRlckdhbW1hXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJQaVwiXSA9IDk2MF0gPSBcImdyZWVrU21hbGxMZXR0ZXJQaVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla0NhcGl0YWxMZXR0ZXJTaWdtYVwiXSA9IDkzMV0gPSBcImdyZWVrQ2FwaXRhbExldHRlclNpZ21hXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJTaWdtYVwiXSA9IDk2M10gPSBcImdyZWVrU21hbGxMZXR0ZXJTaWdtYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtaWNyb1NpZ25cIl0gPSAxODFdID0gXCJtaWNyb1NpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlclRhdVwiXSA9IDk2NF0gPSBcImdyZWVrU21hbGxMZXR0ZXJUYXVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtDYXBpdGFsTGV0dGVyUGhpXCJdID0gOTM0XSA9IFwiZ3JlZWtDYXBpdGFsTGV0dGVyUGhpXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrQ2FwaXRhbExldHRlclRoZXRhXCJdID0gOTIwXSA9IFwiZ3JlZWtDYXBpdGFsTGV0dGVyVGhldGFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtDYXBpdGFsTGV0dGVyT21lZ2FcIl0gPSA5MzddID0gXCJncmVla0NhcGl0YWxMZXR0ZXJPbWVnYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyRGVsdGFcIl0gPSA5NDhdID0gXCJncmVla1NtYWxsTGV0dGVyRGVsdGFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW5maW5pdHlcIl0gPSA4NzM0XSA9IFwiaW5maW5pdHlcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlclBoaVwiXSA9IDk2Nl0gPSBcImdyZWVrU21hbGxMZXR0ZXJQaGlcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlckVwc2lsb25cIl0gPSA5NDldID0gXCJncmVla1NtYWxsTGV0dGVyRXBzaWxvblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbnRlcnNlY3Rpb25cIl0gPSA4NzQ1XSA9IFwiaW50ZXJzZWN0aW9uXCI7XHJcbiAgICAvLyAyNDAgLSAyNTQuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImlkZW50aWNhbFRvXCJdID0gODgwMV0gPSBcImlkZW50aWNhbFRvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBsdXNNaW51c1NpZ25cIl0gPSAxNzddID0gXCJwbHVzTWludXNTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWF0ZXJUaGFuT3JFcXVhbFRvXCJdID0gODgwNV0gPSBcImdyZWF0ZXJUaGFuT3JFcXVhbFRvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlc3NUaGFuT3JFcXVhbFRvXCJdID0gODgwNF0gPSBcImxlc3NUaGFuT3JFcXVhbFRvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInRvcEhhbGZJbnRlZ3JhbFwiXSA9IDg5OTJdID0gXCJ0b3BIYWxmSW50ZWdyYWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm90dG9tSGFsZkludGVncmFsXCJdID0gODk5M10gPSBcImJvdHRvbUhhbGZJbnRlZ3JhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkaXZpc2lvblNpZ25cIl0gPSAyNDddID0gXCJkaXZpc2lvblNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYWxtb3N0RXF1YWxUb1wiXSA9IDg3NzZdID0gXCJhbG1vc3RFcXVhbFRvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRlZ3JlZVNpZ25cIl0gPSAxNzZdID0gXCJkZWdyZWVTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJ1bGxldE9wZXJhdG9yXCJdID0gODcyOV0gPSBcImJ1bGxldE9wZXJhdG9yXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1pZGRsZURvdFwiXSA9IDE4M10gPSBcIm1pZGRsZURvdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzcXVhcmVSb290XCJdID0gODczMF0gPSBcInNxdWFyZVJvb3RcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic3VwZXJzY3JpcHRMYXRpblNtYWxsTGV0dGVyTlwiXSA9IDgzMTldID0gXCJzdXBlcnNjcmlwdExhdGluU21hbGxMZXR0ZXJOXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInN1cGVyc2NyaXB0VHdvXCJdID0gMTc4XSA9IFwic3VwZXJzY3JpcHRUd29cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tTcXVhcmVcIl0gPSA5NjMyXSA9IFwiYmxhY2tTcXVhcmVcIjtcclxufSkoQ2hhckNvZGUgfHwgKENoYXJDb2RlID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhci1jb2RlLmpzLm1hcFxuXG52YXIgX2E7XHJcbnZhciB1bmljb2RlTWFwID0gKF9hID0ge30sXHJcbiAgICAvLyAxIC0gMTUuXHJcbiAgICBfYVtDaGFyQ29kZS53aGl0ZVNtaWxpbmdGYWNlXSA9IDEsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1NtaWxpbmdGYWNlXSA9IDIsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja0hlYXJ0U3VpdF0gPSAzLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tEaWFtb25kU3VpdF0gPSA0LFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tDbHViU3VpdF0gPSA1LFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tTcGFkZVN1aXRdID0gNixcclxuICAgIF9hW0NoYXJDb2RlLmJ1bGxldF0gPSA3LFxyXG4gICAgX2FbQ2hhckNvZGUuaW52ZXJzZUJ1bGxldF0gPSA4LFxyXG4gICAgX2FbQ2hhckNvZGUud2hpdGVDaXJjbGVdID0gOSxcclxuICAgIF9hW0NoYXJDb2RlLmludmVyc2VXaGl0ZUNpcmNsZV0gPSAxMCxcclxuICAgIF9hW0NoYXJDb2RlLm1hbGVTaWduXSA9IDExLFxyXG4gICAgX2FbQ2hhckNvZGUuZmVtYWxlU2lnbl0gPSAxMixcclxuICAgIF9hW0NoYXJDb2RlLmVpZ2h0aE5vdGVdID0gMTMsXHJcbiAgICBfYVtDaGFyQ29kZS5iZWFtZWRFaWdodGhOb3Rlc10gPSAxNCxcclxuICAgIF9hW0NoYXJDb2RlLndoaXRlU3VuV2l0aFJheXNdID0gMTUsXHJcbiAgICAvLyAxNiAtIDMxLlxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tSaWdodFBvaW50aW5nUG9pbnRlcl0gPSAxNixcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrTGVmdFBvaW50aW5nUG9pbnRlcl0gPSAxNyxcclxuICAgIF9hW0NoYXJDb2RlLnVwRG93bkFycm93XSA9IDE4LFxyXG4gICAgX2FbQ2hhckNvZGUuZG91YmxlRXhjbGFtYXRpb25NYXJrXSA9IDE5LFxyXG4gICAgX2FbQ2hhckNvZGUucGlsY3Jvd10gPSAyMCxcclxuICAgIF9hW0NoYXJDb2RlLnNlY3Rpb25TaWduXSA9IDIxLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tSZWN0YW5nbGVdID0gMjIsXHJcbiAgICBfYVtDaGFyQ29kZS51cERvd25BcnJvd1dpdGhCYXNlXSA9IDIzLFxyXG4gICAgX2FbQ2hhckNvZGUudXB3YXJkc0Fycm93XSA9IDI0LFxyXG4gICAgX2FbQ2hhckNvZGUuZG93bndhcmRzQXJyb3ddID0gMjUsXHJcbiAgICBfYVtDaGFyQ29kZS5yaWdodHdhcmRzQXJyb3ddID0gMjYsXHJcbiAgICBfYVtDaGFyQ29kZS5sZWZ0d2FyZHNBcnJvd10gPSAyNyxcclxuICAgIF9hW0NoYXJDb2RlLnJpZ2h0QW5nbGVdID0gMjgsXHJcbiAgICBfYVtDaGFyQ29kZS5sZWZ0UmlnaHRBcnJvd10gPSAyOSxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrVXBQb2ludGluZ1RyaWFuZ2xlXSA9IDMwLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tEb3duUG9pbnRpbmdUcmlhbmdsZV0gPSAzMSxcclxuICAgIC8vIDEyNy5cclxuICAgIF9hW0NoYXJDb2RlLmhvdXNlXSA9IDEyNyxcclxuICAgIC8vIDEyOCAtIDE0My5cclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlckNXaXRoQ2VkaWxsYV0gPSAxMjgsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyVVdpdGhEaWFlcmVzaXNdID0gMTI5LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckVXaXRoQWN1dGVdID0gMTMwLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFXaXRoQ2lyY3VtZmxleF0gPSAxMzEsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQVdpdGhEaWFlcmVzaXNdID0gMTMyLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFXaXRoR3JhdmVdID0gMTMzLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFXaXRoUmluZ0Fib3ZlXSA9IDEzNCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJDV2l0aENlZGlsbGFdID0gMTM1LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckVXaXRoQ2lyY3VtZmxleF0gPSAxMzYsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyRVdpdGhEaWFlcmVzaXNdID0gMTM3LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckVXaXRoR3JhdmVdID0gMTM4LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlcklXaXRoRGlhZXJlc2lzXSA9IDEzOSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJJV2l0aENpcmN1bWZsZXhdID0gMTQwLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlcklXaXRoR3JhdmVdID0gMTQxLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhEaWFlcmVzaXNdID0gMTQyLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhSaW5nQWJvdmVdID0gMTQzLFxyXG4gICAgLy8gMTQ0IC0gMTU5LlxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyRVdpdGhBY3V0ZV0gPSAxNDQsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQWVdID0gMTQ1LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyQWVdID0gMTQ2LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlck9XaXRoQ2lyY3VtZmxleF0gPSAxNDcsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyT1dpdGhEaWFlcmVzaXNdID0gMTQ4LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlck9XaXRoR3JhdmVdID0gMTQ5LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlclVXaXRoQ2lyY3VtZmxleF0gPSAxNTAsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyVVdpdGhHcmF2ZV0gPSAxNTEsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyWVdpdGhEaWFlcmVzaXNdID0gMTUyLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyT1dpdGhEaWFlcmVzaXNdID0gMTUzLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5DYXBpdGFsTGV0dGVyVVdpdGhEaWFlcmVzaXNdID0gMTU0LFxyXG4gICAgX2FbQ2hhckNvZGUuY2VudFNpZ25dID0gMTU1LFxyXG4gICAgX2FbQ2hhckNvZGUucG91bmRTaWduXSA9IDE1NixcclxuICAgIF9hW0NoYXJDb2RlLnllblNpZ25dID0gMTU3LFxyXG4gICAgX2FbQ2hhckNvZGUucGVzZXRhU2lnbl0gPSAxNTgsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyRldpdGhIb29rXSA9IDE1OSxcclxuICAgIC8vIDE2MCAtIDE3NS5cclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBV2l0aEFjdXRlXSA9IDE2MCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJJV2l0aEFjdXRlXSA9IDE2MSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJPV2l0aEFjdXRlXSA9IDE2MixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJVV2l0aEFjdXRlXSA9IDE2MyxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJOV2l0aFRpbGRlXSA9IDE2NCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlck5XaXRoVGlsZGVdID0gMTY1LFxyXG4gICAgX2FbQ2hhckNvZGUuZmVtaW5pbmVPcmRpbmFsSW5kaWNhdG9yXSA9IDE2NixcclxuICAgIF9hW0NoYXJDb2RlLm1hc2N1bGluZU9yZGluYWxJbmRpY2F0b3JdID0gMTY3LFxyXG4gICAgX2FbQ2hhckNvZGUuaW52ZXJ0ZWRRdWVzdGlvbk1hcmtdID0gMTY4LFxyXG4gICAgX2FbQ2hhckNvZGUucmV2ZXJzZWROb3RTaWduXSA9IDE2OSxcclxuICAgIF9hW0NoYXJDb2RlLm5vdFNpZ25dID0gMTcwLFxyXG4gICAgX2FbQ2hhckNvZGUudnVsZ2FyRnJhY3Rpb25PbmVIYWxmXSA9IDE3MSxcclxuICAgIF9hW0NoYXJDb2RlLnZ1bGdhckZyYWN0aW9uT25lUXVhcnRlcl0gPSAxNzIsXHJcbiAgICBfYVtDaGFyQ29kZS5pbnZlcnRlZEV4Y2xhbWF0aW9uTWFya10gPSAxNzMsXHJcbiAgICBfYVtDaGFyQ29kZS5sZWZ0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtdID0gMTc0LFxyXG4gICAgX2FbQ2hhckNvZGUucmlnaHRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya10gPSAxNzUsXHJcbiAgICAvLyAxNzYgLSAxOTEuXHJcbiAgICBfYVtDaGFyQ29kZS5saWdodFNoYWRlXSA9IDE3NixcclxuICAgIF9hW0NoYXJDb2RlLm1lZGl1bVNoYWRlXSA9IDE3NyxcclxuICAgIF9hW0NoYXJDb2RlLmRhcmtTaGFkZV0gPSAxNzgsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxdID0gMTc5LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kTGVmdF0gPSAxODAsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kTGVmdERvdWJsZV0gPSAxODEsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kTGVmdFNpbmdsZV0gPSAxODIsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRMZWZ0U2luZ2xlXSA9IDE4MyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93blNpbmdsZUFuZExlZnREb3VibGVdID0gMTg0LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZExlZnRdID0gMTg1LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbF0gPSAxODYsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRMZWZ0XSA9IDE4NyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVXBBbmRMZWZ0XSA9IDE4OCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBEb3VibGVBbmRMZWZ0U2luZ2xlXSA9IDE4OSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBTaW5nbGVBbmRMZWZ0RG91YmxlXSA9IDE5MCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHREb3duQW5kTGVmdF0gPSAxOTEsXHJcbiAgICAvLyAxOTIgLSAyMDcuXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VXBBbmRSaWdodF0gPSAxOTIsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VXBBbmRIb3Jpem9udGFsXSA9IDE5MyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHREb3duQW5kSG9yaXpvbnRhbF0gPSAxOTQsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRSaWdodF0gPSAxOTUsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0SG9yaXpvbnRhbF0gPSAxOTYsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRIb3Jpem9udGFsXSA9IDE5NyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRSaWdodERvdWJsZV0gPSAxOTgsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kUmlnaHRTaW5nbGVdID0gMTk5LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVVcEFuZFJpZ2h0XSA9IDIwMCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlRG93bkFuZFJpZ2h0XSA9IDIwMSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVXBBbmRIb3Jpem9udGFsXSA9IDIwMixcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlRG93bkFuZEhvcml6b250YWxdID0gMjAzLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZFJpZ2h0XSA9IDIwNCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlSG9yaXpvbnRhbF0gPSAyMDUsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kSG9yaXpvbnRhbF0gPSAyMDYsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZV0gPSAyMDcsXHJcbiAgICAvLyAyMDggLSAyMjMuXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZV0gPSAyMDgsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXSA9IDIwOSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG93bkRvdWJsZUFuZEhvcml6b250YWxTaW5nbGVdID0gMjEwLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcERvdWJsZUFuZFJpZ2h0U2luZ2xlXSA9IDIxMSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBTaW5nbGVBbmRSaWdodERvdWJsZV0gPSAyMTIsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRSaWdodERvdWJsZV0gPSAyMTMsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRSaWdodFNpbmdsZV0gPSAyMTQsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZV0gPSAyMTUsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZV0gPSAyMTYsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0VXBBbmRMZWZ0XSA9IDIxNyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHREb3duQW5kUmlnaHRdID0gMjE4LFxyXG4gICAgX2FbQ2hhckNvZGUuZnVsbEJsb2NrXSA9IDIxOSxcclxuICAgIF9hW0NoYXJDb2RlLmxvd2VySGFsZkJsb2NrXSA9IDIyMCxcclxuICAgIF9hW0NoYXJDb2RlLmxlZnRIYWxmQmxvY2tdID0gMjIxLFxyXG4gICAgX2FbQ2hhckNvZGUucmlnaHRIYWxmQmxvY2tdID0gMjIyLFxyXG4gICAgX2FbQ2hhckNvZGUudXBwZXJIYWxmQmxvY2tdID0gMjIzLFxyXG4gICAgLy8gMjI0IC0gMjM5LlxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlckFscGhhXSA9IDIyNCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJTaGFycFNdID0gMjI1LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtDYXBpdGFsTGV0dGVyR2FtbWFdID0gMjI2LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlclBpXSA9IDIyNyxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrQ2FwaXRhbExldHRlclNpZ21hXSA9IDIyOCxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJTaWdtYV0gPSAyMjksXHJcbiAgICBfYVtDaGFyQ29kZS5taWNyb1NpZ25dID0gMjMwLFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlclRhdV0gPSAyMzEsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla0NhcGl0YWxMZXR0ZXJQaGldID0gMjMyLFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtDYXBpdGFsTGV0dGVyVGhldGFdID0gMjMzLFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtDYXBpdGFsTGV0dGVyT21lZ2FdID0gMjM0LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlckRlbHRhXSA9IDIzNSxcclxuICAgIF9hW0NoYXJDb2RlLmluZmluaXR5XSA9IDIzNixcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJQaGldID0gMjM3LFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtTbWFsbExldHRlckVwc2lsb25dID0gMjM4LFxyXG4gICAgX2FbQ2hhckNvZGUuaW50ZXJzZWN0aW9uXSA9IDIzOSxcclxuICAgIC8vIDI0MCAtIDI1NS5cclxuICAgIF9hW0NoYXJDb2RlLmlkZW50aWNhbFRvXSA9IDI0MCxcclxuICAgIF9hW0NoYXJDb2RlLnBsdXNNaW51c1NpZ25dID0gMjQxLFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlYXRlclRoYW5PckVxdWFsVG9dID0gMjQyLFxyXG4gICAgX2FbQ2hhckNvZGUubGVzc1RoYW5PckVxdWFsVG9dID0gMjQzLFxyXG4gICAgX2FbQ2hhckNvZGUudG9wSGFsZkludGVncmFsXSA9IDI0NCxcclxuICAgIF9hW0NoYXJDb2RlLmJvdHRvbUhhbGZJbnRlZ3JhbF0gPSAyNDUsXHJcbiAgICBfYVtDaGFyQ29kZS5kaXZpc2lvblNpZ25dID0gMjQ2LFxyXG4gICAgX2FbQ2hhckNvZGUuYWxtb3N0RXF1YWxUb10gPSAyNDcsXHJcbiAgICBfYVtDaGFyQ29kZS5kZWdyZWVTaWduXSA9IDI0OCxcclxuICAgIF9hW0NoYXJDb2RlLmJ1bGxldE9wZXJhdG9yXSA9IDI0OSxcclxuICAgIF9hW0NoYXJDb2RlLm1pZGRsZURvdF0gPSAyNTAsXHJcbiAgICBfYVtDaGFyQ29kZS5zcXVhcmVSb290XSA9IDI1MSxcclxuICAgIF9hW0NoYXJDb2RlLnN1cGVyc2NyaXB0TGF0aW5TbWFsbExldHRlck5dID0gMjUyLFxyXG4gICAgX2FbQ2hhckNvZGUuc3VwZXJzY3JpcHRUd29dID0gMjUzLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tTcXVhcmVdID0gMjU0LFxyXG4gICAgX2EpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmljb2RlbWFwLmpzLm1hcFxuXG52YXIgUmV0cm9UZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZXRyb1Rlcm1pbmFsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmV0cm9UZXJtaW5hbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgLy8gQSBjYWNoZSBvZiB0aGUgdGludGVkIGZvbnQgaW1hZ2VzLiBFYWNoIGtleSBpcyBhIGNvbG9yLCBhbmQgdGhlIGltYWdlIGlzIHRoZSBmb250IGluIHRoYXQgY29sb3IuXHJcbiAgICAgICAgX3RoaXMuX2ZvbnRDb2xvckNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIF90aGlzLl9pbWFnZUxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLl9kaXNwbGF5ID0gbmV3IERpc3BsYXkoY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0KTtcclxuICAgICAgICBfdGhpcy5fY2hhcldpZHRoID0gY29uZmlnLmNoYXJXaWR0aDtcclxuICAgICAgICBfdGhpcy5fY2hhckhlaWdodCA9IGNvbmZpZy5jaGFySGVpZ2h0O1xyXG4gICAgICAgIF90aGlzLl9zY2FsZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIC8vIEZvbnRcclxuICAgICAgICBfdGhpcy5fZm9udCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIF90aGlzLl9mb250LnNyYyA9IGNvbmZpZy5pbWFnZVVSTDtcclxuICAgICAgICAvLyBDcmVhdGUgY2FudmFzXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IGNvbmZpZy5jaGFyV2lkdGggKiBjb25maWcud2lkdGg7XHJcbiAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IGNvbmZpZy5jaGFySGVpZ2h0ICogY29uZmlnLmhlaWdodDtcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aCAqIF90aGlzLl9zY2FsZTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICogX3RoaXMuX3NjYWxlO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGNhbnZhc1dpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5tb3VudE5vZGUpIHtcclxuICAgICAgICAgICAgY29uZmlnLm1vdW50Tm9kZS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5fY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICBfdGhpcy5fZm9udC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9pbWFnZUxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmV0cm9UZXJtaW5hbC5wcm90b3R5cGUuZHJhd0dseXBoID0gZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnNldEdseXBoKHBvcywgZ2x5cGgpO1xyXG4gICAgfTtcclxuICAgIFJldHJvVGVybWluYWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5faW1hZ2VMb2FkZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnJlbmRlcihmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgICAgICB2YXIgY2hhciA9IGdseXBoLmNoYXI7XHJcbiAgICAgICAgICAgIC8vIFJlbWFwIGl0IGlmIGl0J3MgYSBVbmljb2RlIGNoYXJhY3RlclxyXG4gICAgICAgICAgICBpZiAodW5pY29kZU1hcFtjaGFyXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyID0gdW5pY29kZU1hcFtjaGFyXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3ggPSAoY2hhciAlIDMyKSAqIF90aGlzLl9jaGFyV2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBzeSA9IE1hdGguZmxvb3IoY2hhciAvIDMyKSAqIF90aGlzLl9jaGFySGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBGaWxsIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGdseXBoLmJhY2suY3NzQ29sb3IoKTtcclxuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQuZmlsbFJlY3QocG9zLnggKiBfdGhpcy5fY2hhcldpZHRoICogX3RoaXMuX3NjYWxlLCBwb3MueSAqIF90aGlzLl9jaGFySGVpZ2h0ICogX3RoaXMuX3NjYWxlLCBfdGhpcy5fY2hhcldpZHRoICogX3RoaXMuX3NjYWxlLCBfdGhpcy5fY2hhckhlaWdodCAqIF90aGlzLl9zY2FsZSk7XHJcbiAgICAgICAgICAgIC8vIERvbnQgYm90aGVyIHdpdGggZW1wdHkgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICBpZiAoY2hhciA9PSAwIHx8IGNoYXIgPT0gQ2hhckNvZGUuc3BhY2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IF90aGlzLmdldENvbG9yRm9udChnbHlwaC5mb3JlKTtcclxuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0LmRyYXdJbWFnZShjb2xvciwgc3gsIHN5LCBfdGhpcy5fY2hhcldpZHRoLCBfdGhpcy5fY2hhckhlaWdodCwgcG9zLnggKiBfdGhpcy5fY2hhcldpZHRoICogX3RoaXMuX3NjYWxlLCBwb3MueSAqIF90aGlzLl9jaGFySGVpZ2h0ICogX3RoaXMuX3NjYWxlLCBfdGhpcy5fY2hhcldpZHRoICogX3RoaXMuX3NjYWxlLCBfdGhpcy5fY2hhckhlaWdodCAqIF90aGlzLl9zY2FsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUmV0cm9UZXJtaW5hbC5wcm90b3R5cGUucGl4ZWxUb0NoYXIgPSBmdW5jdGlvbiAocGl4ZWwpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKChwaXhlbC54IC0gcmVjdC5sZWZ0KSAvIHRoaXMuX2NoYXJXaWR0aCksXHJcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKHBpeGVsLnkgLSByZWN0LnRvcCkgLyB0aGlzLl9jaGFySGVpZ2h0KSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFJldHJvVGVybWluYWwucHJvdG90eXBlLmdldENvbG9yRm9udCA9IGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgIC8vIElmIGNhY2hlZCByZXR1cm5cclxuICAgICAgICB2YXIgY29sb3JOYW1lID0gY29sb3IuY3NzQ29sb3IoKTtcclxuICAgICAgICB2YXIgY2FjaGVkID0gdGhpcy5fZm9udENvbG9yQ2FjaGUuZ2V0KGNvbG9yTmFtZSk7XHJcbiAgICAgICAgaWYgKGNhY2hlZClcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcclxuICAgICAgICAvLyBDcmVhdGUgYSBmb250IHVzaW5nIHRoZSBnaXZlbiBjb2xvci5cclxuICAgICAgICB2YXIgdGludCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRpbnQud2lkdGggPSB0aGlzLl9mb250LndpZHRoO1xyXG4gICAgICAgIHRpbnQuaGVpZ2h0ID0gdGhpcy5fZm9udC5oZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aW50LmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICAvLyBEcmF3IHRoZSBmb250XHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5fZm9udCwgMCwgMCk7XHJcbiAgICAgICAgLy8gVGludCBpdCBieSBmaWxsaW5nIGluIHRoZSBleGlzdGluZyBhbHBoYSB3aXRoIHRoZSBjb2xvclxyXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtYXRvcFwiO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3IuY3NzQ29sb3IoKTtcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuX2ZvbnQud2lkdGgsIHRoaXMuX2ZvbnQuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLl9mb250Q29sb3JDYWNoZS5zZXQoY29sb3JOYW1lLCB0aW50KTtcclxuICAgICAgICByZXR1cm4gdGludDtcclxuICAgIH07XHJcbiAgICAvKiogRGVsZXRlcyB0aGUgdGVybWluYWwsIHJlbW92aW5nIHRoZSBjYW52YXMuICovXHJcbiAgICBSZXRyb1Rlcm1pbmFsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQodGhpcy5fY2FudmFzKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmV0cm9UZXJtaW5hbDtcclxufShSZW5kZXJhYmxlVGVybWluYWwpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV0cm8tdGVybWluYWwuanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXggPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgQ2FudmFzVGVybWluYWw6IENhbnZhc1Rlcm1pbmFsLFxuICAgIEZvbnQ6IEZvbnQsXG4gICAgUmV0cm9UZXJtaW5hbDogUmV0cm9UZXJtaW5hbCxcbiAgICBDb2xvcjogQ29sb3IsXG4gICAgR2x5cGg6IEdseXBoLFxuICAgIGdldCBDaGFyQ29kZSAoKSB7IHJldHVybiBDaGFyQ29kZTsgfSxcbiAgICBCYXNlVGVybWluYWw6IEJhc2VUZXJtaW5hbCxcbiAgICBQb3J0VGVybWluYWw6IFBvcnRUZXJtaW5hbFxufSk7XG5cbnZhciBLZXlDb2RlO1xyXG4oZnVuY3Rpb24gKEtleUNvZGUpIHtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJhY2tzcGFjZVwiXSA9IDhdID0gXCJCYWNrc3BhY2VcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlRhYlwiXSA9IDldID0gXCJUYWJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVudGVyXCJdID0gMTNdID0gXCJFbnRlclwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2hpZnRcIl0gPSAxNl0gPSBcIlNoaWZ0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDdHJsXCJdID0gMTddID0gXCJDdHJsXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBbHRcIl0gPSAxOF0gPSBcIkFsdFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGF1c2VCcmVha1wiXSA9IDE5XSA9IFwiUGF1c2VCcmVha1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2Fwc0xvY2tcIl0gPSAyMF0gPSBcIkNhcHNMb2NrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFc2NhcGVcIl0gPSAyN10gPSBcIkVzY2FwZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU3BhY2VcIl0gPSAzMl0gPSBcIlNwYWNlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYWdlVXBcIl0gPSAzM10gPSBcIlBhZ2VVcFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGFnZURvd25cIl0gPSAzNF0gPSBcIlBhZ2VEb3duXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFbmRcIl0gPSAzNV0gPSBcIkVuZFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSG9tZVwiXSA9IDM2XSA9IFwiSG9tZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTGVmdEFycm93XCJdID0gMzddID0gXCJMZWZ0QXJyb3dcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVwQXJyb3dcIl0gPSAzOF0gPSBcIlVwQXJyb3dcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlJpZ2h0QXJyb3dcIl0gPSAzOV0gPSBcIlJpZ2h0QXJyb3dcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRvd25BcnJvd1wiXSA9IDQwXSA9IFwiRG93bkFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJJbnNlcnRcIl0gPSA0NV0gPSBcIkluc2VydFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGVsZXRlXCJdID0gNDZdID0gXCJEZWxldGVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlplcm9cIl0gPSA0OF0gPSBcIlplcm9cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNsb3NlZFBhcmVuXCJdID0gNDhdID0gXCJDbG9zZWRQYXJlblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT25lXCJdID0gNDldID0gXCJPbmVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkV4Y2xhbWF0aW9uTWFya1wiXSA9IDQ5XSA9IFwiRXhjbGFtYXRpb25NYXJrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUd29cIl0gPSA1MF0gPSBcIlR3b1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQXRTaWduXCJdID0gNTBdID0gXCJBdFNpZ25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlRocmVlXCJdID0gNTFdID0gXCJUaHJlZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUG91bmRTaWduXCJdID0gNTFdID0gXCJQb3VuZFNpZ25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhhc2hcIl0gPSA1MV0gPSBcIkhhc2hcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkZvdXJcIl0gPSA1Ml0gPSBcIkZvdXJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRvbGxhclNpZ25cIl0gPSA1Ml0gPSBcIkRvbGxhclNpZ25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkZpdmVcIl0gPSA1M10gPSBcIkZpdmVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBlcmNlbnRTaWduXCJdID0gNTNdID0gXCJQZXJjZW50U2lnblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2l4XCJdID0gNTRdID0gXCJTaXhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNhcmV0XCJdID0gNTRdID0gXCJDYXJldFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSGF0XCJdID0gNTRdID0gXCJIYXRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNldmVuXCJdID0gNTVdID0gXCJTZXZlblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQW1wZXJzYW5kXCJdID0gNTVdID0gXCJBbXBlcnNhbmRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVpZ2h0XCJdID0gNTZdID0gXCJFaWdodFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU3RhclwiXSA9IDU2XSA9IFwiU3RhclwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQXN0ZXJpa1wiXSA9IDU2XSA9IFwiQXN0ZXJpa1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTmluZVwiXSA9IDU3XSA9IFwiTmluZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT3BlblBhcmVuXCJdID0gNTddID0gXCJPcGVuUGFyZW5cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFcIl0gPSA2NV0gPSBcIkFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJcIl0gPSA2Nl0gPSBcIkJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNcIl0gPSA2N10gPSBcIkNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRcIl0gPSA2OF0gPSBcIkRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVcIl0gPSA2OV0gPSBcIkVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkZcIl0gPSA3MF0gPSBcIkZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkdcIl0gPSA3MV0gPSBcIkdcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhcIl0gPSA3Ml0gPSBcIkhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIklcIl0gPSA3M10gPSBcIklcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkpcIl0gPSA3NF0gPSBcIkpcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktcIl0gPSA3NV0gPSBcIktcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxcIl0gPSA3Nl0gPSBcIkxcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1cIl0gPSA3N10gPSBcIk1cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5cIl0gPSA3OF0gPSBcIk5cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9cIl0gPSA3OV0gPSBcIk9cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBcIl0gPSA4MF0gPSBcIlBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlFcIl0gPSA4MV0gPSBcIlFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlJcIl0gPSA4Ml0gPSBcIlJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNcIl0gPSA4M10gPSBcIlNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlRcIl0gPSA4NF0gPSBcIlRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVcIl0gPSA4NV0gPSBcIlVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlZcIl0gPSA4Nl0gPSBcIlZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIldcIl0gPSA4N10gPSBcIldcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlhcIl0gPSA4OF0gPSBcIlhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIllcIl0gPSA4OV0gPSBcIllcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlpcIl0gPSA5MF0gPSBcIlpcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxlZnRXaW5kb3dLZXlcIl0gPSA5MV0gPSBcIkxlZnRXaW5kb3dLZXlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlJpZ2h0V2luZG93S2V5XCJdID0gOTJdID0gXCJSaWdodFdpbmRvd0tleVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2VsZWN0S2V5XCJdID0gOTNdID0gXCJTZWxlY3RLZXlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDBcIl0gPSA5Nl0gPSBcIk51bXBhZDBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDFcIl0gPSA5N10gPSBcIk51bXBhZDFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDJcIl0gPSA5OF0gPSBcIk51bXBhZDJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDNcIl0gPSA5OV0gPSBcIk51bXBhZDNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDRcIl0gPSAxMDBdID0gXCJOdW1wYWQ0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ1XCJdID0gMTAxXSA9IFwiTnVtcGFkNVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkNlwiXSA9IDEwMl0gPSBcIk51bXBhZDZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDdcIl0gPSAxMDNdID0gXCJOdW1wYWQ3XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ4XCJdID0gMTA0XSA9IFwiTnVtcGFkOFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkOVwiXSA9IDEwNV0gPSBcIk51bXBhZDlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk11bHRpcGx5XCJdID0gMTA2XSA9IFwiTXVsdGlwbHlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFkZFwiXSA9IDEwN10gPSBcIkFkZFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU3VidHJhY3RcIl0gPSAxMDldID0gXCJTdWJ0cmFjdFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGVjaW1hbFBvaW50XCJdID0gMTEwXSA9IFwiRGVjaW1hbFBvaW50XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEaXZpZGVcIl0gPSAxMTFdID0gXCJEaXZpZGVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxXCJdID0gMTEyXSA9IFwiRjFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYyXCJdID0gMTEzXSA9IFwiRjJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYzXCJdID0gMTE0XSA9IFwiRjNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY0XCJdID0gMTE1XSA9IFwiRjRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY1XCJdID0gMTE2XSA9IFwiRjVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY2XCJdID0gMTE3XSA9IFwiRjZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY3XCJdID0gMTE4XSA9IFwiRjdcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY4XCJdID0gMTE5XSA9IFwiRjhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY5XCJdID0gMTIwXSA9IFwiRjlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMFwiXSA9IDEyMV0gPSBcIkYxMFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjExXCJdID0gMTIyXSA9IFwiRjExXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTJcIl0gPSAxMjNdID0gXCJGMTJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bUxvY2tcIl0gPSAxNDRdID0gXCJOdW1Mb2NrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTY3JvbGxMb2NrXCJdID0gMTQ1XSA9IFwiU2Nyb2xsTG9ja1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2VtaUNvbG9uXCJdID0gMTg2XSA9IFwiU2VtaUNvbG9uXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFcXVhbHNcIl0gPSAxODddID0gXCJFcXVhbHNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNvbW1hXCJdID0gMTg4XSA9IFwiQ29tbWFcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRhc2hcIl0gPSAxODldID0gXCJEYXNoXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQZXJpb2RcIl0gPSAxOTBdID0gXCJQZXJpb2RcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVuZGVyU2NvcmVcIl0gPSAxODldID0gXCJVbmRlclNjb3JlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQbHVzU2lnblwiXSA9IDE4N10gPSBcIlBsdXNTaWduXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGb3J3YXJkU2xhc2hcIl0gPSAxOTFdID0gXCJGb3J3YXJkU2xhc2hcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlRpbGRlXCJdID0gMTkyXSA9IFwiVGlsZGVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkdyYXZlQWNjZW50XCJdID0gMTkyXSA9IFwiR3JhdmVBY2NlbnRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9wZW5CcmFja2V0XCJdID0gMjE5XSA9IFwiT3BlbkJyYWNrZXRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNsb3NlZEJyYWNrZXRcIl0gPSAyMjFdID0gXCJDbG9zZWRCcmFja2V0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJRdW90ZVwiXSA9IDIyMl0gPSBcIlF1b3RlXCI7XHJcbn0pKEtleUNvZGUgfHwgKEtleUNvZGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXljb2RlLmpzLm1hcFxuXG4vKipcclxuICogUmVwcmVzZW50cyBhIGdsb2JhbCBrZXlib2FyZC4gV2lsbCBsaWtlbHkgb25seSBjcmVhdGUgb25lIHBlciBhcHAuXHJcbiAqXHJcbiAqIFlvdSBjYW4gYmluZC9zd2l0Y2ggS2V5Ym9hcmRDb250ZXh0cyB0byB0aGUgS2V5Ym9hcmQgaGFuZGxlclxyXG4gKiB0byBjaGFuZ2UgaW5wdXQgJ21vZGVzJy5cclxuICovXHJcbnZhciBLZXlib2FyZEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBLZXlib2FyZEhhbmRsZXIgKi9cclxuICAgIGZ1bmN0aW9uIEtleWJvYXJkSGFuZGxlcigpIHtcclxuICAgICAgICB0aGlzLl9pc0Rvd24gPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd25FdmVudC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5vbktleVVwRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLm9uS2V5RG93bkV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLl9pc0Rvd24uYWRkKGUua2V5Q29kZSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ICYmIHRoaXMuY29udGV4dC5maXJlT25Eb3duKGUua2V5Q29kZSk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuICAgIEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUub25LZXlVcEV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLl9pc0Rvd24uZGVsZXRlKGUua2V5Q29kZSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ICYmIHRoaXMuY29udGV4dC5maXJlT25VcChlLmtleUNvZGUpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBjb250ZXh0IG9mIHRoZSBrZXlib2FyZCBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgS2V5Ym9hcmRDb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gdXNlXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgYWN0aXZlIGNvbnRleHQgZm9yIHRoZSBrZXlib2FyZCBoYW5kbGVyLlxyXG4gICAgICovXHJcbiAgICBLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLmNsZWFyQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaWYgYSBrZXkgaXMgY3VycmVudGx5IGhlbGQgZG93bi5cclxuICAgICAqIEBwYXJhbSBrZXlDb2RlIEtleUNvZGUgfCBudW1iZXIgLSBUaGUga2V5Q29kZSB0byBjaGVja1xyXG4gICAgICovXHJcbiAgICBLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLmlzS2V5RG93biA9IGZ1bmN0aW9uIChrZXlDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRG93bi5oYXMoa2V5Q29kZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEtleWJvYXJkSGFuZGxlcjtcclxufSgpKTtcclxuLyoqIFJlcHJlc2VudHMgYSBrZXlib2FyZCAnbW9kZScsIGxpa2UgbmF2aWdhdGluZyBhIG1lbnUgb3Igd29ybGQuICovXHJcbnZhciBLZXlib2FyZENvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBLZXlib2FyZENvbnRleHQoKSB7XHJcbiAgICAgICAgdGhpcy5fb25Eb3duID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuX29uVXAgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIGNhbGxiYWNrIG9uIEtleURvd25cclxuICAgICAqIEBwYXJhbSBrZXkgS2V5Q29kZSB8IG51bWJlciAtIFRoZSBLZXkgdG8gbW9uaXRvclxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrICgpID0+IHZvaWQgLSBUaGUgY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRDb250ZXh0LnByb3RvdHlwZS5vbkRvd24gPSBmdW5jdGlvbiAoa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29uRG93bi5zZXQoa2V5LCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyBjYWxsYmFjayBvbiBLZXlVcFxyXG4gICAgICogQHBhcmFtIGtleSBLZXlDb2RlIHwgbnVtYmVyIC0gVGhlIEtleSB0byBtb25pdG9yXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKCkgPT4gdm9pZCAtIFRoZSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBLZXlib2FyZENvbnRleHQucHJvdG90eXBlLm9uVXAgPSBmdW5jdGlvbiAoa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29uVXAuc2V0KGtleSwgY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJvZ3JhbW1hdGljYWxseSBmaXJlIGEgY2FsbGJhY2sgYXMgaWYgYSBrZXkgd2FzIHByZXNzZWQuXHJcbiAgICAgKiBAcGFyYW0ga2V5IEtleUNvZGUgfCBudW1iZXIgLSBUaGUgS2V5IHRvIG1vbml0b3JcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRDb250ZXh0LnByb3RvdHlwZS5maXJlT25Eb3duID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBmbiA9IHRoaXMuX29uRG93bi5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoZm4pXHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9ncmFtbWF0aWNhbGx5IGZpcmUgYSBjYWxsYmFjayBhcyBpZiBhIGtleSB3YXMgbGlmdGVkLlxyXG4gICAgICogQHBhcmFtIGtleSBLZXlDb2RlIHwgbnVtYmVyIC0gVGhlIEtleSB0byBtb25pdG9yXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkQ29udGV4dC5wcm90b3R5cGUuZmlyZU9uVXAgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGZuID0gdGhpcy5fb25VcC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoZm4pXHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEtleWJvYXJkQ29udGV4dDtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5Ym9hcmQuanMubWFwXG5cbi8qKiBBYnN0cmFjdHMgYnJvd3NlciBtb3VzZSBpbnB1dCAqL1xyXG52YXIgTW91c2VIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgTW91c2UgSGFuZGxlciAqL1xyXG4gICAgZnVuY3Rpb24gTW91c2VIYW5kbGVyKCkge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLl9pc0Rvd24gPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VVcGRhdGVFdmVudC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5vbk1vdXNlVXBkYXRlRXZlbnQuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbk1vdXNlRG93bkV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLm9uTW91c2VEb3duRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuX2lzRG93bi5hZGQoZS5idXR0b24pO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBlLnBhZ2VYO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGUucGFnZVk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jYWxsT25Nb3VzZURvd24oeyB4OiB4LCB5OiB5IH0sIGUuYnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5vbk1vdXNlVXBFdmVudCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy5faXNEb3duLmRlbGV0ZShlLmJ1dHRvbik7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IGUucGFnZVg7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZS5wYWdlWTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbGxPbk1vdXNlVXAoeyB4OiB4LCB5OiB5IH0sIGUuYnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5vbk1vdXNlVXBkYXRlRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMueCA9IGUucGFnZVg7XHJcbiAgICAgICAgdGhpcy55ID0gZS5wYWdlWTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW91c2UgYnV0dG9uIGlzIGRvd24uXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gbnVtYmVyIC0gRGVmYXVsdCAwIGZvciBsZWZ0IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLmlzTW91c2VEb3duID0gZnVuY3Rpb24gKG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRG93bi5oYXMobW91c2VCdXR0b24pO1xyXG4gICAgfTtcclxuICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHdpbmRvdyBwb3NpdGlvbiBvZiB0aGUgbW91c2UgKi9cclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUuZ2V0UG9zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMueCxcclxuICAgICAgICAgICAgeTogdGhpcy55LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBhY3RpdmUgbW91c2UgY29udGV4dFxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgTW91c2VDb250ZXh0XHJcbiAgICAgKi9cclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIH07XHJcbiAgICAvKiogQ2xlYXJzIHRoZSBhY3RpdmUgbW91c2UgY29udGV4dCAqL1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5jbGVhckNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNb3VzZUhhbmRsZXI7XHJcbn0oKSk7XHJcbnZhciBNb3VzZUNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNb3VzZUNvbnRleHQoKSB7XHJcbiAgICAgICAgdGhpcy5vbkRvd24gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vblVwID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayBmb3IgYSBtb3VzZWRvd24gZXZlbnRcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIG1vdXNlZG93blxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiBudW1iZXIuIERlZmF1bHQgMCBmb3IgbGVmdCBjbGljay5cclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB0aGlzLm9uRG93bi5zZXQobW91c2VCdXR0b24sIGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIGZvciBhIG1vdXNldXAgZXZlbnRcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIG1vdXNldXBcclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gbnVtYmVyLiBEZWZhdWx0IDAgZm9yIGxlZnQgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHRoaXMub25VcC5zZXQobW91c2VCdXR0b24sIGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhIHJlZ2lzdGVyZWQgZnVuY3Rpb24gZm9yIG1vdXNlZG93blxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiB0byBjbGVhci4gRGVmYXVsdCAwIGZvciBsZWZ0IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLmNsZWFyTW91c2VEb3duID0gZnVuY3Rpb24gKG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdGhpcy5vbkRvd24uZGVsZXRlKG1vdXNlQnV0dG9uKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhIHJlZ2lzdGVyZWQgZnVuY3Rpb24gZm9yIG1vdXNldXBcclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gdG8gY2xlYXIuIERlZmF1bHQgMCBmb3IgbGVmdCBjbGljay5cclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5jbGVhck1vdXNlVXAgPSBmdW5jdGlvbiAobW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB0aGlzLm9uVXAuZGVsZXRlKG1vdXNlQnV0dG9uKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZXMgYSByZWdpc3RlcmVkIGNhbGxiYWNrIGZvciBtb3VzZWRvd25cclxuICAgICAqIEBwYXJhbSBwb3MgVmVjdG9yMiAtIFRoZSBwb3MgZm9yIHRoZSBtb3VzZVxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiBwcmVzc2VkXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUuY2FsbE9uTW91c2VEb3duID0gZnVuY3Rpb24gKHBvcywgbW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLm9uRG93bi5nZXQobW91c2VCdXR0b24pO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaylcclxuICAgICAgICAgICAgY2FsbGJhY2socG9zKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZXMgYSByZWdpc3RlcmVkIGNhbGxiYWNrIGZvciBtb3VzZXVwXHJcbiAgICAgKiBAcGFyYW0gcG9zXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b25cclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5jYWxsT25Nb3VzZVVwID0gZnVuY3Rpb24gKHBvcywgbW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLm9uVXAuZ2V0KG1vdXNlQnV0dG9uKTtcclxuICAgICAgICBpZiAoY2FsbGJhY2spXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHBvcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1vdXNlQ29udGV4dDtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW91c2UuanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXgkMSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBnZXQgS2V5Q29kZSAoKSB7IHJldHVybiBLZXlDb2RlOyB9LFxuICAgIEtleWJvYXJkQ29udGV4dDogS2V5Ym9hcmRDb250ZXh0LFxuICAgIEtleWJvYXJkSGFuZGxlcjogS2V5Ym9hcmRIYW5kbGVyLFxuICAgIE1vdXNlSGFuZGxlcjogTW91c2VIYW5kbGVyLFxuICAgIE1vdXNlQ29udGV4dDogTW91c2VDb250ZXh0XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLmpzLm1hcFxuXG4vLyBUb0RvIC0gTWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50IHZpYSBoZWFwXHJcbnZhciBQcmlvcml0eVF1ZXVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJpb3JpdHlRdWV1ZShwcmlvcml0eUZ1bmMpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLnByaW9yaXR5RnVuYyA9IHByaW9yaXR5RnVuYztcclxuICAgIH1cclxuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHNjb3JlID0gdGhpcy5wcmlvcml0eUZ1bmMoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5kYXRhLnB1c2goW3Njb3JlLCBkYXRhXSk7XHJcbiAgICB9O1xyXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgbWluID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIG1pbkluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKF9hLCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gX2FbMF0sIGQgPSBfYVsxXTtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgbWluID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgbWluSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbbWluSW5kZXhdWzFdO1xyXG4gICAgfTtcclxuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgbWluID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIG1pbkluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKF9hLCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gX2FbMF0sIGQgPSBfYVsxXTtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgbWluID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgbWluSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBwb3BwZWQgPSB0aGlzLmRhdGEuc3BsaWNlKG1pbkluZGV4LCAxKTtcclxuICAgICAgICByZXR1cm4gcG9wcGVkWzBdWzFdO1xyXG4gICAgfTtcclxuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByaW9yaXR5UXVldWU7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaW9yaXR5LXF1ZXVlLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDIgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgVGFibGU6IFRhYmxlLFxuICAgIFByaW9yaXR5UXVldWU6IFByaW9yaXR5UXVldWVcbn0pO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbnF1aW5sYW4vYmV0dGVyLXJhbmRvbS1udW1iZXJzLWZvci1qYXZhc2NyaXB0LW1pcnJvclxyXG4vLyBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLmNvbT4sIDIwMTBcclxuZnVuY3Rpb24gTWFzaCgpIHtcclxuICAgIHZhciBuID0gMHhlZmM4MjQ5ZDtcclxuICAgIHZhciBtYXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBkYXRhID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBuICs9IGRhdGEuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgdmFyIGggPSAwLjAyNTE5NjAzMjgyNDE2OTM4ICogbjtcclxuICAgICAgICAgICAgbiA9IGggPj4+IDA7XHJcbiAgICAgICAgICAgIGggLT0gbjtcclxuICAgICAgICAgICAgaCAqPSBuO1xyXG4gICAgICAgICAgICBuID0gaCA+Pj4gMDtcclxuICAgICAgICAgICAgaCAtPSBuO1xyXG4gICAgICAgICAgICBuICs9IGggKiAweDEwMDAwMDAwMDsgLy8gMl4zMlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKG4gPj4+IDApICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcclxuICAgIH07XHJcbiAgICByZXR1cm4gbWFzaDtcclxufVxyXG52YXIgQWxlYVJORyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFsZWFSTkcoc2VlZCkge1xyXG4gICAgICAgIHRoaXMuczAgPSAwO1xyXG4gICAgICAgIHRoaXMuczEgPSAwO1xyXG4gICAgICAgIHRoaXMuczIgPSAwO1xyXG4gICAgICAgIHRoaXMuYyA9IDA7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBzZWVkIGlmIG5lZWRlZFxyXG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQgPT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKCkudG9TdHJpbmcoKSA6IHNlZWQ7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgQWxlYVJORy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1hc2ggPSBNYXNoKCk7XHJcbiAgICAgICAgLy8gSW5pdGlhbCBtYXNoZXNcclxuICAgICAgICB0aGlzLnMwID0gbWFzaChcIiBcIik7XHJcbiAgICAgICAgdGhpcy5zMSA9IG1hc2goXCIgXCIpO1xyXG4gICAgICAgIHRoaXMuczIgPSBtYXNoKFwiIFwiKTtcclxuICAgICAgICB0aGlzLmMgPSAxO1xyXG4gICAgICAgIHRoaXMuczAgLT0gbWFzaCh0aGlzLnNlZWQpO1xyXG4gICAgICAgIHRoaXMuczEgLT0gbWFzaCh0aGlzLnNlZWQpO1xyXG4gICAgICAgIHRoaXMuczIgLT0gbWFzaCh0aGlzLnNlZWQpO1xyXG4gICAgICAgIHRoaXMuc2FuaXRpemUoKTtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5zYW5pdGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zMCA8IDApXHJcbiAgICAgICAgICAgIHRoaXMuczAgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5zMSA8IDApXHJcbiAgICAgICAgICAgIHRoaXMuczEgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5zMiA8IDApXHJcbiAgICAgICAgICAgIHRoaXMuczIgKz0gMTtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRoZSBkYXJrIG1hZ2ljIHRoYXQgbWFrZXMgdGhlIG51bWJlciBnZW5lcmF0b3IgcnVuXHJcbiAgICAgICAgdmFyIHQgPSAyMDkxNjM5ICogdGhpcy5zMCArIHRoaXMuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXHJcbiAgICAgICAgdGhpcy5zMCA9IHRoaXMuczE7XHJcbiAgICAgICAgdGhpcy5zMSA9IHRoaXMuczI7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnMyID0gdCAtICh0aGlzLmMgPSB0IHwgMCkpO1xyXG4gICAgfTtcclxuICAgIC8vIFJldHVybnMgYmV0d2VlbiBbMCwxKVxyXG4gICAgQWxlYVJORy5wcm90b3R5cGUubmV4dFJhbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0ZXAoKSArICgodGhpcy5zdGVwKCkgKiAweDIwMDAwMCkgfCAwKSAqIDEuMTEwMjIzMDI0NjI1MTU2NWUtMTYpOyAvLyAyXi01M1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICAgICAgICBpZiAobWluID09PSB2b2lkIDApIHsgbWluID0gMDsgfVxyXG4gICAgICAgIGlmIChtYXggPT09IHZvaWQgMCkgeyBtYXggPSAxOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFJhbmQoKSAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLm5leHRJbnQgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICAgICAgICBpZiAobWluID09PSB2b2lkIDApIHsgbWluID0gMDsgfVxyXG4gICAgICAgIGlmIChtYXggPT09IHZvaWQgMCkgeyBtYXggPSAxMDA7IH1cclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLm5leHQoKSAqIChtYXggLSBtaW4pICsgbWluKTtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5uZXh0Qm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0UmFuZCgpID4gMC41O1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLm5leHRJdGVtID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgaSA9IHRoaXMubmV4dEludCgwLCBhcnJheS5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBhcnJheVtpXTtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBjbG9uZSA9IGFycmF5LnNsaWNlKCk7XHJcbiAgICAgICAgd2hpbGUgKGNsb25lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5leHRJbnQoMCwgY2xvbmUubGVuZ3RoKTtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY2xvbmUuc3BsaWNlKGluZGV4LCAxKVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGEgPSBuZXcgQWxlYVJORygpO1xyXG4gICAgICAgIGEuczAgPSB0aGlzLnMwO1xyXG4gICAgICAgIGEuczEgPSB0aGlzLnMxO1xyXG4gICAgICAgIGEuczIgPSB0aGlzLnMyO1xyXG4gICAgICAgIGEuYyA9IHRoaXMuYztcclxuICAgICAgICByZXR1cm4gYTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWxlYVJORztcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxlYS5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIEFsZWFSTkc6IEFsZWFSTkdcbn0pO1xuXG4vKiogQ29udGFpbnMgbWF0aCBmb3IgY29tbW9uIHZlY3RvciBvcGVyYXRpb25zLiAqL1xyXG52YXIgVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmVjdG9yKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdHdvIHZlY3RvcnMgaGF2ZSB0aGUgc2FtZSB4IGFuZCB5IHZhbHVlcy5cclxuICAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgVmVjdG9yMi5cclxuICAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIFZlY3RvcjIuXHJcbiAgICAgKi9cclxuICAgIFZlY3Rvci5hcmVFcXVhbCA9IGZ1bmN0aW9uICh2MSwgdjIpIHtcclxuICAgICAgICByZXR1cm4gdjEueCA9PT0gdjIueCAmJiB2MS55ID09PSB2Mi55O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjdG9ycy5cclxuICAgICAqXHJcbiAgICAgKiBJZiBubyB0b3BvbG9neSBpcyBnaXZlbiwgZGlhZ29uYWwgZGlzdGFuY2UgaXMgc3FydCgyKS5cclxuICAgICAqIElmIHRvcG9sb2d5IGlzIGZvdXIsIGRpYWdvbmFsIGRpc3RhbmNlIGlzIDIuXHJcbiAgICAgKiBJZiB0b3BvbG9neSBpcyBlaWdodCwgZGlhZ29uYWwgZGlzdGFuY2UgaXMgMS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3RhcnQgVGhlIHN0YXJ0aW5nIFZlY3RvcjIuXHJcbiAgICAgKiBAcGFyYW0gZW5kIFRoZSBlbmRpbmcgVmVjdG9yMi5cclxuICAgICAqIEBwYXJhbSB0b3BvbG9neSBDYW4gdXNlIFwiZm91clwiIG9yIFwiZWlnaHRcIiBmb3Igbm9uLWNhcnRlc2lhbiBkaXN0YW5jZXMuXHJcbiAgICAgKi9cclxuICAgIFZlY3Rvci5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCB0b3BvbG9neSkge1xyXG4gICAgICAgIGlmICh0b3BvbG9neSA9PT0gXCJmb3VyXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXJ0LnggLSBlbmQueCkgKyBNYXRoLmFicyhzdGFydC55IC0gZW5kLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b3BvbG9neSA9PT0gXCJlaWdodFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLmFicyhzdGFydC54IC0gZW5kLngpLCBNYXRoLmFicyhzdGFydC55IC0gZW5kLnkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gc3RhcnQueCAtIGVuZC54O1xyXG4gICAgICAgICAgICB2YXIgYiA9IHN0YXJ0LnkgLSBlbmQueTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaWxsIGZpbmQgdGhlIGNlbnRlciBvZiBhbiBhcmVhIGJ5IGF2ZXJhZ2luZyBhbGwgVmVjdG9ycyBpbiB0aGUgYXJlYS5cclxuICAgICAqIFRoaXMgcG9pbnQgbWF5IG5vdCBiZSBpbiB0aGUgYXJlYSBpdHNlbGYsIGZvciBleGFtcGxlIGluIGEgZG9udXQgc2hhcGVkIGFyZWEuXHJcbiAgICAgKiBAcGFyYW0gYXJlYSBWZWN0b3IyXHJcbiAgICAgKi9cclxuICAgIFZlY3Rvci5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoYXJlYSkge1xyXG4gICAgICAgIGlmIChhcmVhLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFRyeWluZyB0byBmaW5kIGNlbnRlciBvZiBlbXB0eSBhcmVhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3ggPSAwO1xyXG4gICAgICAgIHZhciBzeSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBhcmVhXzEgPSBhcmVhOyBfaSA8IGFyZWFfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBhcmVhXzFbX2ldO1xyXG4gICAgICAgICAgICBzeCArPSB2Lng7XHJcbiAgICAgICAgICAgIHN5ICs9IHYueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogc3ggLyBhcmVhLmxlbmd0aCxcclxuICAgICAgICAgICAgeTogc3kgLyBhcmVhLmxlbmd0aCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBmaW5kIHRoZSBwb3NpdGlvbiBpbiB0aGUgYXJlYSBjbG9zZXN0IHRvIHRoZSB0YXJnZXRcclxuICAgICAqIEBwYXJhbSBhcmVhIFZlY3RvcjJbXVxyXG4gICAgICogQHBhcmFtIHRhcmdldCBWZWN0b3IyXHJcbiAgICAgKiBAcGFyYW0gdG9wb2xvZ3kgRWl0aGVyICdmb3VyJyBvciAnZWlnaHQnLiBEZWZhdWx0ICdmb3VyJ1xyXG4gICAgICovXHJcbiAgICBWZWN0b3IuZ2V0Q2xvc2VzdCA9IGZ1bmN0aW9uIChhcmVhLCB0YXJnZXQsIHRvcG9sb2d5KSB7XHJcbiAgICAgICAgaWYgKHRvcG9sb2d5ID09PSB2b2lkIDApIHsgdG9wb2xvZ3kgPSBcImZvdXJcIjsgfVxyXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIGFyZWEgaXMgZW1wdHlcclxuICAgICAgICBpZiAoYXJlYS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yOiBUcnlpbmcgdG8gZmluZCBjbG9zZXN0IHBvc2l0aW9uIG9mIGFuIGVtcHR5IGFyZWFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGNsb3Nlc3Qgd2UndmUgZm91bmQuXHJcbiAgICAgICAgdmFyIG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIGNsb3Nlc3QgPSBhcmVhWzBdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgYXJlYV8yID0gYXJlYTsgX2kgPCBhcmVhXzIubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gYXJlYV8yW19pXTtcclxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gVmVjdG9yLmdldERpc3RhbmNlKHRhcmdldCwgdiwgdG9wb2xvZ3kpO1xyXG4gICAgICAgICAgICAvLyBGb3VuZCBleGFjdCBvbmUsIGltbWVkaWF0ZWx5IHJldHVyblxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogdGFyZ2V0LngsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogdGFyZ2V0LnksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENsb3NlciB0aGFuIGN1cnJlbnRseSBrbm93blxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSB2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9zZXN0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWZWN0b3I7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbmZ1bmN0aW9uIGdldFJpbmc4KG9yaWdpblgsIG9yaWdpblksIHJhbmdlKSB7XHJcbiAgICBpZiAocmFuZ2UgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIFt7IHg6IG9yaWdpblgsIHk6IG9yaWdpblkgfV07XHJcbiAgICB2YXIgcmluZyA9IFtdO1xyXG4gICAgdmFyIG1heFggPSBvcmlnaW5YICsgcmFuZ2U7XHJcbiAgICB2YXIgbWluWCA9IG9yaWdpblggLSByYW5nZTtcclxuICAgIHZhciBtYXhZID0gb3JpZ2luWSArIHJhbmdlO1xyXG4gICAgdmFyIG1pblkgPSBvcmlnaW5ZIC0gcmFuZ2U7XHJcbiAgICAvL1N0YXJ0IGF0IHRoZSAzIG8nY2xvY2ssICgwIGRlZ3JlZXMpLCByb3RhdGUgYWxsIHRoZSB3YXkgYXJvdW5kXHJcbiAgICAvLyBUb3AgUmlnaHQgU2lkZSwgbm8gY29ybmVyXHJcbiAgICBmb3IgKHZhciB4ID0gbWF4WCwgeSA9IG9yaWdpblk7IHkgPiBtaW5ZOyB5LS0pIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gVG9wIFNpZGUsIHJpZ2h0IHRvIGxlZnQuIEluY2x1ZGUgdG9wIGNvcm5lcnNcclxuICAgIGZvciAodmFyIHggPSBtYXhYLCB5ID0gbWluWTsgeCA+PSBtaW5YOyB4LS0pIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTGVmdCBzaWRlLCBubyBjb3JuZXJzXHJcbiAgICBmb3IgKHZhciB4ID0gbWluWCwgeSA9IG1pblkgKyAxOyB5IDwgbWF4WTsgeSsrKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIEJvdHRvbSBzaWRlLCBjb3JuZXJzXHJcbiAgICBmb3IgKHZhciB4ID0gbWluWCwgeSA9IG1heFk7IHggPD0gbWF4WDsgeCsrKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIFJpZ2h0IHNpZGUgYmFjayB0byB0byAwIGRlZ3JlZXMsIG5vIGNvcm5lclxyXG4gICAgZm9yICh2YXIgeCA9IG1heFgsIHkgPSBtYXhZIC0gMTsgeSA+IG9yaWdpblk7IHktLSkge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmluZztcclxufVxyXG5mdW5jdGlvbiBnZXRSaW5nNChvcmlnaW5YLCBvcmlnaW5ZLCByYW5nZSkge1xyXG4gICAgaWYgKHJhbmdlID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgeDogb3JpZ2luWCxcclxuICAgICAgICAgICAgICAgIHk6IG9yaWdpblksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIHZhciByaW5nID0gW107XHJcbiAgICB2YXIgbWF4WCA9IG9yaWdpblggKyByYW5nZTtcclxuICAgIHZhciBtaW5YID0gb3JpZ2luWCAtIHJhbmdlO1xyXG4gICAgdmFyIG1heFkgPSBvcmlnaW5ZICsgcmFuZ2U7XHJcbiAgICB2YXIgbWluWSA9IG9yaWdpblkgLSByYW5nZTtcclxuICAgIC8vIFRvcCByaWdodCBhcmNcclxuICAgIGZvciAodmFyIHggPSBtYXhYLCB5ID0gb3JpZ2luWTsgeCA+IG9yaWdpblg7IHgtLSwgeS0tKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIFRvcCBsZWZ0IGFyY1xyXG4gICAgZm9yICh2YXIgeCA9IG9yaWdpblgsIHkgPSBtaW5ZOyB4ID4gbWluWDsgeC0tLCB5KyspIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQm90dG9tIGxlZnQgYXJjXHJcbiAgICBmb3IgKHZhciB4ID0gbWluWCwgeSA9IG9yaWdpblk7IHggPCBvcmlnaW5YOyB4KyssIHkrKykge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBCb3R0b20gcmlnaHQgYXJjXHJcbiAgICBmb3IgKHZhciB4ID0gb3JpZ2luWCwgeSA9IG1heFk7IHggPCBtYXhYOyB4KyssIHktLSkge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmluZztcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtcmluZy5qcy5tYXBcblxudmFyIEFTdGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gR2VuZXJhbCBwYXJhbWV0ZXJzIGZvciB0aGUgQVN0YXIgUGF0aGZpbmRlclxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5pc0Jsb2NrZWRDYWxsYmFjayAtIFJldHVybiB0cnVlIGlmIHRoZSBwb3NpdGlvbiBpcyBibG9ja2VkLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy50b3BvbG9neSAtIGZvdXIgfCBlaWdodFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBBU3Rhcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLmlzQmxvY2tlZCA9IGNvbmZpZy5pc0Jsb2NrZWRDYWxsYmFjaztcclxuICAgICAgICB0aGlzLnRvcG9sb2d5ID0gY29uZmlnLnRvcG9sb2d5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIG5laWdodGJvcnMgb2YgYSBwb2ludC4gUmV0dXJucyBvcnRob2dvbmFsXHJcbiAgICAgKiBkaXJlY3Rpb25zIGZpcnN0LCB0aGVuIGRpYWdvbmFsIGlmIHRvcG9sb2d5IGlzIDguXHJcbiAgICAgKiBSZXN1bHRzIGluIG1vcmUgbmF0dXJhbCBsb29raW5nIHBhdGhzLlxyXG4gICAgICogQHBhcmFtIHBvcyAtIFZlY3RvcjJcclxuICAgICAqL1xyXG4gICAgQVN0YXIucHJvdG90eXBlLmdldE5laWdoYm9ycyA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICB2YXIgbmVpZ2hib3JzID0gZ2V0UmluZzQocG9zLngsIHBvcy55LCAxKTtcclxuICAgICAgICBpZiAodGhpcy50b3BvbG9neSA9PT0gXCJlaWdodFwiKSB7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSAtIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggLSAxLCB5OiBwb3MueSAtIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggLSAxLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZWlnaGJvcnM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gc3RhcnQgVmVjdG9yMiAtIFRoZSBzdGFydGluZyBwb3NpdGlvblxyXG4gICAgICogQHBhcmFtIGVuZCAgVmVjdG9yMiAtIFRoZSBlbmRpbmcgcG9zaXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBWZWN0b3IyW10gfCB1bmRlZmluZWQgLSBSZXR1cm5zIHRoZSBwYXRoLFxyXG4gICAgICogaW5jbHVkaW5nIHN0YXJ0ICsgZW5kLCBvciB1bmRlZmluZWQgaWYgbm8gcGF0aCBpcyBmb3VuZC5cclxuICAgICAqL1xyXG4gICAgQVN0YXIucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gb3BlblNldCBpcyB0aGUgc2V0IG9mIGRpc2NvdmVyZWQgbm9kZXMsIGFuZCBtb3JlIG1pZ2h0IGJlIGZvdW5kXHJcbiAgICAgICAgdmFyIG9wZW5TZXQgPSBuZXcgUHJpb3JpdHlRdWV1ZShmdW5jdGlvbiAobikgeyByZXR1cm4gbi5mU2NvcmU7IH0pO1xyXG4gICAgICAgIG9wZW5TZXQuaW5zZXJ0KHtcclxuICAgICAgICAgICAgdjogc3RhcnQsXHJcbiAgICAgICAgICAgIGZTY29yZTogVmVjdG9yLmdldERpc3RhbmNlKHN0YXJ0LCBlbmQsIFwiZWlnaHRcIiksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY2FtZUZyb20gbWFwcyBhIG5vZGUgdG8gdGhlIG9uZSBwcmVjZWRpbmcgaXQgd2l0aCB0aGUgY2hlYXBlc3QgcGF0aFxyXG4gICAgICAgIHZhciBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvLyBnU2NvcmUgdHJhY2tzIHRoZSBjaGVhcGVzdCBwYXRoIGZyb20gc3RhcnQgdG8gdGhlIG5vZGVcclxuICAgICAgICAvLyBmU2NvcmUgdHJhY2tzIGdTY29yZSArIGVzaW1hdGVkXHJcbiAgICAgICAgdmFyIGdTY29yZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBnU2NvcmUuc2V0KHN0YXJ0LnggKyBcIjpcIiArIHN0YXJ0LnksIDApO1xyXG4gICAgICAgIHdoaWxlIChvcGVuU2V0LnNpemUoKSkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IG9wZW5TZXQucG9wKCkudjtcclxuICAgICAgICAgICAgaWYgKFZlY3Rvci5hcmVFcXVhbChjdXJyZW50LCBlbmQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyU3RyID0gY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxQYXRoID0gW2N1cnJlbnRdO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNhbWVGcm9tLmhhcyhjdXJTdHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZTdHIgPSBjYW1lRnJvbS5nZXQoY3VyU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBwcmV2U3RyLnNwbGl0KFwiOlwiKSwgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyU3RyID0gcHJldlN0cjtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhdGgudW5zaGlmdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE51bWJlci5wYXJzZUludCh4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogTnVtYmVyLnBhcnNlSW50KHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JzID0gdGhpcy5nZXROZWlnaGJvcnMoY3VycmVudCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgbmVpZ2hib3JzID0gbmVpZ2hib3JzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuaXNCbG9ja2VkKHYpID09PSBmYWxzZTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRHU2NvcmUgPSBnU2NvcmUuZ2V0KGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55KTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBuZWlnaGJvcnNfMSA9IG5laWdoYm9yczsgX2kgPCBuZWlnaGJvcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gbmVpZ2hib3JzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gVG9EbyAtIGFsbG93IHRoZSBkaXN0YW5jZSB0byBiZSBkZXRlcm1pbmVkIGJ5IGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVudGF0aXZlX2dTY29yZSA9IGN1cnJlbnRHU2NvcmUgKyAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdTY29yZS5oYXMobi54ICsgXCI6XCIgKyBuLnkpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuLnggKyBcIjpcIiArIG4ueSwgY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdTY29yZS5zZXQobi54ICsgXCI6XCIgKyBuLnksIHRlbnRhdGl2ZV9nU2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmU2NvcmUgPSB0ZW50YXRpdmVfZ1Njb3JlICsgVmVjdG9yLmdldERpc3RhbmNlKG4sIGVuZCwgXCJlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuU2V0Lmluc2VydCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IG4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZTY29yZTogZlNjb3JlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdlIG5ldmVyIGdvdCBjdXJyZW50ID09IGVuZFxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFTdGFyO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3Rhci5qcy5tYXBcblxuLyoqXHJcbiAqIENvbm5lY3RzIGFyZWFzIG9mIHRoZSBtYXAgdG8gZW5zdXJlIHRoZXkgYXJlIGFsbCBjb25uZWN0ZWQuXHJcbiAqXHJcbiAqIEZvciBpbnN0YW5jZSwgaWYgeW91J3JlIHVzaW5nIGFuIGFsaXZlIHZhbHVlIG9mIDEgZm9yIHdhbGxzLFxyXG4gKiB0aGVuIHRoaXMgY2FuIGNvbm5lY3QgdGhlIGRlYWQgdmFsdWUgb2YgMCB0byBlbnN1cmUgYWxsXHJcbiAqIHNxdWFyZXMgb24gdGhlIG1hcCBhcmUgYWNjZXNzYWJsZS5cclxuICpcclxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjb25uZWN0IChkZWZhdWx0IHRoaXMuZGVhZFZhbHVlKVxyXG4gKi9cclxuZnVuY3Rpb24gY29ubmVjdCh0YWJsZSwgdmFsdWUpIHtcclxuICAgIHZhciBzcGFjZXNUb0Nvbm5lY3QgPSBuZXcgU2V0KCk7XHJcbiAgICB2YXIgZ3JvdXBzID0gW107XHJcbiAgICB2YXIgcGF0aHMgPSBbXTtcclxuICAgIC8vIEdldCBhbGwgc3BhY2VzIHdpdGggdGhlIHZhbHVlXHJcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRhYmxlLndpZHRoOyB4KyspIHtcclxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHRhYmxlLmhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0YWJsZS5nZXQoeyB4OiB4LCB5OiB5IH0pID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc3BhY2VzVG9Db25uZWN0LmFkZCh4ICsgXCI6XCIgKyB5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggZ3JvdXBzIHRoZXJlIGFyZVxyXG4gICAgd2hpbGUgKHNwYWNlc1RvQ29ubmVjdC5zaXplID4gMCkge1xyXG4gICAgICAgIHZhciB2ID0gQXJyYXkuZnJvbShzcGFjZXNUb0Nvbm5lY3QuZW50cmllcygpKVswXVswXTtcclxuICAgICAgICB2YXIgX2EgPSB2LnNwbGl0KFwiOlwiKSwgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiBOdW1iZXIucGFyc2VJbnQoeCksXHJcbiAgICAgICAgICAgIHk6IE51bWJlci5wYXJzZUludCh5KSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEdyYWIgYW4gYXJlYSwgdGhlbiByZW1vdmUgdGhvc2UgdGlsZXMgZnJvbSB0aGUgc3BhY2VzVG9Db25uZWN0XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRhYmxlLmZsb29kRmlsbFNlbGVjdChwb3NpdGlvbik7XHJcbiAgICAgICAgZ3JvdXBzLnB1c2goc2VsZWN0aW9uKTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHNlbGVjdGlvbl8xID0gc2VsZWN0aW9uOyBfaSA8IHNlbGVjdGlvbl8xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgcyA9IHNlbGVjdGlvbl8xW19pXTtcclxuICAgICAgICAgICAgc3BhY2VzVG9Db25uZWN0LmRlbGV0ZShzLnggKyBcIjpcIiArIHMueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3BhY2VzVG9Db25uZWN0IGlzIG5vdyBlbXB0eS5cclxuICAgIC8vIEVhY2ggZ3JvdXAgaW4gZ3JvdXBzIGlzIGFuIGlzb2xhdGVkIHNldCBvZiB0aWxlc1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBJZ25vcmUgdGhlIGxhc3QgZ3JvdXBcclxuICAgICAgICBpZiAoaSA9PT0gZ3JvdXBzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gZ3JvdXBzW2ldO1xyXG4gICAgICAgIHZhciBuZXh0ID0gZ3JvdXBzW2kgKyAxXTtcclxuICAgICAgICAvLyBHZXQgdGhlIGNlbnRlciBwb2ludCBmcm9tIGVhY2ggYXJlYVxyXG4gICAgICAgIHZhciBjdXJyZW50Q2VudGVyID0gVmVjdG9yLmdldENlbnRlcihjdXJyZW50KTtcclxuICAgICAgICB2YXIgY3VycmVudFBvaW50ID0gVmVjdG9yLmdldENsb3Nlc3QoY3VycmVudCwgY3VycmVudENlbnRlcik7XHJcbiAgICAgICAgdmFyIG5leHRDZW50ZXIgPSBWZWN0b3IuZ2V0Q2VudGVyKG5leHQpO1xyXG4gICAgICAgIHZhciBuZXh0UG9pbnQgPSBWZWN0b3IuZ2V0Q2xvc2VzdChuZXh0LCBuZXh0Q2VudGVyKTtcclxuICAgICAgICAvLyBHZXQgdHdvIHBvaW50cyB0aGF0IGFyZSBjbG9zZSB0byB0aGUgZWRnZSBmb3IgZWFjaCBzZWN0aW9uXHJcbiAgICAgICAgdmFyIGNsb3Nlc3RDdXJyZW50ID0gVmVjdG9yLmdldENsb3Nlc3QobmV4dCwgY3VycmVudFBvaW50KTtcclxuICAgICAgICB2YXIgY2xvc2VzdE5leHQgPSBWZWN0b3IuZ2V0Q2xvc2VzdChjdXJyZW50LCBuZXh0UG9pbnQpO1xyXG4gICAgICAgIHZhciBhID0gbmV3IEFTdGFyKHsgdG9wb2xvZ3k6IFwiZm91clwiIH0pO1xyXG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gYS5jb21wdXRlKGNsb3Nlc3RDdXJyZW50LCBjbG9zZXN0TmV4dCk7XHJcbiAgICAgICAgLy8gQ29ubmVjdCB0aGUgcGF0aHNcclxuICAgICAgICBpZiAoIWNvbm5lY3Rpb24pXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yOiBDb3VsZCBub3QgY29ubmVjdCBjZWxsIGFyZWFzXCIpO1xyXG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgY29ubmVjdGlvbl8xID0gY29ubmVjdGlvbjsgX2IgPCBjb25uZWN0aW9uXzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gY29ubmVjdGlvbl8xW19iXTtcclxuICAgICAgICAgICAgdGFibGUuc2V0KHYsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGF0aHMucHVzaChjb25uZWN0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ3JvdXBzOiBncm91cHMsXHJcbiAgICAgICAgcGF0aHM6IHBhdGhzLFxyXG4gICAgfTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LmpzLm1hcFxuXG4vKiogVXNlZCB0byBjcmVhdGUgQ2VsbHVsYXJBdXRvbWF0YSBNYXBzLiAqL1xyXG52YXIgQ2VsbHVsYXJBdXRvbWF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIENlbGx1bGFyIEF1dG9tYXRhIE1hcCBHZW5lcmF0b3JcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBtYXAuXHJcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIG1hcC5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ2VsbHVsYXJBdXRvbWF0YSh3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cclxuICAgICAgICB0aGlzLnRhYmxlID0gbmV3IFRhYmxlKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIC8vIFNldCB1cCBkZWZhdWx0c1xyXG4gICAgICAgIHRoaXMuYWxpdmVWYWx1ZSA9XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYWxpdmVWYWx1ZSA9PT0gdW5kZWZpbmVkID8gMSA6IG9wdGlvbnMuYWxpdmVWYWx1ZTtcclxuICAgICAgICB0aGlzLmRlYWRWYWx1ZSA9XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZGVhZFZhbHVlID09PSB1bmRlZmluZWQgPyAwIDogb3B0aW9ucy5kZWFkVmFsdWU7XHJcbiAgICAgICAgdGhpcy5ybmcgPSBvcHRpb25zLnJuZyA9PT0gdW5kZWZpbmVkID8gbmV3IEFsZWFSTkcoKSA6IG9wdGlvbnMucm5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSYW5kb21seSBzZXRzIGVhY2ggY2VsbCB0byBlaXRoZXIgYWxpdmUgb3IgZGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaXNBbGl2ZUNoYW5jZSBUaGUgY2hhbmNlIGZvciBhIGNlbGwgdG8gYmUgc2V0IHRvIHRoZSAnYWxpdmUnIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBDZWxsdWxhckF1dG9tYXRhLnByb3RvdHlwZS5yYW5kb21pemUgPSBmdW5jdGlvbiAoaXNBbGl2ZUNoYW5jZSkge1xyXG4gICAgICAgIGlmIChpc0FsaXZlQ2hhbmNlID09PSB2b2lkIDApIHsgaXNBbGl2ZUNoYW5jZSA9IDAuNjsgfVxyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy50YWJsZS53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy50YWJsZS5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzQWxpdmUgPSB0aGlzLnJuZy5uZXh0KCkgPiBpc0FsaXZlQ2hhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQWxpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5hbGl2ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGUuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmRlYWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ2VsbHVsYXJBdXRvbWF0YS5wcm90b3R5cGUuY291bnRBbGl2ZU5laWdoYm9ycyA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gLTE7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IC0xOyBqIDwgMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmVpZ2hib3JfeCA9IHggKyBpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5laWdoYm9yX3kgPSB5ICsgajtcclxuICAgICAgICAgICAgICAgIGlmIChpID09IDAgJiYgaiA9PSAwKSA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRhYmxlLmlzSW5Cb3VuZHMoeyB4OiBuZWlnaGJvcl94LCB5OiBuZWlnaGJvcl95IH0pID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGFibGUuZ2V0KHsgeDogbmVpZ2hib3JfeCwgeTogbmVpZ2hib3JfeSB9KSA9PSB0aGlzLmFsaXZlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJ1bnMgYSBudW1iZXIgb2Ygc2ltdWxhdGlvbiBzdGVwcy5cclxuICAgICAqIEVhY2ggc3RlcCBnZW5lcmFsbHkgXCJzbW9vdGhzXCIgdGhlIG1hcC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3RlcENvdW50IFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gcnVuLlxyXG4gICAgICovXHJcbiAgICBDZWxsdWxhckF1dG9tYXRhLnByb3RvdHlwZS5kb1NpbXVsYXRpb25TdGVwID0gZnVuY3Rpb24gKHN0ZXBDb3VudCkge1xyXG4gICAgICAgIGlmIChzdGVwQ291bnQgPT09IHZvaWQgMCkgeyBzdGVwQ291bnQgPSAxOyB9XHJcbiAgICAgICAgZm9yICh2YXIgc3RlcCA9IDA7IHN0ZXAgPCBzdGVwQ291bnQ7IHN0ZXArKykge1xyXG4gICAgICAgICAgICB2YXIgbmV3TWFwID0gbmV3IFRhYmxlKHRoaXMudGFibGUud2lkdGgsIHRoaXMudGFibGUuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdmFyIG9sZE1hcCA9IHRoaXMudGFibGU7IC8vdGhpcyBqdXN0IHJlbmFtZXMgdGhlIHRhYmxlIHRvIHByZXZlbnQgJ3RoaXMnIGFsbCBvdmVyIHRoZSBwbGFjZS5cclxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBvbGRNYXAud2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBvbGRNYXAuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmJzID0gdGhpcy5jb3VudEFsaXZlTmVpZ2hib3JzKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRNYXAuZ2V0KHsgeDogeCwgeTogeSB9KSA9PT0gdGhpcy5hbGl2ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYnMgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXAuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmRlYWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXAuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmFsaXZlVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmJzID4gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFwLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5hbGl2ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hcC5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuZGVhZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlID0gbmV3TWFwO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbm5lY3RzIGFyZWFzIG9mIHRoZSBtYXAgdG8gZW5zdXJlIHRoZXkgYXJlIGFsbCBjb25uZWN0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGluc3RhbmNlLCBpZiB5b3UncmUgdXNpbmcgYW4gYWxpdmUgdmFsdWUgb2YgMSBmb3Igd2FsbHMsXHJcbiAgICAgKiB0aGVuIHRoaXMgY2FuIGNvbm5lY3QgdGhlIGRlYWQgdmFsdWUgb2YgMCB0byBlbnN1cmUgYWxsXHJcbiAgICAgKiBzcXVhcmVzIG9uIHRoZSBtYXAgYXJlIGFjY2Vzc2FibGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjb25uZWN0IChkZWZhdWx0IHRoaXMuZGVhZFZhbHVlKVxyXG4gICAgICovXHJcbiAgICBDZWxsdWxhckF1dG9tYXRhLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSB0aGlzLmRlYWRWYWx1ZTsgfVxyXG4gICAgICAgIHJldHVybiBjb25uZWN0KHRoaXMudGFibGUsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2VsbHVsYXJBdXRvbWF0YTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2VsbHVsYXItYXV0b21hdGEuanMubWFwXG5cbi8qKiBHZW5lcmF0b3IgdG8gcGVyZm9ybSBhIERydW5rYXJkJ3MgV2FsayovXHJcbnZhciBEcnVua2FyZHNXYWxrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IERydW5rYXJkc1dhbGsgR2VuZXJhdG9yXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gR2VuZXJhdG9yIENvbmZpZ1xyXG4gICAgICogQHBhcmFtIGNvbmZpZy53aWR0aCBudW1iZXIgLSBXaWR0aCBvZiB0aGUgbWFwXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmhlaWdodCBudW1iZXIgLSBIZWlnaHQgb2YgdGhlIG1hcFxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5ybmcgSVJORyAtIE9wdGlvbmFsIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnRvcG9sb2d5IFwiZm91clwiIHwgXCJlaWdodFwiIC0gVG9wb2xvZ3kgdG8gdXNlLiBEZWZhdWx0IGZvdXIuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIERydW5rYXJkc1dhbGsoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICB0aGlzLl9wYXRoID0gW107XHJcbiAgICAgICAgdGhpcy5fc3RlcHMgPSAwO1xyXG4gICAgICAgIHRoaXMuX2NvdmVyZWRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50YWJsZSA9IG5ldyBUYWJsZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuX3JuZyA9IChfYSA9IGNvbmZpZy5ybmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBBbGVhUk5HKCk7XHJcbiAgICAgICAgdGhpcy5fdG9wb2xvZ3kgPSAoX2IgPSBjb25maWcudG9wb2xvZ3kpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiZm91clwiO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgVGFibGVcclxuICAgICAgICB0aGlzLnRhYmxlLmZpbGwoMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHBhdGggdHJhdmVsZWQgc28gZmFyLlxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRQYXRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCB2aXNpdGVkIGxvY2F0aW9uLlxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoW3RoaXMuX3BhdGgubGVuZ3RoIC0gMV07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2Ygc3RlcHMgdGFrZW5cclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0U3RlcHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZXBzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIHVuaXF1ZSBzcGFjZXMgdmlzaXRlZFxyXG4gICAgICovXHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRDb3ZlcmVkQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdmVyZWRDb3VudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBwb2ludCB0byB0aGUgZHJ1bmthcmRzIHdhbGssXHJcbiAgICAgKiBhZGp1c3RpbmcgcGF0aCwgdGFibGUsIGFuZCBzdGVwcyBhcyBuZWVkZWQuXHJcbiAgICAgKiBAcGFyYW0gcG9pbnQgVmVjdG9yMiAtIFRoZSBwb2ludCB0byBhZGRcclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcclxuICAgICAgICB0aGlzLl9zdGVwcysrO1xyXG4gICAgICAgIGlmICh0aGlzLnRhYmxlLmdldChwb2ludCkgIT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fY292ZXJlZENvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFibGUuc2V0KHBvaW50LCAxKTtcclxuICAgICAgICB0aGlzLl9wYXRoLnB1c2gocG9pbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgYSBwYXRoIGJ5IHdhbGtpbmcgYSBudW1iZXIgb2Ygc3RlcHMuXHJcbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIGhhdmUgdGhlIERydW5rYXJkICdqdW1wJyB0byBhIGRpZmZlcmVudCBzcG90LlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSB3YWxrIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSBjb25maWcuc3RlcHMgbnVtYmVyIC0gVGhlIG51bWJlciBvZiBzdGVwcyB0byB0YWtlLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5zdGFydCBWZWN0b3IyIC0gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uLiBEZWZhdWx0IHJhbmRvbS5cclxuICAgICAqIEBwYXJhbSBjb25maWcubWF4Q292ZXJlZFRpbGVzIG51bWJlciAtIFN0b3BzIHdhbGtpbmcgaWYgdGhlIHRvdGFsIG51bWJlciBvZiB0aWxlc1xyXG4gICAgICogZXZlciBjb3ZlcmVkIHJlYWNoZXMgdGhpcyBsaW1pdC4gRGVmYXVsdCBJbmZpbml0eS5cclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUud2Fsa1N0ZXBzID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb25maWdcclxuICAgICAgICB2YXIgbWF4Q292ZXJlZFRpbGVzID0gKF9hID0gY29uZmlnLm1heENvdmVyZWRUaWxlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIHN0ZXBzID0gY29uZmlnLnN0ZXBzO1xyXG4gICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBjb29yZGluYXRlXHJcbiAgICAgICAgdGhpcy5hZGRQb2ludCgoX2IgPSBjb25maWcuc3RhcnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZ2V0UmFuZFBvaW50KCkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcHMgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQnJlYWsgaWYgd2UncmUgb3ZlciB0aGUgY292ZXJlZCBsaW1pdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY292ZXJlZENvdW50ID49IG1heENvdmVyZWRUaWxlcykge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9wYXRoW3RoaXMuX3BhdGgubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5nZXRSYW5kb21OZWlnaGJvcihjdXJyZW50KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRQb2ludChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0UmFuZFBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB4ID0gdGhpcy5fcm5nLm5leHRJbnQoMCwgdGhpcy50YWJsZS53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLl9ybmcubmV4dEludCgwLCB0aGlzLnRhYmxlLmhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xyXG4gICAgfTtcclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldFJhbmRvbU5laWdoYm9yID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgIHZhciBuZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHdoaWxlIChuZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gR2V0IG5leHQgbmVpZ2hib3JcclxuICAgICAgICAgICAgdmFyIG5laWdoYm9ycyA9IHRoaXMuX3RvcG9sb2d5ID09PSBcImZvdXJcIlxyXG4gICAgICAgICAgICAgICAgPyBnZXRSaW5nNChwb3MueCwgcG9zLnksIDEpXHJcbiAgICAgICAgICAgICAgICA6IGdldFJpbmc4KHBvcy54LCBwb3MueSwgMSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5fcm5nLm5leHRJdGVtKG5laWdoYm9ycyk7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGluIGJvdW5kc1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS5pc0luQm91bmRzKG4pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0ID0gbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRHJ1bmthcmRzV2FsaztcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJ1bmthcmRzLXdhbGsuanMubWFwXG5cbi8vIGV4cG9ydCB7IEJTUFRyZWVSZWN0IH0gZnJvbSBcIi4vYnNwLXRyZWVcIjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQ0ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIENlbGx1bGFyQXV0b21hdGE6IENlbGx1bGFyQXV0b21hdGEsXG4gICAgRHJ1bmthcmRzV2FsazogRHJ1bmthcmRzV2Fsa1xufSk7XG5cbnZhciBEaWprc3RyYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERpamtzdHJhKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuaXNCbG9ja2VkID0gY29uZmlnLmlzQmxvY2tlZENhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudG9wb2xvZ3kgPSBjb25maWcudG9wb2xvZ3k7XHJcbiAgICB9XHJcbiAgICBEaWprc3RyYS5wcm90b3R5cGUuZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgIHZhciBuZWlnaGJvcnMgPSBnZXRSaW5nNChwb3MueCwgcG9zLnksIDEpO1xyXG4gICAgICAgIGlmICh0aGlzLnRvcG9sb2d5ID09PSBcImVpZ2h0XCIpIHtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55IC0gMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCAtIDEsIHk6IHBvcy55IC0gMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCAtIDEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIDEsIHk6IHBvcy55ICsgMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5laWdoYm9ycztcclxuICAgIH07XHJcbiAgICBEaWprc3RyYS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uIChpbml0aWFsLCBnb2FsKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvL3VucGFja2FnZSBjb25maWcuXHJcbiAgICAgICAgdmFyIGNhbWVGcm9tID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHZhciBwcm9jZXNzZWQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdmFyIHByb2Nlc3NpbmcgPSBbaW5pdGlhbF07XHJcbiAgICAgICAgY2FtZUZyb20uc2V0KGluaXRpYWwueCArIFwiOlwiICsgaW5pdGlhbC55LCBcIlwiKTtcclxuICAgICAgICB3aGlsZSAocHJvY2Vzc2luZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgLy9zaGlmdCB0aGUgbGFzdCBub2RlIG9mZiB0aGUgYXJyYXkuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gcHJvY2Vzc2luZy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAvL3Nob3J0IGNpcmN1dFxyXG4gICAgICAgICAgICBpZiAocHJvY2Vzc2VkLmhhcyhjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkLmFkZChjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoZSBzcGFjZSBpcyB3aGVyZSB5b3UgbmVlZCB0byBiZS4gSWYgc28sIGV4aXQgbG9vcC5cclxuICAgICAgICAgICAgaWYgKFZlY3Rvci5hcmVFcXVhbChjdXJyZW50LCBnb2FsKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1clN0ciA9IGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUGF0aCA9IFtjdXJyZW50XTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChjYW1lRnJvbS5nZXQoY3VyU3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2U3RyID0gY2FtZUZyb20uZ2V0KGN1clN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcHJldlN0ci5zcGxpdChcIjpcIiksIHggPSBfYVswXSwgeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clN0ciA9IHByZXZTdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYXRoLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIucGFyc2VJbnQoeCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE51bWJlci5wYXJzZUludCh5KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIG5laWdoYm9ycyA9IG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIF90aGlzLmlzQmxvY2tlZCh2KSA9PT0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbmVpZ2hib3JzXzEgPSBuZWlnaGJvcnM7IF9pIDwgbmVpZ2hib3JzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5laWdoYm9yc18xW19pXTtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmcucHVzaChuKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMobi54ICsgXCI6XCIgKyBuLnkpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuLnggKyBcIjpcIiArIG4ueSwgY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50LnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERpamtzdHJhO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWprc3RyYS5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQ1ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIEFTdGFyOiBBU3RhcixcbiAgICBEaWprc3RyYTogRGlqa3N0cmFcbn0pO1xuXG5mdW5jdGlvbiBib3godGVybWluYWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciB4MSA9IG9wdGlvbnMueDEsIHgyID0gb3B0aW9ucy54MiwgeTEgPSBvcHRpb25zLnkxLCB5MiA9IG9wdGlvbnMueTIsIHRpdGxlID0gb3B0aW9ucy50aXRsZTtcclxuICAgIC8vIENvcm5lcnNcclxuICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IHgxLCB5OiB5MSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVEb3duQW5kUmlnaHQpKTtcclxuICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IHgyLCB5OiB5MSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVEb3duQW5kTGVmdCkpO1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDEsIHk6IHkyIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kUmlnaHQpKTtcclxuICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IHgyLCB5OiB5MiB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVVcEFuZExlZnQpKTtcclxuICAgIC8vIEhvcml6b250YWwgQmFyc1xyXG4gICAgZm9yICh2YXIgZHggPSB4MSArIDE7IGR4IDwgeDI7IGR4KyspIHtcclxuICAgICAgICB0ZXJtaW5hbC5kcmF3R2x5cGgoeyB4OiBkeCwgeTogeTEgfSwgR2x5cGguZnJvbUNoYXJDb2RlKENoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlSG9yaXpvbnRhbCkpO1xyXG4gICAgICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IGR4LCB5OiB5MiB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsKSk7XHJcbiAgICB9XHJcbiAgICAvLyBWZXJ0aWNhbCBCYXJzXHJcbiAgICBmb3IgKHZhciBkeSA9IHkxICsgMTsgZHkgPCB5MjsgZHkrKykge1xyXG4gICAgICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IHgxLCB5OiBkeSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbCkpO1xyXG4gICAgICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IHgyLCB5OiBkeSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRpdGxlKSB7XHJcbiAgICAgICAgdGVybWluYWwud3JpdGVBdCh7IHg6IHgxICsgMiwgeTogeTEgfSwgXCIgXCIgKyB0aXRsZSArIFwiIFwiKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib3guanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXgkNiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBib3g6IGJveFxufSk7XG5cbi8qKiBGT1YgQWxnb3JpdGhtIHRoYXQgY2FsY3VsYXRlcyBhbmdsZXMgb2Ygc2hhZG93cyBhbmQgbWVyZ2VzIHRoZW0gdG9nZXRoZXIuICovXHJcbnZhciBQcmVjaXNlU2hhZG93Y2FzdGluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBQcmVjaXNlU2hhZG93Y2FzdGluZyBvYmplY3RcclxuICAgICAqIHdoaWNoIGNhbiBjYWx1bGF0ZSB2aWV3c2hlZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ1xyXG4gICAgICogQHBhcmFtIGNvbmZpZy5saWdodFBhc3NlcyBWZWN0b3IyID0+IEJvb2xlYW4gLSBXaGV0aGVyIGEgcG9zaXRpb24gaXMgdmlzaWJsZVxyXG4gICAgICogQHBhcmFtIGNvbmZpZy50b3BvbG9neSBcImZvdXJcIiB8IFwiZWlnaHRcIiB8IFwiZnJlZVwiIC0gVGhlIHRvcG9sb2d5IHRvIHVzZVxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5yZXR1cm5BbGwgUmV0dXJuIGFsbCBzcGFjZXMgaW4gcmFuZ2UsIGV2ZW4gaWYgbm90IHZpc2libGUuIERlZmF1bHQgZmFsc2UuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmNhcnRlc2lhblJhbmdlIElmIHNldCwgd2lsbCBjYWxjdWxhdGUgcmFuZ2UgYXMgYV4yICsgYl4yID0gY14yLiBSZXN1bHRzIGluIHJvdW5kIHNoYXBlLiBEZWZhdWx0IGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBQcmVjaXNlU2hhZG93Y2FzdGluZyhjb25maWcpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHRoaXMubGlnaHRQYXNzZXMgPSBjb25maWcubGlnaHRQYXNzZXM7XHJcbiAgICAgICAgLy8gZnJlZSB1c2VzIGFuIDggcmluZyB0b3BvbG9neVxyXG4gICAgICAgIHRoaXMuZ2V0UmluZyA9IGNvbmZpZy50b3BvbG9neSA9PT0gXCJmb3VyXCIgPyBnZXRSaW5nNCA6IGdldFJpbmc4O1xyXG4gICAgICAgIHRoaXMucmV0dXJuQWxsID0gKF9hID0gY29uZmlnLnJldHVybkFsbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYXJ0ZXNpYW5SYW5nZSA9IChfYiA9IGNvbmZpZy5jYXJ0ZXNpYW5SYW5nZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgYW4gYXJyYXkgb2YgdmlzaWJsZSBWZWN0b3JzLiBTYW1lIGFzIGNhbGN1bGF0ZUNhbGxiYWNrLFxyXG4gICAgICogYnV0IHJldHVybnMgYW4gQXJyYXkgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luIFZlY3RvcjIgLSBUaGUgcG9zaXRpb24gdG8gc3RhcnQgZnJvbS5cclxuICAgICAqIEBwYXJhbSByYW5nZSBOdW1iZXIgLSBUaGUgcmFuZ2Ugb2YgdmlzaW9uXHJcbiAgICAgKi9cclxuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jYWxjdWxhdGVBcnJheSA9IGZ1bmN0aW9uIChvcmlnaW4sIHJhbmdlKSB7XHJcbiAgICAgICAgdmFyIHYgPSBbXTtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUNhbGxiYWNrKG9yaWdpbiwgcmFuZ2UsIGZ1bmN0aW9uIChwb3MsIHIsIHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgdi5wdXNoKHsgcG9zOiBwb3MsIHI6IHIsIHZpc2liaWxpdHk6IHZpc2liaWxpdHkgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHY7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIHZpc2libGUgcG9zaXRpb25zLCBhbmQgaW52b2tlcyB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGVhY2ggb25lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcmlnaW4gVmVjdG9yMiAtIFRoZSBwb3NpdGlvbiB0byBzdGFydCBmcm9tXHJcbiAgICAgKiBAcGFyYW0gcmFuZ2UgTnVtYmVyIC0gVGhlIHJhbmdlIG9mIHZpc2lvblxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIChwb3M6IFZlY3RvcjIsIHJhbmdlOiBudW1iZXIsIHZpc2liaWxpdHk6IG51bWJlcikgPT4gdm9pZCAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZpc2libGUgdGlsZVxyXG4gICAgICovXHJcbiAgICBQcmVjaXNlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY2FsY3VsYXRlQ2FsbGJhY2sgPSBmdW5jdGlvbiAob3JpZ2luLCByYW5nZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAvLyBBbHdheXMgY2FsbCB0aGUgb3JpZ2luYWxcclxuICAgICAgICBjYWxsYmFjayhvcmlnaW4sIDAsIDEpO1xyXG4gICAgICAgIHZhciBzaGFkb3dzID0gW107XHJcbiAgICAgICAgLy8gRm9yIGFsbCByaW5nc1xyXG4gICAgICAgIGZvciAodmFyIHIgPSAxOyByIDw9IHJhbmdlOyByKyspIHtcclxuICAgICAgICAgICAgdmFyIHJpbmcgPSB0aGlzLmdldFJpbmcob3JpZ2luLngsIG9yaWdpbi55LCByKTtcclxuICAgICAgICAgICAgLy8gKiBieSAyIGhlcmUgc2luY2Ugd2UncmUgbWFraW5nIDIgYXJjcyBwZXIgdGlsZVxyXG4gICAgICAgICAgICB2YXIgYXJjQ291bnQgPSByaW5nLmxlbmd0aCAqIDI7XHJcbiAgICAgICAgICAgIC8vIEZvciBhbGwgY2VsbHNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHJpbmdbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIHRoZSBmaXJzdCBhbmdsZSwgd2Ugc2hpZnQgdGhlIG5lZ2F0aXZlIHZhbHVlIHRvIGEgcG9zaXRpdmUgb25lLlxyXG4gICAgICAgICAgICAgICAgLy8gaS5lLiAtMS84IC0+IDcvOFxyXG4gICAgICAgICAgICAgICAgdmFyIGxlc3Nlck4gPSBpID09PSAwID8gYXJjQ291bnQgLSAxIDogMiAqIGkgLSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gVG9EbyAtIEZpeCBuYW1pbmdcclxuICAgICAgICAgICAgICAgIHZhciBsZXNzZXJBbmdsZSA9IFtsZXNzZXJOLCBhcmNDb3VudF07XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3JlYXRlckFuZ2xlID0gWzIgKiBpICsgMSwgYXJjQ291bnRdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJsb2NrcyA9IHRoaXMubGlnaHRQYXNzZXMoY2VsbCkgPT09IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpc2liaWxpdHkgPSB0aGlzLmNoZWNrVmlzaWJpbGl0eShsZXNzZXJBbmdsZSwgZ3JlYXRlckFuZ2xlLCBibG9ja3MsIHNoYWRvd3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZpc2liaWxpdHkgfHwgdGhpcy5yZXR1cm5BbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXJ0ZXNpYW5SYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJzUmFuZ2UgPSBWZWN0b3IuZ2V0RGlzdGFuY2Uob3JpZ2luLCBjZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFic1JhbmdlIDw9IHJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjZWxsLCByLCB2aXNpYmlsaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soY2VsbCwgciwgdmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVG9EbyAtIFNob3J0IGNpcmN1aXQgaWYgZW50aXJlbHkgc3Vycm91bmRlZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jaGVja1Zpc2liaWxpdHkgPSBmdW5jdGlvbiAoQTEsIEEyLCBibG9ja3MsIHNoYWRvd3MpIHtcclxuICAgICAgICBpZiAoQTFbMF0gPiBBMlswXSkge1xyXG4gICAgICAgICAgICAvKiBzcGxpdCBpbnRvIHR3byBzdWItYXJjcyAqL1xyXG4gICAgICAgICAgICB2YXIgdjEgPSB0aGlzLmNoZWNrVmlzaWJpbGl0eShBMSwgW0ExWzFdLCBBMVsxXV0sIGJsb2Nrcywgc2hhZG93cyk7XHJcbiAgICAgICAgICAgIHZhciB2MiA9IHRoaXMuY2hlY2tWaXNpYmlsaXR5KFswLCAxXSwgQTIsIGJsb2Nrcywgc2hhZG93cyk7XHJcbiAgICAgICAgICAgIHJldHVybiAodjEgKyB2MikgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBpbmRleDE6IGZpcnN0IHNoYWRvdyA+PSBBMSAqL1xyXG4gICAgICAgIHZhciBpbmRleDEgPSAwLCBlZGdlMSA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlIChpbmRleDEgPCBzaGFkb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgb2xkID0gc2hhZG93c1tpbmRleDFdO1xyXG4gICAgICAgICAgICB2YXIgZGlmZiA9IG9sZFswXSAqIEExWzFdIC0gQTFbMF0gKiBvbGRbMV07XHJcbiAgICAgICAgICAgIGlmIChkaWZmID49IDApIHtcclxuICAgICAgICAgICAgICAgIC8qIG9sZCA+PSBBMSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgPT0gMCAmJiAhKGluZGV4MSAlIDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZTEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5kZXgxKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGluZGV4MjogbGFzdCBzaGFkb3cgPD0gQTIgKi9cclxuICAgICAgICB2YXIgaW5kZXgyID0gc2hhZG93cy5sZW5ndGgsIGVkZ2UyID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKGluZGV4Mi0tKSB7XHJcbiAgICAgICAgICAgIHZhciBvbGQgPSBzaGFkb3dzW2luZGV4Ml07XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gQTJbMF0gKiBvbGRbMV0gLSBvbGRbMF0gKiBBMlsxXTtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyogb2xkIDw9IEEyICovXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiA9PSAwICYmIGluZGV4MiAlIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlMiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmlzaWJsZSA9IHRoaXMuY2hlY2tTaGFkb3dWaXNpYmlsaXR5KGluZGV4MSwgaW5kZXgyLCBlZGdlMSwgZWRnZTIpO1xyXG4gICAgICAgIGlmICghdmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9IC8qIGZhc3QgY2FzZTogbm90IHZpc2libGUgKi9cclxuICAgICAgICB2YXIgdmlzaWJsZUxlbmd0aDtcclxuICAgICAgICAvKiBjb21wdXRlIHRoZSBsZW5ndGggb2YgdmlzaWJsZSBhcmMsIGFkanVzdCBsaXN0IG9mIHNoYWRvd3MgKGlmIGJsb2NraW5nKSAqL1xyXG4gICAgICAgIHZhciByZW1vdmUgPSBpbmRleDIgLSBpbmRleDEgKyAxO1xyXG4gICAgICAgIGlmIChyZW1vdmUgJSAyKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleDEgJSAyKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBmaXJzdCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIHNlY29uZCBvdXRzaWRlICovXHJcbiAgICAgICAgICAgICAgICB2YXIgUCA9IHNoYWRvd3NbaW5kZXgxXTtcclxuICAgICAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSAoQTJbMF0gKiBQWzFdIC0gUFswXSAqIEEyWzFdKSAvIChQWzFdICogQTJbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd3Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBzZWNvbmQgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBmaXJzdCBvdXRzaWRlICovXHJcbiAgICAgICAgICAgICAgICB2YXIgUCA9IHNoYWRvd3NbaW5kZXgyXTtcclxuICAgICAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSAoUFswXSAqIEExWzFdIC0gQTFbMF0gKiBQWzFdKSAvIChBMVsxXSAqIFBbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd3Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleDEgJSAyKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBib3RoIGVkZ2VzIHdpdGhpbiBleGlzdGluZyBzaGFkb3dzICovXHJcbiAgICAgICAgICAgICAgICB2YXIgUDEgPSBzaGFkb3dzW2luZGV4MV07XHJcbiAgICAgICAgICAgICAgICB2YXIgUDIgPSBzaGFkb3dzW2luZGV4Ml07XHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlTGVuZ3RoID0gKFAyWzBdICogUDFbMV0gLSBQMVswXSAqIFAyWzFdKSAvIChQMVsxXSAqIFAyWzFdKTtcclxuICAgICAgICAgICAgICAgIGlmIChibG9ja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFkb3dzLnNwbGljZShpbmRleDEsIHJlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBib3RoIGVkZ2VzIG91dHNpZGUgZXhpc3Rpbmcgc2hhZG93cyAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd3Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSwgQTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7IC8qIHdob2xlIGFyYyB2aXNpYmxlISAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhcmNMZW5ndGggPSAoQTJbMF0gKiBBMVsxXSAtIEExWzBdICogQTJbMV0pIC8gKEExWzFdICogQTJbMV0pO1xyXG4gICAgICAgIHJldHVybiB2aXNpYmxlTGVuZ3RoIC8gYXJjTGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jaGVja1NoYWRvd1Zpc2liaWxpdHkgPSBmdW5jdGlvbiAoaW5kZXgxLCBpbmRleDIsIGVkZ2UxLCBlZGdlMikge1xyXG4gICAgICAgIHZhciB2aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaW5kZXgxID09IGluZGV4MiAmJiAoZWRnZTEgfHwgZWRnZTIpKSB7XHJcbiAgICAgICAgICAgIC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG9uZSBvZiB0aGUgZWRnZXMgbWF0Y2ggKi9cclxuICAgICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlZGdlMSAmJiBlZGdlMiAmJiBpbmRleDEgKyAxID09IGluZGV4MiAmJiBpbmRleDIgJSAyKSB7XHJcbiAgICAgICAgICAgIC8qIGNvbXBsZXRlbHkgZXF1aXZhbGVudCB3aXRoIGV4aXN0aW5nIHNoYWRvdyAqL1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4MSA+IGluZGV4MiAmJiBpbmRleDEgJSAyKSB7XHJcbiAgICAgICAgICAgIC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG5vdCB0b3VjaGluZyAqL1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2aXNpYmxlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcmVjaXNlU2hhZG93Y2FzdGluZztcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlY2lzZS5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQ3ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nOiBQcmVjaXNlU2hhZG93Y2FzdGluZ1xufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbHdvZGVuLmpzLm1hcFxuXG5leHBvcnQgeyBpbmRleCBhcyBUZXJtaW5hbCwgaW5kZXgkMSBhcyBJbnB1dCwgaW5kZXgkNCBhcyBHZW5lcmF0aW9uLCBpbmRleCQ1IGFzIFBhdGhmaW5kaW5nLCBpbmRleCQ2IGFzIEdVSSwgaW5kZXgkMyBhcyBSYW5kLCBpbmRleCQyIGFzIFV0aWwsIGluZGV4JDcgYXMgRk9WLCBDaGFyQ29kZSwgR2x5cGgsIENvbG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWx3b2Rlbi5lczUuanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../dist/malwoden.es5.js\n");

/***/ })

})