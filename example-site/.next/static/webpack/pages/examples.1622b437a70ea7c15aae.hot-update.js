webpackHotUpdate_N_E("pages/examples",{

/***/ "../dist/malwoden.es5.js":
/*!*******************************!*\
  !*** ../dist/malwoden.es5.js ***!
  \*******************************/
/*! exports provided: Terminal, Input, Generation, Pathfinding, GUI, Rand, Util, FOV, CharCode, Glyph, Color */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Terminal\", function() { return index; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Input\", function() { return index$1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Generation\", function() { return index$4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pathfinding\", function() { return index$5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUI\", function() { return index$6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rand\", function() { return index$3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Util\", function() { return index$2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FOV\", function() { return index$7; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharCode\", function() { return CharCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Glyph\", function() { return Glyph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar Color = /** @class */ (function () {\r\n    function Color(r, g, b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n    Color.prototype.isEqual = function (color) {\r\n        return this.r === color.r && this.g === color.g && this.b === color.b;\r\n    };\r\n    Color.prototype.cssColor = function () {\r\n        return \"rgb(\" + this.r + \",\" + this.g + \",\" + this.b + \")\";\r\n    };\r\n    Color.prototype.sanitizeElement = function (rgb) {\r\n        return Math.round(Math.min(Math.max(rgb, 0), 255));\r\n    };\r\n    Color.prototype.add = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 1; }\r\n        return new Color(this.sanitizeElement(this.r + other.r * fractionOther), this.sanitizeElement(this.g + other.g * fractionOther), this.sanitizeElement(this.b + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blend = function (other, fractionOther) {\r\n        if (fractionOther === void 0) { fractionOther = 0.5; }\r\n        var fractionThis = 1.0 - fractionOther;\r\n        return new Color(this.sanitizeElement(this.r * fractionThis + other.r * fractionOther), this.sanitizeElement(this.g * fractionThis + other.g * fractionOther), this.sanitizeElement(this.b * fractionThis + other.b * fractionOther));\r\n    };\r\n    Color.prototype.blendPercent = function (other, percentOther) {\r\n        return this.blend(other, percentOther / 100);\r\n    };\r\n    Color.prototype.toGrayscale = function () {\r\n        var total = this.r + this.g + this.b;\r\n        return new Color(this.sanitizeElement(total / 3), this.sanitizeElement(total / 3), this.sanitizeElement(total / 3));\r\n    };\r\n    // CSS Extended Color Palette\r\n    // https://en.wikipedia.org/wiki/Web_colors\r\n    // Pink Colors\r\n    Color.MediumVioletRed = new Color(199, 21, 133);\r\n    Color.DeepPink = new Color(255, 20, 147);\r\n    Color.PaleVioletRed = new Color(219, 112, 147);\r\n    Color.HotPink = new Color(255, 105, 180);\r\n    Color.LightPink = new Color(255, 182, 193);\r\n    Color.Pink = new Color(255, 192, 203);\r\n    // Red Colors\r\n    Color.DarkRed = new Color(139, 0, 0);\r\n    Color.Red = new Color(255, 0, 0);\r\n    Color.Firebrick = new Color(178, 34, 34);\r\n    Color.Crimson = new Color(220, 20, 60);\r\n    Color.IndianRed = new Color(205, 92, 92);\r\n    Color.LightCoral = new Color(240, 128, 128);\r\n    Color.Salmon = new Color(250, 128, 114);\r\n    Color.DarkSalmon = new Color(233, 150, 122);\r\n    Color.LightSalmon = new Color(255, 160, 122);\r\n    // Orange Colors\r\n    Color.OrangeRed = new Color(255, 69, 0);\r\n    Color.Tomato = new Color(255, 99, 71);\r\n    Color.DarkOrange = new Color(255, 140, 0);\r\n    Color.Coral = new Color(255, 127, 80);\r\n    Color.Orange = new Color(255, 165, 0);\r\n    // Yellow Colors\r\n    Color.DarkKhaki = new Color(189, 183, 107);\r\n    Color.Gold = new Color(255, 215, 0);\r\n    Color.Khaki = new Color(240, 230, 140);\r\n    Color.PeachPuff = new Color(255, 218, 185);\r\n    Color.Yellow = new Color(255, 255, 0);\r\n    Color.PaleGoldenrod = new Color(238, 232, 170);\r\n    Color.Moccasin = new Color(255, 228, 181);\r\n    Color.PapayaWhip = new Color(255, 239, 213);\r\n    Color.LightGoldenrodYellow = new Color(250, 250, 210);\r\n    Color.LemonChiffon = new Color(255, 250, 205);\r\n    Color.LightYellow = new Color(255, 255, 224);\r\n    // Brown Colors\r\n    Color.Maroon = new Color(128, 0, 0);\r\n    Color.Brown = new Color(165, 42, 42);\r\n    Color.SaddleBrown = new Color(139, 69, 19);\r\n    Color.Sienna = new Color(160, 82, 45);\r\n    Color.Chocolate = new Color(210, 105, 30);\r\n    Color.DarkGoldenrod = new Color(184, 134, 11);\r\n    Color.Peru = new Color(205, 133, 63);\r\n    Color.RosyBrown = new Color(188, 143, 143);\r\n    Color.Goldenrod = new Color(218, 165, 32);\r\n    Color.SandyBrown = new Color(244, 164, 96);\r\n    Color.Tan = new Color(210, 180, 140);\r\n    Color.Burlywood = new Color(222, 184, 135);\r\n    Color.Wheat = new Color(245, 222, 179);\r\n    Color.NavajoWhite = new Color(255, 222, 173);\r\n    Color.Bisque = new Color(255, 228, 196);\r\n    Color.BlanchedAlmond = new Color(255, 235, 205);\r\n    Color.Cornsilk = new Color(255, 248, 220);\r\n    // Purple/Violet/Magenta Colors\r\n    Color.Indigo = new Color(75, 0, 130);\r\n    Color.Purple = new Color(128, 0, 128);\r\n    Color.DarkMagenta = new Color(139, 9, 139);\r\n    Color.DarkViolet = new Color(148, 0, 211);\r\n    Color.DarkSlateBlue = new Color(72, 61, 129);\r\n    Color.BlueViolet = new Color(138, 43, 226);\r\n    Color.DarkOrchid = new Color(153, 50, 204);\r\n    Color.Fuchsia = new Color(255, 0, 255);\r\n    Color.Magenta = new Color(255, 0, 255); // Alias Fuchsia\r\n    Color.SlateBlue = new Color(106, 90, 205);\r\n    Color.MediumSlateBlue = new Color(123, 104, 238);\r\n    Color.MediumOrchid = new Color(186, 85, 211);\r\n    Color.MediumPurple = new Color(147, 112, 219);\r\n    Color.Orchid = new Color(218, 11, 214);\r\n    Color.Violet = new Color(238, 130, 238);\r\n    Color.Plum = new Color(221, 160, 221);\r\n    Color.Thistle = new Color(216, 191, 216);\r\n    Color.Lavender = new Color(230, 230, 250);\r\n    // White Colors\r\n    Color.MistyRose = new Color(255, 228, 225);\r\n    Color.AntiqueWhite = new Color(250, 235, 215);\r\n    Color.Linen = new Color(250, 240, 230);\r\n    Color.Beige = new Color(245, 245, 220);\r\n    Color.WhiteSmoke = new Color(245, 245, 245);\r\n    Color.LavenderBlush = new Color(255, 240, 245);\r\n    Color.OldLace = new Color(253, 245, 230);\r\n    Color.AliceBlue = new Color(240, 248, 255);\r\n    Color.Seashell = new Color(255, 245, 238);\r\n    Color.GhostWhite = new Color(248, 248, 255);\r\n    Color.Honeydew = new Color(240, 255, 240);\r\n    Color.FloralWhite = new Color(255, 250, 240);\r\n    Color.Azure = new Color(240, 255, 255);\r\n    Color.MintCream = new Color(245, 255, 250);\r\n    Color.Snow = new Color(255, 250, 250);\r\n    Color.Ivory = new Color(255, 255, 240);\r\n    Color.White = new Color(255, 255, 255);\r\n    // Grey + Black Colors\r\n    Color.Black = new Color(0, 0, 0);\r\n    Color.DarkSlateGray = new Color(47, 79, 79);\r\n    Color.DimGray = new Color(105, 105, 105);\r\n    Color.SlateGray = new Color(112, 128, 144);\r\n    Color.Gray = new Color(128, 128, 128);\r\n    Color.LightSlateGray = new Color(119, 136, 153);\r\n    Color.DarkGray = new Color(169, 169, 169);\r\n    Color.Silver = new Color(192, 192, 192);\r\n    Color.LightGray = new Color(211, 211, 211);\r\n    Color.Gainsboro = new Color(220, 220, 220);\r\n    // Green Colors\r\n    Color.DarkGreen = new Color(0, 100, 0);\r\n    Color.Green = new Color(0, 128, 0);\r\n    Color.DarkOliveGreen = new Color(85, 107, 47);\r\n    Color.ForestGreen = new Color(34, 139, 34);\r\n    Color.SeaGreen = new Color(46, 139, 87);\r\n    Color.Olive = new Color(128, 128, 0);\r\n    Color.OliveDrab = new Color(107, 142, 35);\r\n    Color.MediumSeaGreen = new Color(60, 179, 113);\r\n    Color.LimeGreen = new Color(50, 205, 50);\r\n    Color.Lime = new Color(0, 255, 0);\r\n    Color.SpringGreen = new Color(0, 255, 127);\r\n    Color.MediumSpringGreen = new Color(0, 250, 154);\r\n    Color.DarkSeaGreen = new Color(143, 188, 143);\r\n    Color.MediumAquamarine = new Color(102, 205, 170);\r\n    Color.YellowGreen = new Color(154, 205, 50);\r\n    Color.LawnGreen = new Color(124, 252, 0);\r\n    Color.Chartreuse = new Color(127, 255, 0);\r\n    Color.LightGreen = new Color(133, 238, 144);\r\n    Color.GreenYellow = new Color(173, 255, 47);\r\n    Color.PaleGreen = new Color(152, 251, 152);\r\n    // Cyan Colors\r\n    Color.Teal = new Color(0, 128, 128);\r\n    Color.DarkCyan = new Color(0, 139, 139);\r\n    Color.LightSeaGreen = new Color(32, 178, 170);\r\n    Color.CadetBlue = new Color(95, 158, 160);\r\n    Color.DarkTurquoise = new Color(0, 206, 209);\r\n    Color.MediumTurquoise = new Color(72, 209, 204);\r\n    Color.Turquoise = new Color(64, 224, 208);\r\n    Color.Aqua = new Color(0, 255, 255);\r\n    Color.Cyan = new Color(0, 255, 255);\r\n    Color.Aquamarine = new Color(127, 255, 212);\r\n    Color.PaleTurquoise = new Color(175, 238, 238);\r\n    Color.LightCyan = new Color(244, 255, 255);\r\n    // Blue Colors\r\n    Color.Navy = new Color(0, 0, 128);\r\n    Color.DarkBlue = new Color(0, 0, 139);\r\n    Color.MediumBlue = new Color(0, 0, 205);\r\n    Color.Blue = new Color(0, 0, 225);\r\n    Color.MidnightBlue = new Color(25, 25, 112);\r\n    Color.RoyalBlue = new Color(65, 105, 225);\r\n    Color.SteelBlue = new Color(70, 130, 180);\r\n    Color.DodgerBlue = new Color(30, 144, 255);\r\n    Color.DeepSkyBlue = new Color(0, 191, 255);\r\n    Color.CornflowerBlue = new Color(100, 149, 237);\r\n    Color.SkyBlue = new Color(135, 206, 235);\r\n    Color.LightSkyBlue = new Color(135, 206, 250);\r\n    Color.LightSteelBlue = new Color(176, 196, 222);\r\n    Color.LightBlue = new Color(173, 216, 230);\r\n    Color.PowderBlue = new Color(176, 224, 230);\r\n    return Color;\r\n}());\r\n//# sourceMappingURL=color.js.map\n\n/**\r\n * Represents a glyph to be drawn to the screen.\r\n */\r\nvar Glyph = /** @class */ (function () {\r\n    /**\r\n     * Creates a Glyph from a single character.\r\n     *\r\n     * @param char - A single character.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    function Glyph(char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        this.char = char.charCodeAt(0);\r\n        this.fore = fore;\r\n        this.back = back;\r\n    }\r\n    /**\r\n     * Creates a glyph from a charCode.\r\n     *\r\n     * @param char - A number representing a charCode.\r\n     * @param fore - A foreground color (default white)\r\n     * @param back - A background color (default black)\r\n     */\r\n    Glyph.fromCharCode = function (char, fore, back) {\r\n        if (fore === void 0) { fore = Color.White; }\r\n        if (back === void 0) { back = Color.Black; }\r\n        return new Glyph(String.fromCharCode(char), fore, back);\r\n    };\r\n    /**\r\n     * Checks to see if two glyphs are equal.\r\n     * @param other Glyph - The other glyph.\r\n     */\r\n    Glyph.prototype.isEqual = function (other) {\r\n        if (other instanceof Glyph === false)\r\n            return false;\r\n        return (this.char === other.char &&\r\n            this.fore.isEqual(other.fore) &&\r\n            this.back.isEqual(other.back));\r\n    };\r\n    return Glyph;\r\n}());\r\n//# sourceMappingURL=glyph.js.map\n\nvar BaseTerminal = /** @class */ (function () {\r\n    function BaseTerminal(config) {\r\n        var _a, _b;\r\n        this.width = config.width;\r\n        this.height = config.height;\r\n        this.foreColor = (_a = config.foreColor) !== null && _a !== void 0 ? _a : Color.White;\r\n        this.backColor = (_b = config.backColor) !== null && _b !== void 0 ? _b : Color.Black;\r\n    }\r\n    BaseTerminal.prototype.size = function () {\r\n        return {\r\n            x: this.width,\r\n            y: this.height,\r\n        };\r\n    };\r\n    BaseTerminal.prototype.clear = function () {\r\n        this.fill({ x: 0, y: 0 }, { x: this.width - 1, y: this.height - 1 }, new Glyph(\" \"));\r\n    };\r\n    BaseTerminal.prototype.fill = function (v1, v2, glyph) {\r\n        for (var x = v1.x; x <= v2.x; x++) {\r\n            for (var y = v1.y; y <= v2.y; y++) {\r\n                this.drawGlyph({ x: x, y: y }, glyph);\r\n            }\r\n        }\r\n    };\r\n    BaseTerminal.prototype.writeAt = function (pos, text, fore, back) {\r\n        if (fore === void 0) { fore = this.foreColor; }\r\n        if (back === void 0) { back = this.backColor; }\r\n        for (var i = 0; i < text.length; i++) {\r\n            if (pos.x + i >= this.width)\r\n                break;\r\n            this.drawGlyph({\r\n                x: pos.x + i,\r\n                y: pos.y,\r\n            }, Glyph.fromCharCode(text.charCodeAt(i), fore, back));\r\n        }\r\n    };\r\n    BaseTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal(pos, { x: width, y: height }, this);\r\n    };\r\n    BaseTerminal.prototype.drawCharCode = function (pos, charCode, foreColor, backColor) {\r\n        if (foreColor === void 0) { foreColor = this.foreColor; }\r\n        if (backColor === void 0) { backColor = this.backColor; }\r\n        this.drawGlyph(pos, Glyph.fromCharCode(charCode, foreColor, backColor));\r\n    };\r\n    return BaseTerminal;\r\n}());\r\nvar RenderableTerminal = /** @class */ (function (_super) {\r\n    __extends(RenderableTerminal, _super);\r\n    function RenderableTerminal() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return RenderableTerminal;\r\n}(BaseTerminal));\r\nvar PortTerminal = /** @class */ (function (_super) {\r\n    __extends(PortTerminal, _super);\r\n    function PortTerminal(pos, size, root) {\r\n        var _this = _super.call(this, { width: size.x, height: size.y }) || this;\r\n        _this._x = pos.x;\r\n        _this._y = pos.y;\r\n        _this.portSize = size;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    PortTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        if (pos.x < 0 || pos.x >= this.width)\r\n            return;\r\n        if (pos.y < 0 || pos.y >= this.height)\r\n            return;\r\n        this.root.drawGlyph({ x: this._x + pos.x, y: this._y + pos.y }, glyph);\r\n    };\r\n    PortTerminal.prototype.port = function (pos, width, height) {\r\n        return new PortTerminal({\r\n            x: this._x + pos.x,\r\n            y: this._y + pos.y,\r\n        }, { x: width, y: height }, this.root);\r\n    };\r\n    return PortTerminal;\r\n}(BaseTerminal));\r\n//# sourceMappingURL=terminal.js.map\n\nvar Table = /** @class */ (function () {\r\n    function Table(width, height) {\r\n        this.items = [];\r\n        this.width = width;\r\n        this.height = height;\r\n        // ToDo - Initialize empty array\r\n    }\r\n    Table.prototype.fill = function (value) {\r\n        var size = this.width * this.height;\r\n        for (var i = 0; i < size; i++) {\r\n            this.items[i] = value;\r\n        }\r\n    };\r\n    Table.prototype.get = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (!this.isInBounds({ x: x, y: y }))\r\n            return undefined;\r\n        var index = y * this.width + x;\r\n        return this.items[index];\r\n    };\r\n    Table.prototype.set = function (pos, item) {\r\n        if (this.isInBounds(pos) === false)\r\n            throw new Error(pos.x + \":\" + pos.y + \" is not in bounds\");\r\n        var index = pos.y * this.width + pos.x;\r\n        if (item !== undefined)\r\n            this.items[index] = item;\r\n        else\r\n            delete this.items[index];\r\n    };\r\n    Table.prototype.isInBounds = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    Table.prototype.getNeighbors = function (pos, predicate, topology) {\r\n        var _this = this;\r\n        if (topology === void 0) { topology = \"eight\"; }\r\n        var neighbors = [];\r\n        neighbors.push({ x: pos.x + 1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + -1 });\r\n        neighbors.push({ x: pos.x + -1, y: pos.y });\r\n        neighbors.push({ x: pos.x, y: pos.y + 1 });\r\n        if (topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + -1 });\r\n            neighbors.push({ x: pos.x + -1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        neighbors = neighbors.filter(function (v) { return _this.isInBounds(v); });\r\n        if (predicate) {\r\n            neighbors = neighbors.filter(function (v) { return predicate(v, _this.get(v)); });\r\n        }\r\n        return neighbors;\r\n    };\r\n    Table.prototype.floodFillSelect = function (pos, targetValue) {\r\n        if (!targetValue) {\r\n            targetValue = this.get(pos);\r\n        }\r\n        // If given a target value, must match start position\r\n        if (this.get(pos) !== targetValue) {\r\n            return [];\r\n        }\r\n        var horizon = [pos];\r\n        // \"x:y\", for quick indexing\r\n        var floodFill = new Set();\r\n        while (horizon.length) {\r\n            var point = horizon.shift();\r\n            var value = this.get(point);\r\n            // If not the right type of value, we're done.\r\n            if (value !== targetValue)\r\n                continue;\r\n            // If we've already marked this spot\r\n            if (floodFill.has(point.x + \":\" + point.y))\r\n                continue;\r\n            // If it is the proper value, collect it\r\n            floodFill.add(point.x + \":\" + point.y);\r\n            // The add it's neighbors to the search horizon\r\n            var neighbors = this.getNeighbors(point, undefined, \"four\");\r\n            horizon.push.apply(horizon, neighbors);\r\n        }\r\n        var fill = Array.from(floodFill.keys()).map(function (str) {\r\n            var _a = str.split(\":\"), x = _a[0], y = _a[1];\r\n            return {\r\n                x: Number.parseInt(x),\r\n                y: Number.parseInt(y),\r\n            };\r\n        });\r\n        return fill;\r\n    };\r\n    return Table;\r\n}());\r\n//# sourceMappingURL=table.js.map\n\n/** Represents glyph data, agnostic to how it is rendered. */\r\nvar Display = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Display\r\n     * @param width - The number of glyphs wide the display is\r\n     * @param height - The number of glyphs tall the display is\r\n     */\r\n    function Display(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.glyphs = new Table(width, height);\r\n        this.changedGlyphs = new Table(width, height);\r\n    }\r\n    /**\r\n     * Returns a Vector representing the width/height of the display.\r\n     */\r\n    Display.prototype.size = function () {\r\n        return { x: this.width, y: this.height };\r\n    };\r\n    /**\r\n     * Sets a single glyph in the display.\r\n     *\r\n     * @param pos Vector2 - The position of the Glyph\r\n     * @param glyph Glyph - The Glyph\r\n     */\r\n    Display.prototype.setGlyph = function (pos, glyph) {\r\n        if (this.glyphs.isInBounds(pos) === false)\r\n            return;\r\n        if (glyph.isEqual(this.glyphs.get(pos))) {\r\n            this.changedGlyphs.set(pos, undefined);\r\n        }\r\n        else {\r\n            this.changedGlyphs.set(pos, glyph);\r\n        }\r\n    };\r\n    /**\r\n     * Calls the callback with each x/y/glyph pair.\r\n     * The terminal needs to decide how to render the display.\r\n     * The callback is called bottom to top, right to left.\r\n     */\r\n    Display.prototype.render = function (callback) {\r\n        for (var y = this.height - 1; y >= 0; y--) {\r\n            for (var x = this.width - 1; x >= 0; x--) {\r\n                var glyph = this.changedGlyphs.get({ x: x, y: y });\r\n                if (!glyph)\r\n                    continue;\r\n                callback({ x: x, y: y }, glyph);\r\n                this.glyphs.set({ x: x, y: y }, glyph);\r\n                this.changedGlyphs.set({ x: x, y: y }, undefined);\r\n            }\r\n        }\r\n    };\r\n    return Display;\r\n}());\r\n//# sourceMappingURL=display.js.map\n\nvar Font = /** @class */ (function () {\r\n    function Font(family, size, charWidth, height, x, y) {\r\n        this.family = family;\r\n        this.size = size;\r\n        this.charWidth = charWidth;\r\n        this.lineHeight = height;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return Font;\r\n}());\r\n/**\r\n * Renders a display by writing fonts to a canvas.\r\n */\r\nvar CanvasTerminal = /** @class */ (function (_super) {\r\n    __extends(CanvasTerminal, _super);\r\n    /**\r\n     * Creates a new CanvasTerminal.\r\n     *\r\n     * @param config - The config for the CanvasTerminal\r\n     * @param config.width - The width of the terminal in characters.\r\n     * @param config.height - The height of the terminal in characters.\r\n     * @param config.font Font - A font object\r\n     * @param config.mountNode - Will mount the canvas as a child of this node if provided.\r\n     */\r\n    function CanvasTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        _this.scale = window.devicePixelRatio;\r\n        _this.display = new Display(config.width, config.height);\r\n        _this.font = config.font;\r\n        _this.canvas = window.document.createElement(\"canvas\");\r\n        _this.context = _this.canvas.getContext(\"2d\");\r\n        var canvasWidth = _this.font.charWidth * _this.display.width;\r\n        var canvasHeight = _this.font.lineHeight * _this.display.height;\r\n        _this.canvas.width = canvasWidth * _this.scale;\r\n        _this.canvas.height = canvasHeight * _this.scale;\r\n        _this.canvas.style.width = canvasWidth + \"px\";\r\n        _this.canvas.style.height = canvasHeight + \"px\";\r\n        // Mount the canvas\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(_this.canvas);\r\n        }\r\n        else {\r\n            window.document.body.appendChild(_this.canvas);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws a glyph on the display.\r\n     *\r\n     * @param pos Vector2 - Position of the Glyph\r\n     * @param glyph Glyph - The Glyph to render\r\n     */\r\n    CanvasTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this.display.setGlyph(pos, glyph);\r\n    };\r\n    /**\r\n     * Renders the display to the canvas.\r\n     * Usually drawn once per animation frame.\r\n     */\r\n    CanvasTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        this.context.font = this.font.size * this.scale + \"px \" + this.font.family + \", monospace\";\r\n        this.display.render(function (pos, glyph) {\r\n            // Fill the background\r\n            _this.context.fillStyle = glyph.back.cssColor();\r\n            _this.context.fillRect(pos.x * _this.font.charWidth * _this.scale, pos.y * _this.font.lineHeight * _this.scale, _this.font.charWidth * _this.scale, _this.font.lineHeight * _this.scale);\r\n            // Dont bother drawing empty characters\r\n            if (glyph.char === 0 || \" \".charCodeAt(0) === glyph.char) {\r\n                return;\r\n            }\r\n            // Fill the char\r\n            _this.context.fillStyle = glyph.fore.cssColor();\r\n            _this.context.fillText(String.fromCharCode(glyph.char), (pos.x * _this.font.charWidth + _this.font.x) * _this.scale, (pos.y * _this.font.lineHeight + _this.font.y) * _this.scale);\r\n        });\r\n    };\r\n    /**\r\n     * Returns the character position given a pixel coordinate.\r\n     */\r\n    CanvasTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this.canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this.font.charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this.font.lineHeight),\r\n        };\r\n    };\r\n    /**\r\n     * Deletes the terminal, removing the canvas.\r\n     */\r\n    CanvasTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this.canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this.canvas);\r\n    };\r\n    return CanvasTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=canvas-terminal.js.map\n\n/// Unicode code points for various special characters that also exist on\r\n/// [code page 437][font].\r\n///\r\n/// [font]: http://en.wikipedia.org/wiki/Code_page_437\r\nvar CharCode;\r\n(function (CharCode) {\r\n    // 1 - 15.\r\n    CharCode[CharCode[\"whiteSmilingFace\"] = 9786] = \"whiteSmilingFace\";\r\n    CharCode[CharCode[\"blackSmilingFace\"] = 9787] = \"blackSmilingFace\";\r\n    CharCode[CharCode[\"blackHeartSuit\"] = 9829] = \"blackHeartSuit\";\r\n    CharCode[CharCode[\"blackDiamondSuit\"] = 9830] = \"blackDiamondSuit\";\r\n    CharCode[CharCode[\"blackClubSuit\"] = 9827] = \"blackClubSuit\";\r\n    CharCode[CharCode[\"blackSpadeSuit\"] = 9824] = \"blackSpadeSuit\";\r\n    CharCode[CharCode[\"bullet\"] = 8226] = \"bullet\";\r\n    CharCode[CharCode[\"inverseBullet\"] = 9688] = \"inverseBullet\";\r\n    CharCode[CharCode[\"whiteCircle\"] = 9675] = \"whiteCircle\";\r\n    CharCode[CharCode[\"inverseWhiteCircle\"] = 9689] = \"inverseWhiteCircle\";\r\n    CharCode[CharCode[\"maleSign\"] = 9794] = \"maleSign\";\r\n    CharCode[CharCode[\"femaleSign\"] = 9792] = \"femaleSign\";\r\n    CharCode[CharCode[\"eighthNote\"] = 9834] = \"eighthNote\";\r\n    CharCode[CharCode[\"beamedEighthNotes\"] = 9835] = \"beamedEighthNotes\";\r\n    CharCode[CharCode[\"whiteSunWithRays\"] = 9788] = \"whiteSunWithRays\";\r\n    // 16 - 31.\r\n    CharCode[CharCode[\"blackRightPointingPointer\"] = 9658] = \"blackRightPointingPointer\";\r\n    CharCode[CharCode[\"blackLeftPointingPointer\"] = 9668] = \"blackLeftPointingPointer\";\r\n    CharCode[CharCode[\"upDownArrow\"] = 8597] = \"upDownArrow\";\r\n    CharCode[CharCode[\"doubleExclamationMark\"] = 8252] = \"doubleExclamationMark\";\r\n    CharCode[CharCode[\"pilcrow\"] = 182] = \"pilcrow\";\r\n    CharCode[CharCode[\"sectionSign\"] = 167] = \"sectionSign\";\r\n    CharCode[CharCode[\"blackRectangle\"] = 9644] = \"blackRectangle\";\r\n    CharCode[CharCode[\"upDownArrowWithBase\"] = 8616] = \"upDownArrowWithBase\";\r\n    CharCode[CharCode[\"upwardsArrow\"] = 8593] = \"upwardsArrow\";\r\n    CharCode[CharCode[\"downwardsArrow\"] = 8595] = \"downwardsArrow\";\r\n    CharCode[CharCode[\"rightwardsArrow\"] = 8594] = \"rightwardsArrow\";\r\n    CharCode[CharCode[\"leftwardsArrow\"] = 8592] = \"leftwardsArrow\";\r\n    CharCode[CharCode[\"rightAngle\"] = 8735] = \"rightAngle\";\r\n    CharCode[CharCode[\"leftRightArrow\"] = 8596] = \"leftRightArrow\";\r\n    CharCode[CharCode[\"blackUpPointingTriangle\"] = 9650] = \"blackUpPointingTriangle\";\r\n    CharCode[CharCode[\"blackDownPointingTriangle\"] = 9660] = \"blackDownPointingTriangle\";\r\n    // 32 - 47.\r\n    CharCode[CharCode[\"space\"] = 32] = \"space\";\r\n    CharCode[CharCode[\"exclamationPoint\"] = 33] = \"exclamationPoint\";\r\n    CharCode[CharCode[\"doubleQuote\"] = 34] = \"doubleQuote\";\r\n    CharCode[CharCode[\"numberSign\"] = 35] = \"numberSign\";\r\n    CharCode[CharCode[\"dollarSign\"] = 36] = \"dollarSign\";\r\n    CharCode[CharCode[\"percent\"] = 37] = \"percent\";\r\n    CharCode[CharCode[\"ampersand\"] = 38] = \"ampersand\";\r\n    CharCode[CharCode[\"apostrophe\"] = 39] = \"apostrophe\";\r\n    CharCode[CharCode[\"leftParenthesis\"] = 40] = \"leftParenthesis\";\r\n    CharCode[CharCode[\"rightParenthesis\"] = 41] = \"rightParenthesis\";\r\n    CharCode[CharCode[\"asterisk\"] = 42] = \"asterisk\";\r\n    CharCode[CharCode[\"plus\"] = 43] = \"plus\";\r\n    CharCode[CharCode[\"comma\"] = 44] = \"comma\";\r\n    CharCode[CharCode[\"minus\"] = 45] = \"minus\";\r\n    CharCode[CharCode[\"period\"] = 46] = \"period\";\r\n    CharCode[CharCode[\"slash\"] = 47] = \"slash\";\r\n    // 48 - 63.\r\n    CharCode[CharCode[\"zero\"] = 48] = \"zero\";\r\n    CharCode[CharCode[\"one\"] = 49] = \"one\";\r\n    CharCode[CharCode[\"two\"] = 50] = \"two\";\r\n    CharCode[CharCode[\"three\"] = 51] = \"three\";\r\n    CharCode[CharCode[\"four\"] = 52] = \"four\";\r\n    CharCode[CharCode[\"five\"] = 53] = \"five\";\r\n    CharCode[CharCode[\"six\"] = 54] = \"six\";\r\n    CharCode[CharCode[\"seven\"] = 55] = \"seven\";\r\n    CharCode[CharCode[\"eight\"] = 56] = \"eight\";\r\n    CharCode[CharCode[\"nine\"] = 57] = \"nine\";\r\n    CharCode[CharCode[\"colon\"] = 58] = \"colon\";\r\n    CharCode[CharCode[\"semicolon\"] = 59] = \"semicolon\";\r\n    CharCode[CharCode[\"lessThan\"] = 60] = \"lessThan\";\r\n    CharCode[CharCode[\"equals\"] = 61] = \"equals\";\r\n    CharCode[CharCode[\"greaterThan\"] = 62] = \"greaterThan\";\r\n    CharCode[CharCode[\"questionMark\"] = 63] = \"questionMark\";\r\n    // 64 - 95.\r\n    CharCode[CharCode[\"at\"] = 64] = \"at\";\r\n    CharCode[CharCode[\"aUpper\"] = 65] = \"aUpper\";\r\n    CharCode[CharCode[\"bUpper\"] = 66] = \"bUpper\";\r\n    CharCode[CharCode[\"cUpper\"] = 67] = \"cUpper\";\r\n    CharCode[CharCode[\"dUpper\"] = 68] = \"dUpper\";\r\n    CharCode[CharCode[\"eUpper\"] = 69] = \"eUpper\";\r\n    CharCode[CharCode[\"fUpper\"] = 70] = \"fUpper\";\r\n    CharCode[CharCode[\"gUpper\"] = 71] = \"gUpper\";\r\n    CharCode[CharCode[\"hUpper\"] = 72] = \"hUpper\";\r\n    CharCode[CharCode[\"iUpper\"] = 73] = \"iUpper\";\r\n    CharCode[CharCode[\"jUpper\"] = 74] = \"jUpper\";\r\n    CharCode[CharCode[\"kUpper\"] = 75] = \"kUpper\";\r\n    CharCode[CharCode[\"lUpper\"] = 76] = \"lUpper\";\r\n    CharCode[CharCode[\"mUpper\"] = 77] = \"mUpper\";\r\n    CharCode[CharCode[\"nUpper\"] = 78] = \"nUpper\";\r\n    CharCode[CharCode[\"oUpper\"] = 79] = \"oUpper\";\r\n    CharCode[CharCode[\"pUpper\"] = 80] = \"pUpper\";\r\n    CharCode[CharCode[\"qUpper\"] = 81] = \"qUpper\";\r\n    CharCode[CharCode[\"rUpper\"] = 82] = \"rUpper\";\r\n    CharCode[CharCode[\"sUpper\"] = 83] = \"sUpper\";\r\n    CharCode[CharCode[\"tUpper\"] = 84] = \"tUpper\";\r\n    CharCode[CharCode[\"uUpper\"] = 85] = \"uUpper\";\r\n    CharCode[CharCode[\"vUpper\"] = 86] = \"vUpper\";\r\n    CharCode[CharCode[\"wUpper\"] = 87] = \"wUpper\";\r\n    CharCode[CharCode[\"xUpper\"] = 88] = \"xUpper\";\r\n    CharCode[CharCode[\"yUpper\"] = 89] = \"yUpper\";\r\n    CharCode[CharCode[\"zUpper\"] = 90] = \"zUpper\";\r\n    CharCode[CharCode[\"leftBracket\"] = 91] = \"leftBracket\";\r\n    CharCode[CharCode[\"backSlash\"] = 92] = \"backSlash\";\r\n    CharCode[CharCode[\"rightBracket\"] = 93] = \"rightBracket\";\r\n    CharCode[CharCode[\"caret\"] = 94] = \"caret\";\r\n    CharCode[CharCode[\"underscore\"] = 95] = \"underscore\";\r\n    // 96 - 127.\r\n    CharCode[CharCode[\"accent\"] = 96] = \"accent\";\r\n    CharCode[CharCode[\"aLower\"] = 97] = \"aLower\";\r\n    CharCode[CharCode[\"bLower\"] = 98] = \"bLower\";\r\n    CharCode[CharCode[\"cLower\"] = 99] = \"cLower\";\r\n    CharCode[CharCode[\"dLower\"] = 100] = \"dLower\";\r\n    CharCode[CharCode[\"eLower\"] = 101] = \"eLower\";\r\n    CharCode[CharCode[\"fLower\"] = 102] = \"fLower\";\r\n    CharCode[CharCode[\"gLower\"] = 103] = \"gLower\";\r\n    CharCode[CharCode[\"hLower\"] = 104] = \"hLower\";\r\n    CharCode[CharCode[\"iLower\"] = 105] = \"iLower\";\r\n    CharCode[CharCode[\"jLower\"] = 106] = \"jLower\";\r\n    CharCode[CharCode[\"kLower\"] = 107] = \"kLower\";\r\n    CharCode[CharCode[\"lLower\"] = 108] = \"lLower\";\r\n    CharCode[CharCode[\"mLower\"] = 109] = \"mLower\";\r\n    CharCode[CharCode[\"nLower\"] = 110] = \"nLower\";\r\n    CharCode[CharCode[\"oLower\"] = 111] = \"oLower\";\r\n    CharCode[CharCode[\"pLower\"] = 112] = \"pLower\";\r\n    CharCode[CharCode[\"qLower\"] = 113] = \"qLower\";\r\n    CharCode[CharCode[\"rLower\"] = 114] = \"rLower\";\r\n    CharCode[CharCode[\"sLower\"] = 115] = \"sLower\";\r\n    CharCode[CharCode[\"tLower\"] = 116] = \"tLower\";\r\n    CharCode[CharCode[\"uLower\"] = 117] = \"uLower\";\r\n    CharCode[CharCode[\"vLower\"] = 118] = \"vLower\";\r\n    CharCode[CharCode[\"wLower\"] = 119] = \"wLower\";\r\n    CharCode[CharCode[\"xLower\"] = 120] = \"xLower\";\r\n    CharCode[CharCode[\"yLower\"] = 121] = \"yLower\";\r\n    CharCode[CharCode[\"zLower\"] = 122] = \"zLower\";\r\n    CharCode[CharCode[\"leftBrace\"] = 123] = \"leftBrace\";\r\n    CharCode[CharCode[\"pipe\"] = 124] = \"pipe\";\r\n    CharCode[CharCode[\"rightBrace\"] = 125] = \"rightBrace\";\r\n    CharCode[CharCode[\"tilde\"] = 126] = \"tilde\";\r\n    CharCode[CharCode[\"house\"] = 8962] = \"house\";\r\n    // 128 - 143.\r\n    CharCode[CharCode[\"latinCapitalLetterCWithCedilla\"] = 199] = \"latinCapitalLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithDiaeresis\"] = 252] = \"latinSmallLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithAcute\"] = 233] = \"latinSmallLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithCircumflex\"] = 226] = \"latinSmallLetterAWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithDiaeresis\"] = 228] = \"latinSmallLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithGrave\"] = 224] = \"latinSmallLetterAWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterAWithRingAbove\"] = 229] = \"latinSmallLetterAWithRingAbove\";\r\n    CharCode[CharCode[\"latinSmallLetterCWithCedilla\"] = 231] = \"latinSmallLetterCWithCedilla\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithCircumflex\"] = 234] = \"latinSmallLetterEWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithDiaeresis\"] = 235] = \"latinSmallLetterEWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterEWithGrave\"] = 232] = \"latinSmallLetterEWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithDiaeresis\"] = 239] = \"latinSmallLetterIWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithCircumflex\"] = 238] = \"latinSmallLetterIWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithGrave\"] = 236] = \"latinSmallLetterIWithGrave\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithDiaeresis\"] = 196] = \"latinCapitalLetterAWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterAWithRingAbove\"] = 197] = \"latinCapitalLetterAWithRingAbove\";\r\n    // 144 - 159.\r\n    CharCode[CharCode[\"latinCapitalLetterEWithAcute\"] = 201] = \"latinCapitalLetterEWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterAe\"] = 230] = \"latinSmallLetterAe\";\r\n    CharCode[CharCode[\"latinCapitalLetterAe\"] = 198] = \"latinCapitalLetterAe\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithCircumflex\"] = 244] = \"latinSmallLetterOWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithDiaeresis\"] = 246] = \"latinSmallLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithGrave\"] = 242] = \"latinSmallLetterOWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithCircumflex\"] = 251] = \"latinSmallLetterUWithCircumflex\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithGrave\"] = 249] = \"latinSmallLetterUWithGrave\";\r\n    CharCode[CharCode[\"latinSmallLetterYWithDiaeresis\"] = 255] = \"latinSmallLetterYWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterOWithDiaeresis\"] = 214] = \"latinCapitalLetterOWithDiaeresis\";\r\n    CharCode[CharCode[\"latinCapitalLetterUWithDiaeresis\"] = 220] = \"latinCapitalLetterUWithDiaeresis\";\r\n    CharCode[CharCode[\"centSign\"] = 162] = \"centSign\";\r\n    CharCode[CharCode[\"poundSign\"] = 163] = \"poundSign\";\r\n    CharCode[CharCode[\"yenSign\"] = 165] = \"yenSign\";\r\n    CharCode[CharCode[\"pesetaSign\"] = 8359] = \"pesetaSign\";\r\n    CharCode[CharCode[\"latinSmallLetterFWithHook\"] = 402] = \"latinSmallLetterFWithHook\";\r\n    // 160 - 175.\r\n    CharCode[CharCode[\"latinSmallLetterAWithAcute\"] = 225] = \"latinSmallLetterAWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterIWithAcute\"] = 237] = \"latinSmallLetterIWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterOWithAcute\"] = 243] = \"latinSmallLetterOWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterUWithAcute\"] = 250] = \"latinSmallLetterUWithAcute\";\r\n    CharCode[CharCode[\"latinSmallLetterNWithTilde\"] = 241] = \"latinSmallLetterNWithTilde\";\r\n    CharCode[CharCode[\"latinCapitalLetterNWithTilde\"] = 209] = \"latinCapitalLetterNWithTilde\";\r\n    CharCode[CharCode[\"feminineOrdinalIndicator\"] = 170] = \"feminineOrdinalIndicator\";\r\n    CharCode[CharCode[\"masculineOrdinalIndicator\"] = 186] = \"masculineOrdinalIndicator\";\r\n    CharCode[CharCode[\"invertedQuestionMark\"] = 191] = \"invertedQuestionMark\";\r\n    CharCode[CharCode[\"reversedNotSign\"] = 8976] = \"reversedNotSign\";\r\n    CharCode[CharCode[\"notSign\"] = 172] = \"notSign\";\r\n    CharCode[CharCode[\"vulgarFractionOneHalf\"] = 189] = \"vulgarFractionOneHalf\";\r\n    CharCode[CharCode[\"vulgarFractionOneQuarter\"] = 188] = \"vulgarFractionOneQuarter\";\r\n    CharCode[CharCode[\"invertedExclamationMark\"] = 161] = \"invertedExclamationMark\";\r\n    CharCode[CharCode[\"leftPointingDoubleAngleQuotationMark\"] = 171] = \"leftPointingDoubleAngleQuotationMark\";\r\n    CharCode[CharCode[\"rightPointingDoubleAngleQuotationMark\"] = 187] = \"rightPointingDoubleAngleQuotationMark\";\r\n    // 176 - 191.\r\n    CharCode[CharCode[\"lightShade\"] = 9617] = \"lightShade\";\r\n    CharCode[CharCode[\"mediumShade\"] = 9618] = \"mediumShade\";\r\n    CharCode[CharCode[\"darkShade\"] = 9619] = \"darkShade\";\r\n    CharCode[CharCode[\"boxDrawingsLightVertical\"] = 9474] = \"boxDrawingsLightVertical\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndLeft\"] = 9508] = \"boxDrawingsLightVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndLeftDouble\"] = 9569] = \"boxDrawingsVerticalSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndLeftSingle\"] = 9570] = \"boxDrawingsVerticalDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndLeftSingle\"] = 9558] = \"boxDrawingsDownDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndLeftDouble\"] = 9557] = \"boxDrawingsDownSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndLeft\"] = 9571] = \"boxDrawingsDoubleVerticalAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVertical\"] = 9553] = \"boxDrawingsDoubleVertical\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndLeft\"] = 9559] = \"boxDrawingsDoubleDownAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndLeft\"] = 9565] = \"boxDrawingsDoubleUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndLeftSingle\"] = 9564] = \"boxDrawingsUpDoubleAndLeftSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndLeftDouble\"] = 9563] = \"boxDrawingsUpSingleAndLeftDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndLeft\"] = 9488] = \"boxDrawingsLightDownAndLeft\";\r\n    // 192 - 207.\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndRight\"] = 9492] = \"boxDrawingsLightUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndHorizontal\"] = 9524] = \"boxDrawingsLightUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndHorizontal\"] = 9516] = \"boxDrawingsLightDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndRight\"] = 9500] = \"boxDrawingsLightVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsLightHorizontal\"] = 9472] = \"boxDrawingsLightHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsLightVerticalAndHorizontal\"] = 9532] = \"boxDrawingsLightVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndRightDouble\"] = 9566] = \"boxDrawingsVerticalSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndRightSingle\"] = 9567] = \"boxDrawingsVerticalDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndRight\"] = 9562] = \"boxDrawingsDoubleUpAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndRight\"] = 9556] = \"boxDrawingsDoubleDownAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleUpAndHorizontal\"] = 9577] = \"boxDrawingsDoubleUpAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleDownAndHorizontal\"] = 9574] = \"boxDrawingsDoubleDownAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndRight\"] = 9568] = \"boxDrawingsDoubleVerticalAndRight\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleHorizontal\"] = 9552] = \"boxDrawingsDoubleHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsDoubleVerticalAndHorizontal\"] = 9580] = \"boxDrawingsDoubleVerticalAndHorizontal\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndHorizontalDouble\"] = 9575] = \"boxDrawingsUpSingleAndHorizontalDouble\";\r\n    // 208 - 223.\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndHorizontalSingle\"] = 9576] = \"boxDrawingsUpDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndHorizontalDouble\"] = 9572] = \"boxDrawingsDownSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndHorizontalSingle\"] = 9573] = \"boxDrawingsDownDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpDoubleAndRightSingle\"] = 9561] = \"boxDrawingsUpDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsUpSingleAndRightDouble\"] = 9560] = \"boxDrawingsUpSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownSingleAndRightDouble\"] = 9554] = \"boxDrawingsDownSingleAndRightDouble\";\r\n    CharCode[CharCode[\"boxDrawingsDownDoubleAndRightSingle\"] = 9555] = \"boxDrawingsDownDoubleAndRightSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalDoubleAndHorizontalSingle\"] = 9579] = \"boxDrawingsVerticalDoubleAndHorizontalSingle\";\r\n    CharCode[CharCode[\"boxDrawingsVerticalSingleAndHorizontalDouble\"] = 9578] = \"boxDrawingsVerticalSingleAndHorizontalDouble\";\r\n    CharCode[CharCode[\"boxDrawingsLightUpAndLeft\"] = 9496] = \"boxDrawingsLightUpAndLeft\";\r\n    CharCode[CharCode[\"boxDrawingsLightDownAndRight\"] = 9484] = \"boxDrawingsLightDownAndRight\";\r\n    CharCode[CharCode[\"fullBlock\"] = 9608] = \"fullBlock\";\r\n    CharCode[CharCode[\"lowerHalfBlock\"] = 9604] = \"lowerHalfBlock\";\r\n    CharCode[CharCode[\"leftHalfBlock\"] = 9612] = \"leftHalfBlock\";\r\n    CharCode[CharCode[\"rightHalfBlock\"] = 9616] = \"rightHalfBlock\";\r\n    CharCode[CharCode[\"upperHalfBlock\"] = 9600] = \"upperHalfBlock\";\r\n    // 224 - 239.\r\n    CharCode[CharCode[\"greekSmallLetterAlpha\"] = 945] = \"greekSmallLetterAlpha\";\r\n    CharCode[CharCode[\"latinSmallLetterSharpS\"] = 223] = \"latinSmallLetterSharpS\";\r\n    CharCode[CharCode[\"greekCapitalLetterGamma\"] = 915] = \"greekCapitalLetterGamma\";\r\n    CharCode[CharCode[\"greekSmallLetterPi\"] = 960] = \"greekSmallLetterPi\";\r\n    CharCode[CharCode[\"greekCapitalLetterSigma\"] = 931] = \"greekCapitalLetterSigma\";\r\n    CharCode[CharCode[\"greekSmallLetterSigma\"] = 963] = \"greekSmallLetterSigma\";\r\n    CharCode[CharCode[\"microSign\"] = 181] = \"microSign\";\r\n    CharCode[CharCode[\"greekSmallLetterTau\"] = 964] = \"greekSmallLetterTau\";\r\n    CharCode[CharCode[\"greekCapitalLetterPhi\"] = 934] = \"greekCapitalLetterPhi\";\r\n    CharCode[CharCode[\"greekCapitalLetterTheta\"] = 920] = \"greekCapitalLetterTheta\";\r\n    CharCode[CharCode[\"greekCapitalLetterOmega\"] = 937] = \"greekCapitalLetterOmega\";\r\n    CharCode[CharCode[\"greekSmallLetterDelta\"] = 948] = \"greekSmallLetterDelta\";\r\n    CharCode[CharCode[\"infinity\"] = 8734] = \"infinity\";\r\n    CharCode[CharCode[\"greekSmallLetterPhi\"] = 966] = \"greekSmallLetterPhi\";\r\n    CharCode[CharCode[\"greekSmallLetterEpsilon\"] = 949] = \"greekSmallLetterEpsilon\";\r\n    CharCode[CharCode[\"intersection\"] = 8745] = \"intersection\";\r\n    // 240 - 254.\r\n    CharCode[CharCode[\"identicalTo\"] = 8801] = \"identicalTo\";\r\n    CharCode[CharCode[\"plusMinusSign\"] = 177] = \"plusMinusSign\";\r\n    CharCode[CharCode[\"greaterThanOrEqualTo\"] = 8805] = \"greaterThanOrEqualTo\";\r\n    CharCode[CharCode[\"lessThanOrEqualTo\"] = 8804] = \"lessThanOrEqualTo\";\r\n    CharCode[CharCode[\"topHalfIntegral\"] = 8992] = \"topHalfIntegral\";\r\n    CharCode[CharCode[\"bottomHalfIntegral\"] = 8993] = \"bottomHalfIntegral\";\r\n    CharCode[CharCode[\"divisionSign\"] = 247] = \"divisionSign\";\r\n    CharCode[CharCode[\"almostEqualTo\"] = 8776] = \"almostEqualTo\";\r\n    CharCode[CharCode[\"degreeSign\"] = 176] = \"degreeSign\";\r\n    CharCode[CharCode[\"bulletOperator\"] = 8729] = \"bulletOperator\";\r\n    CharCode[CharCode[\"middleDot\"] = 183] = \"middleDot\";\r\n    CharCode[CharCode[\"squareRoot\"] = 8730] = \"squareRoot\";\r\n    CharCode[CharCode[\"superscriptLatinSmallLetterN\"] = 8319] = \"superscriptLatinSmallLetterN\";\r\n    CharCode[CharCode[\"superscriptTwo\"] = 178] = \"superscriptTwo\";\r\n    CharCode[CharCode[\"blackSquare\"] = 9632] = \"blackSquare\";\r\n})(CharCode || (CharCode = {}));\r\n//# sourceMappingURL=char-code.js.map\n\nvar _a;\r\nvar unicodeMap = (_a = {},\r\n    // 1 - 15.\r\n    _a[CharCode.whiteSmilingFace] = 1,\r\n    _a[CharCode.blackSmilingFace] = 2,\r\n    _a[CharCode.blackHeartSuit] = 3,\r\n    _a[CharCode.blackDiamondSuit] = 4,\r\n    _a[CharCode.blackClubSuit] = 5,\r\n    _a[CharCode.blackSpadeSuit] = 6,\r\n    _a[CharCode.bullet] = 7,\r\n    _a[CharCode.inverseBullet] = 8,\r\n    _a[CharCode.whiteCircle] = 9,\r\n    _a[CharCode.inverseWhiteCircle] = 10,\r\n    _a[CharCode.maleSign] = 11,\r\n    _a[CharCode.femaleSign] = 12,\r\n    _a[CharCode.eighthNote] = 13,\r\n    _a[CharCode.beamedEighthNotes] = 14,\r\n    _a[CharCode.whiteSunWithRays] = 15,\r\n    // 16 - 31.\r\n    _a[CharCode.blackRightPointingPointer] = 16,\r\n    _a[CharCode.blackLeftPointingPointer] = 17,\r\n    _a[CharCode.upDownArrow] = 18,\r\n    _a[CharCode.doubleExclamationMark] = 19,\r\n    _a[CharCode.pilcrow] = 20,\r\n    _a[CharCode.sectionSign] = 21,\r\n    _a[CharCode.blackRectangle] = 22,\r\n    _a[CharCode.upDownArrowWithBase] = 23,\r\n    _a[CharCode.upwardsArrow] = 24,\r\n    _a[CharCode.downwardsArrow] = 25,\r\n    _a[CharCode.rightwardsArrow] = 26,\r\n    _a[CharCode.leftwardsArrow] = 27,\r\n    _a[CharCode.rightAngle] = 28,\r\n    _a[CharCode.leftRightArrow] = 29,\r\n    _a[CharCode.blackUpPointingTriangle] = 30,\r\n    _a[CharCode.blackDownPointingTriangle] = 31,\r\n    // 127.\r\n    _a[CharCode.house] = 127,\r\n    // 128 - 143.\r\n    _a[CharCode.latinCapitalLetterCWithCedilla] = 128,\r\n    _a[CharCode.latinSmallLetterUWithDiaeresis] = 129,\r\n    _a[CharCode.latinSmallLetterEWithAcute] = 130,\r\n    _a[CharCode.latinSmallLetterAWithCircumflex] = 131,\r\n    _a[CharCode.latinSmallLetterAWithDiaeresis] = 132,\r\n    _a[CharCode.latinSmallLetterAWithGrave] = 133,\r\n    _a[CharCode.latinSmallLetterAWithRingAbove] = 134,\r\n    _a[CharCode.latinSmallLetterCWithCedilla] = 135,\r\n    _a[CharCode.latinSmallLetterEWithCircumflex] = 136,\r\n    _a[CharCode.latinSmallLetterEWithDiaeresis] = 137,\r\n    _a[CharCode.latinSmallLetterEWithGrave] = 138,\r\n    _a[CharCode.latinSmallLetterIWithDiaeresis] = 139,\r\n    _a[CharCode.latinSmallLetterIWithCircumflex] = 140,\r\n    _a[CharCode.latinSmallLetterIWithGrave] = 141,\r\n    _a[CharCode.latinCapitalLetterAWithDiaeresis] = 142,\r\n    _a[CharCode.latinCapitalLetterAWithRingAbove] = 143,\r\n    // 144 - 159.\r\n    _a[CharCode.latinCapitalLetterEWithAcute] = 144,\r\n    _a[CharCode.latinSmallLetterAe] = 145,\r\n    _a[CharCode.latinCapitalLetterAe] = 146,\r\n    _a[CharCode.latinSmallLetterOWithCircumflex] = 147,\r\n    _a[CharCode.latinSmallLetterOWithDiaeresis] = 148,\r\n    _a[CharCode.latinSmallLetterOWithGrave] = 149,\r\n    _a[CharCode.latinSmallLetterUWithCircumflex] = 150,\r\n    _a[CharCode.latinSmallLetterUWithGrave] = 151,\r\n    _a[CharCode.latinSmallLetterYWithDiaeresis] = 152,\r\n    _a[CharCode.latinCapitalLetterOWithDiaeresis] = 153,\r\n    _a[CharCode.latinCapitalLetterUWithDiaeresis] = 154,\r\n    _a[CharCode.centSign] = 155,\r\n    _a[CharCode.poundSign] = 156,\r\n    _a[CharCode.yenSign] = 157,\r\n    _a[CharCode.pesetaSign] = 158,\r\n    _a[CharCode.latinSmallLetterFWithHook] = 159,\r\n    // 160 - 175.\r\n    _a[CharCode.latinSmallLetterAWithAcute] = 160,\r\n    _a[CharCode.latinSmallLetterIWithAcute] = 161,\r\n    _a[CharCode.latinSmallLetterOWithAcute] = 162,\r\n    _a[CharCode.latinSmallLetterUWithAcute] = 163,\r\n    _a[CharCode.latinSmallLetterNWithTilde] = 164,\r\n    _a[CharCode.latinCapitalLetterNWithTilde] = 165,\r\n    _a[CharCode.feminineOrdinalIndicator] = 166,\r\n    _a[CharCode.masculineOrdinalIndicator] = 167,\r\n    _a[CharCode.invertedQuestionMark] = 168,\r\n    _a[CharCode.reversedNotSign] = 169,\r\n    _a[CharCode.notSign] = 170,\r\n    _a[CharCode.vulgarFractionOneHalf] = 171,\r\n    _a[CharCode.vulgarFractionOneQuarter] = 172,\r\n    _a[CharCode.invertedExclamationMark] = 173,\r\n    _a[CharCode.leftPointingDoubleAngleQuotationMark] = 174,\r\n    _a[CharCode.rightPointingDoubleAngleQuotationMark] = 175,\r\n    // 176 - 191.\r\n    _a[CharCode.lightShade] = 176,\r\n    _a[CharCode.mediumShade] = 177,\r\n    _a[CharCode.darkShade] = 178,\r\n    _a[CharCode.boxDrawingsLightVertical] = 179,\r\n    _a[CharCode.boxDrawingsLightVerticalAndLeft] = 180,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndLeftDouble] = 181,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndLeftSingle] = 182,\r\n    _a[CharCode.boxDrawingsDownDoubleAndLeftSingle] = 183,\r\n    _a[CharCode.boxDrawingsDownSingleAndLeftDouble] = 184,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndLeft] = 185,\r\n    _a[CharCode.boxDrawingsDoubleVertical] = 186,\r\n    _a[CharCode.boxDrawingsDoubleDownAndLeft] = 187,\r\n    _a[CharCode.boxDrawingsDoubleUpAndLeft] = 188,\r\n    _a[CharCode.boxDrawingsUpDoubleAndLeftSingle] = 189,\r\n    _a[CharCode.boxDrawingsUpSingleAndLeftDouble] = 190,\r\n    _a[CharCode.boxDrawingsLightDownAndLeft] = 191,\r\n    // 192 - 207.\r\n    _a[CharCode.boxDrawingsLightUpAndRight] = 192,\r\n    _a[CharCode.boxDrawingsLightUpAndHorizontal] = 193,\r\n    _a[CharCode.boxDrawingsLightDownAndHorizontal] = 194,\r\n    _a[CharCode.boxDrawingsLightVerticalAndRight] = 195,\r\n    _a[CharCode.boxDrawingsLightHorizontal] = 196,\r\n    _a[CharCode.boxDrawingsLightVerticalAndHorizontal] = 197,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndRightDouble] = 198,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndRightSingle] = 199,\r\n    _a[CharCode.boxDrawingsDoubleUpAndRight] = 200,\r\n    _a[CharCode.boxDrawingsDoubleDownAndRight] = 201,\r\n    _a[CharCode.boxDrawingsDoubleUpAndHorizontal] = 202,\r\n    _a[CharCode.boxDrawingsDoubleDownAndHorizontal] = 203,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndRight] = 204,\r\n    _a[CharCode.boxDrawingsDoubleHorizontal] = 205,\r\n    _a[CharCode.boxDrawingsDoubleVerticalAndHorizontal] = 206,\r\n    _a[CharCode.boxDrawingsUpSingleAndHorizontalDouble] = 207,\r\n    // 208 - 223.\r\n    _a[CharCode.boxDrawingsUpDoubleAndHorizontalSingle] = 208,\r\n    _a[CharCode.boxDrawingsDownSingleAndHorizontalDouble] = 209,\r\n    _a[CharCode.boxDrawingsDownDoubleAndHorizontalSingle] = 210,\r\n    _a[CharCode.boxDrawingsUpDoubleAndRightSingle] = 211,\r\n    _a[CharCode.boxDrawingsUpSingleAndRightDouble] = 212,\r\n    _a[CharCode.boxDrawingsDownSingleAndRightDouble] = 213,\r\n    _a[CharCode.boxDrawingsDownDoubleAndRightSingle] = 214,\r\n    _a[CharCode.boxDrawingsVerticalDoubleAndHorizontalSingle] = 215,\r\n    _a[CharCode.boxDrawingsVerticalSingleAndHorizontalDouble] = 216,\r\n    _a[CharCode.boxDrawingsLightUpAndLeft] = 217,\r\n    _a[CharCode.boxDrawingsLightDownAndRight] = 218,\r\n    _a[CharCode.fullBlock] = 219,\r\n    _a[CharCode.lowerHalfBlock] = 220,\r\n    _a[CharCode.leftHalfBlock] = 221,\r\n    _a[CharCode.rightHalfBlock] = 222,\r\n    _a[CharCode.upperHalfBlock] = 223,\r\n    // 224 - 239.\r\n    _a[CharCode.greekSmallLetterAlpha] = 224,\r\n    _a[CharCode.latinSmallLetterSharpS] = 225,\r\n    _a[CharCode.greekCapitalLetterGamma] = 226,\r\n    _a[CharCode.greekSmallLetterPi] = 227,\r\n    _a[CharCode.greekCapitalLetterSigma] = 228,\r\n    _a[CharCode.greekSmallLetterSigma] = 229,\r\n    _a[CharCode.microSign] = 230,\r\n    _a[CharCode.greekSmallLetterTau] = 231,\r\n    _a[CharCode.greekCapitalLetterPhi] = 232,\r\n    _a[CharCode.greekCapitalLetterTheta] = 233,\r\n    _a[CharCode.greekCapitalLetterOmega] = 234,\r\n    _a[CharCode.greekSmallLetterDelta] = 235,\r\n    _a[CharCode.infinity] = 236,\r\n    _a[CharCode.greekSmallLetterPhi] = 237,\r\n    _a[CharCode.greekSmallLetterEpsilon] = 238,\r\n    _a[CharCode.intersection] = 239,\r\n    // 240 - 255.\r\n    _a[CharCode.identicalTo] = 240,\r\n    _a[CharCode.plusMinusSign] = 241,\r\n    _a[CharCode.greaterThanOrEqualTo] = 242,\r\n    _a[CharCode.lessThanOrEqualTo] = 243,\r\n    _a[CharCode.topHalfIntegral] = 244,\r\n    _a[CharCode.bottomHalfIntegral] = 245,\r\n    _a[CharCode.divisionSign] = 246,\r\n    _a[CharCode.almostEqualTo] = 247,\r\n    _a[CharCode.degreeSign] = 248,\r\n    _a[CharCode.bulletOperator] = 249,\r\n    _a[CharCode.middleDot] = 250,\r\n    _a[CharCode.squareRoot] = 251,\r\n    _a[CharCode.superscriptLatinSmallLetterN] = 252,\r\n    _a[CharCode.superscriptTwo] = 253,\r\n    _a[CharCode.blackSquare] = 254,\r\n    _a);\r\n//# sourceMappingURL=unicodemap.js.map\n\nvar RetroTerminal = /** @class */ (function (_super) {\r\n    __extends(RetroTerminal, _super);\r\n    function RetroTerminal(config) {\r\n        var _this = _super.call(this, config) || this;\r\n        // A cache of the tinted font images. Each key is a color, and the image is the font in that color.\r\n        _this._fontColorCache = new Map();\r\n        _this._imageLoaded = false;\r\n        _this._display = new Display(config.width, config.height);\r\n        _this._charWidth = config.charWidth;\r\n        _this._charHeight = config.charHeight;\r\n        _this._scale = window.devicePixelRatio;\r\n        // Font\r\n        _this._font = new Image();\r\n        _this._font.src = config.imageURL;\r\n        // Create canvas\r\n        var canvas = window.document.createElement(\"canvas\");\r\n        var canvasWidth = config.charWidth * config.width;\r\n        var canvasHeight = config.charHeight * config.height;\r\n        canvas.width = canvasWidth * _this._scale;\r\n        canvas.height = canvasHeight * _this._scale;\r\n        canvas.style.width = canvasWidth + \"px\";\r\n        canvas.style.height = canvasHeight + \"px\";\r\n        if (config.mountNode) {\r\n            config.mountNode.appendChild(canvas);\r\n        }\r\n        else {\r\n            document.body.appendChild(canvas);\r\n        }\r\n        _this._canvas = canvas;\r\n        _this._context = canvas.getContext(\"2d\");\r\n        _this._font.onload = function () {\r\n            _this._imageLoaded = true;\r\n            _this.render();\r\n        };\r\n        return _this;\r\n    }\r\n    RetroTerminal.prototype.drawGlyph = function (pos, glyph) {\r\n        this._display.setGlyph(pos, glyph);\r\n    };\r\n    RetroTerminal.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this._imageLoaded)\r\n            return;\r\n        this._display.render(function (pos, glyph) {\r\n            var char = glyph.char;\r\n            // Remap it if it's a Unicode character\r\n            if (unicodeMap[char] !== undefined) {\r\n                char = unicodeMap[char];\r\n            }\r\n            var sx = (char % 32) * _this._charWidth;\r\n            var sy = Math.floor(char / 32) * _this._charHeight;\r\n            // Fill the background\r\n            _this._context.fillStyle = glyph.back.cssColor();\r\n            _this._context.fillRect(pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n            // Dont bother with empty characters\r\n            if (char == 0 || char == CharCode.space)\r\n                return;\r\n            var color = _this.getColorFont(glyph.fore);\r\n            _this._context.imageSmoothingEnabled = false;\r\n            _this._context.drawImage(color, sx, sy, _this._charWidth, _this._charHeight, pos.x * _this._charWidth * _this._scale, pos.y * _this._charHeight * _this._scale, _this._charWidth * _this._scale, _this._charHeight * _this._scale);\r\n        });\r\n    };\r\n    RetroTerminal.prototype.pixelToChar = function (pixel) {\r\n        var rect = this._canvas.getBoundingClientRect();\r\n        return {\r\n            x: Math.floor((pixel.x - rect.left) / this._charWidth),\r\n            y: Math.floor((pixel.y - rect.top) / this._charHeight),\r\n        };\r\n    };\r\n    RetroTerminal.prototype.getColorFont = function (color) {\r\n        // If cached return\r\n        var colorName = color.cssColor();\r\n        var cached = this._fontColorCache.get(colorName);\r\n        if (cached)\r\n            return cached;\r\n        // Create a font using the given color.\r\n        var tint = window.document.createElement(\"canvas\");\r\n        tint.width = this._font.width;\r\n        tint.height = this._font.height;\r\n        var context = tint.getContext(\"2d\");\r\n        // Draw the font\r\n        context.drawImage(this._font, 0, 0);\r\n        // Tint it by filling in the existing alpha with the color\r\n        context.globalCompositeOperation = \"source-atop\";\r\n        context.fillStyle = color.cssColor();\r\n        context.fillRect(0, 0, this._font.width, this._font.height);\r\n        this._fontColorCache.set(colorName, tint);\r\n        return tint;\r\n    };\r\n    /** Deletes the terminal, removing the canvas. */\r\n    RetroTerminal.prototype.delete = function () {\r\n        var _a;\r\n        (_a = this._canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this._canvas);\r\n    };\r\n    return RetroTerminal;\r\n}(RenderableTerminal));\r\n//# sourceMappingURL=retro-terminal.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index = /*#__PURE__*/Object.freeze({\n    CanvasTerminal: CanvasTerminal,\n    Font: Font,\n    RetroTerminal: RetroTerminal,\n    Color: Color,\n    Glyph: Glyph,\n    get CharCode () { return CharCode; },\n    BaseTerminal: BaseTerminal,\n    PortTerminal: PortTerminal\n});\n\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Shift\"] = 16] = \"Shift\";\r\n    KeyCode[KeyCode[\"Ctrl\"] = 17] = \"Ctrl\";\r\n    KeyCode[KeyCode[\"Alt\"] = 18] = \"Alt\";\r\n    KeyCode[KeyCode[\"PauseBreak\"] = 19] = \"PauseBreak\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Escape\"] = 27] = \"Escape\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"LeftArrow\"] = 37] = \"LeftArrow\";\r\n    KeyCode[KeyCode[\"UpArrow\"] = 38] = \"UpArrow\";\r\n    KeyCode[KeyCode[\"RightArrow\"] = 39] = \"RightArrow\";\r\n    KeyCode[KeyCode[\"DownArrow\"] = 40] = \"DownArrow\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Zero\"] = 48] = \"Zero\";\r\n    KeyCode[KeyCode[\"ClosedParen\"] = 48] = \"ClosedParen\";\r\n    KeyCode[KeyCode[\"One\"] = 49] = \"One\";\r\n    KeyCode[KeyCode[\"ExclamationMark\"] = 49] = \"ExclamationMark\";\r\n    KeyCode[KeyCode[\"Two\"] = 50] = \"Two\";\r\n    KeyCode[KeyCode[\"AtSign\"] = 50] = \"AtSign\";\r\n    KeyCode[KeyCode[\"Three\"] = 51] = \"Three\";\r\n    KeyCode[KeyCode[\"PoundSign\"] = 51] = \"PoundSign\";\r\n    KeyCode[KeyCode[\"Hash\"] = 51] = \"Hash\";\r\n    KeyCode[KeyCode[\"Four\"] = 52] = \"Four\";\r\n    KeyCode[KeyCode[\"DollarSign\"] = 52] = \"DollarSign\";\r\n    KeyCode[KeyCode[\"Five\"] = 53] = \"Five\";\r\n    KeyCode[KeyCode[\"PercentSign\"] = 53] = \"PercentSign\";\r\n    KeyCode[KeyCode[\"Six\"] = 54] = \"Six\";\r\n    KeyCode[KeyCode[\"Caret\"] = 54] = \"Caret\";\r\n    KeyCode[KeyCode[\"Hat\"] = 54] = \"Hat\";\r\n    KeyCode[KeyCode[\"Seven\"] = 55] = \"Seven\";\r\n    KeyCode[KeyCode[\"Ampersand\"] = 55] = \"Ampersand\";\r\n    KeyCode[KeyCode[\"Eight\"] = 56] = \"Eight\";\r\n    KeyCode[KeyCode[\"Star\"] = 56] = \"Star\";\r\n    KeyCode[KeyCode[\"Asterik\"] = 56] = \"Asterik\";\r\n    KeyCode[KeyCode[\"Nine\"] = 57] = \"Nine\";\r\n    KeyCode[KeyCode[\"OpenParen\"] = 57] = \"OpenParen\";\r\n    KeyCode[KeyCode[\"A\"] = 65] = \"A\";\r\n    KeyCode[KeyCode[\"B\"] = 66] = \"B\";\r\n    KeyCode[KeyCode[\"C\"] = 67] = \"C\";\r\n    KeyCode[KeyCode[\"D\"] = 68] = \"D\";\r\n    KeyCode[KeyCode[\"E\"] = 69] = \"E\";\r\n    KeyCode[KeyCode[\"F\"] = 70] = \"F\";\r\n    KeyCode[KeyCode[\"G\"] = 71] = \"G\";\r\n    KeyCode[KeyCode[\"H\"] = 72] = \"H\";\r\n    KeyCode[KeyCode[\"I\"] = 73] = \"I\";\r\n    KeyCode[KeyCode[\"J\"] = 74] = \"J\";\r\n    KeyCode[KeyCode[\"K\"] = 75] = \"K\";\r\n    KeyCode[KeyCode[\"L\"] = 76] = \"L\";\r\n    KeyCode[KeyCode[\"M\"] = 77] = \"M\";\r\n    KeyCode[KeyCode[\"N\"] = 78] = \"N\";\r\n    KeyCode[KeyCode[\"O\"] = 79] = \"O\";\r\n    KeyCode[KeyCode[\"P\"] = 80] = \"P\";\r\n    KeyCode[KeyCode[\"Q\"] = 81] = \"Q\";\r\n    KeyCode[KeyCode[\"R\"] = 82] = \"R\";\r\n    KeyCode[KeyCode[\"S\"] = 83] = \"S\";\r\n    KeyCode[KeyCode[\"T\"] = 84] = \"T\";\r\n    KeyCode[KeyCode[\"U\"] = 85] = \"U\";\r\n    KeyCode[KeyCode[\"V\"] = 86] = \"V\";\r\n    KeyCode[KeyCode[\"W\"] = 87] = \"W\";\r\n    KeyCode[KeyCode[\"X\"] = 88] = \"X\";\r\n    KeyCode[KeyCode[\"Y\"] = 89] = \"Y\";\r\n    KeyCode[KeyCode[\"Z\"] = 90] = \"Z\";\r\n    KeyCode[KeyCode[\"LeftWindowKey\"] = 91] = \"LeftWindowKey\";\r\n    KeyCode[KeyCode[\"RightWindowKey\"] = 92] = \"RightWindowKey\";\r\n    KeyCode[KeyCode[\"SelectKey\"] = 93] = \"SelectKey\";\r\n    KeyCode[KeyCode[\"Numpad0\"] = 96] = \"Numpad0\";\r\n    KeyCode[KeyCode[\"Numpad1\"] = 97] = \"Numpad1\";\r\n    KeyCode[KeyCode[\"Numpad2\"] = 98] = \"Numpad2\";\r\n    KeyCode[KeyCode[\"Numpad3\"] = 99] = \"Numpad3\";\r\n    KeyCode[KeyCode[\"Numpad4\"] = 100] = \"Numpad4\";\r\n    KeyCode[KeyCode[\"Numpad5\"] = 101] = \"Numpad5\";\r\n    KeyCode[KeyCode[\"Numpad6\"] = 102] = \"Numpad6\";\r\n    KeyCode[KeyCode[\"Numpad7\"] = 103] = \"Numpad7\";\r\n    KeyCode[KeyCode[\"Numpad8\"] = 104] = \"Numpad8\";\r\n    KeyCode[KeyCode[\"Numpad9\"] = 105] = \"Numpad9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"DecimalPoint\"] = 110] = \"DecimalPoint\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"SemiColon\"] = 186] = \"SemiColon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"UnderScore\"] = 189] = \"UnderScore\";\r\n    KeyCode[KeyCode[\"PlusSign\"] = 187] = \"PlusSign\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"Tilde\"] = 192] = \"Tilde\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"ClosedBracket\"] = 221] = \"ClosedBracket\";\r\n    KeyCode[KeyCode[\"Quote\"] = 222] = \"Quote\";\r\n})(KeyCode || (KeyCode = {}));\r\n//# sourceMappingURL=keycode.js.map\n\n/**\r\n * Represents a global keyboard. Will likely only create one per app.\r\n *\r\n * You can bind/switch KeyboardContexts to the Keyboard handler\r\n * to change input 'modes'.\r\n */\r\nvar KeyboardHandler = /** @class */ (function () {\r\n    /** Creates a new KeyboardHandler */\r\n    function KeyboardHandler() {\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"keydown\", this.onKeyDownEvent.bind(this));\r\n        document.addEventListener(\"keyup\", this.onKeyUpEvent.bind(this));\r\n    }\r\n    KeyboardHandler.prototype.onKeyDownEvent = function (e) {\r\n        this._isDown.add(e.keyCode);\r\n        this.context && this.context.fireOnDown(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    KeyboardHandler.prototype.onKeyUpEvent = function (e) {\r\n        this._isDown.delete(e.keyCode);\r\n        this.context && this.context.fireOnUp(e.keyCode);\r\n        e.preventDefault();\r\n    };\r\n    /**\r\n     * Sets the active context of the keyboard handler.\r\n     * @param context KeyboardContext - The context to use\r\n     */\r\n    KeyboardHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Clears the active context for the keyboard handler.\r\n     */\r\n    KeyboardHandler.prototype.clearContext = function () {\r\n        var existing = this.context;\r\n        this.context = undefined;\r\n        return existing;\r\n    };\r\n    /**\r\n     * Returns if a key is currently held down.\r\n     * @param keyCode KeyCode | number - The keyCode to check\r\n     */\r\n    KeyboardHandler.prototype.isKeyDown = function (keyCode) {\r\n        return this._isDown.has(keyCode);\r\n    };\r\n    return KeyboardHandler;\r\n}());\r\n/** Represents a keyboard 'mode', like navigating a menu or world. */\r\nvar KeyboardContext = /** @class */ (function () {\r\n    function KeyboardContext() {\r\n        this._onDown = new Map();\r\n        this._onUp = new Map();\r\n    }\r\n    /**\r\n     * Fires callback on KeyDown\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onDown = function (key, callback) {\r\n        this._onDown.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Fires callback on KeyUp\r\n     * @param key KeyCode | number - The Key to monitor\r\n     * @param callback () => void - The callback\r\n     */\r\n    KeyboardContext.prototype.onUp = function (key, callback) {\r\n        this._onUp.set(key, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was pressed.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnDown = function (key) {\r\n        var fn = this._onDown.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    /**\r\n     * Programmatically fire a callback as if a key was lifted.\r\n     * @param key KeyCode | number - The Key to monitor\r\n     */\r\n    KeyboardContext.prototype.fireOnUp = function (key) {\r\n        var fn = this._onUp.get(key);\r\n        if (fn)\r\n            fn();\r\n    };\r\n    return KeyboardContext;\r\n}());\r\n//# sourceMappingURL=keyboard.js.map\n\n/** Abstracts browser mouse input */\r\nvar MouseHandler = /** @class */ (function () {\r\n    /** Creates a new Mouse Handler */\r\n    function MouseHandler() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this._isDown = new Set();\r\n        document.addEventListener(\"mousemove\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mouseenter\", this.onMouseUpdateEvent.bind(this), false);\r\n        document.addEventListener(\"mousedown\", this.onMouseDownEvent.bind(this));\r\n        document.addEventListener(\"mouseup\", this.onMouseUpEvent.bind(this));\r\n    }\r\n    MouseHandler.prototype.onMouseDownEvent = function (e) {\r\n        this._isDown.add(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseDown({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpEvent = function (e) {\r\n        this._isDown.delete(e.button);\r\n        if (this.context) {\r\n            var x = e.pageX;\r\n            var y = e.pageY;\r\n            this.context.callOnMouseUp({ x: x, y: y }, e.button);\r\n        }\r\n    };\r\n    MouseHandler.prototype.onMouseUpdateEvent = function (e) {\r\n        this.x = e.pageX;\r\n        this.y = e.pageY;\r\n    };\r\n    /**\r\n     * Returns true if the given mouse button is down.\r\n     * @param mouseButton number - Default 0 for left click.\r\n     */\r\n    MouseHandler.prototype.isMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        return this._isDown.has(mouseButton);\r\n    };\r\n    /** Gets the current window position of the mouse */\r\n    MouseHandler.prototype.getPos = function () {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n        };\r\n    };\r\n    /**\r\n     * Sets the active mouse context\r\n     * @param context MouseContext\r\n     */\r\n    MouseHandler.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    /** Clears the active mouse context */\r\n    MouseHandler.prototype.clearContext = function () {\r\n        this.context = undefined;\r\n    };\r\n    return MouseHandler;\r\n}());\r\nvar MouseContext = /** @class */ (function () {\r\n    function MouseContext() {\r\n        this.onDown = new Map();\r\n        this.onUp = new Map();\r\n    }\r\n    /**\r\n     * Registers a callback for a mousedown event\r\n     * @param callback - The function to call on mousedown\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseDown = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Registers a callback for a mouseup event\r\n     * @param callback - The function to call on mouseup\r\n     * @param mouseButton - The mouse button number. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.onMouseUp = function (callback, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.set(mouseButton, callback);\r\n        return this;\r\n    };\r\n    /**\r\n     * Clears a registered function for mousedown\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseDown = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onDown.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Clears a registered function for mouseup\r\n     * @param mouseButton - The mouse button to clear. Default 0 for left click.\r\n     */\r\n    MouseContext.prototype.clearMouseUp = function (mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        this.onUp.delete(mouseButton);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mousedown\r\n     * @param pos Vector2 - The pos for the mouse\r\n     * @param mouseButton - The mouse button pressed\r\n     */\r\n    MouseContext.prototype.callOnMouseDown = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onDown.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    /**\r\n     * Invokes a registered callback for mouseup\r\n     * @param pos\r\n     * @param mouseButton\r\n     */\r\n    MouseContext.prototype.callOnMouseUp = function (pos, mouseButton) {\r\n        if (mouseButton === void 0) { mouseButton = 0; }\r\n        var callback = this.onUp.get(mouseButton);\r\n        if (callback)\r\n            callback(pos);\r\n    };\r\n    return MouseContext;\r\n}());\r\n//# sourceMappingURL=mouse.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n    get KeyCode () { return KeyCode; },\n    KeyboardContext: KeyboardContext,\n    KeyboardHandler: KeyboardHandler,\n    MouseHandler: MouseHandler,\n    MouseContext: MouseContext\n});\n\n//# sourceMappingURL=vector.js.map\n\n// ToDo - Make this more efficient via heap\r\nvar PriorityQueue = /** @class */ (function () {\r\n    function PriorityQueue(priorityFunc) {\r\n        this.data = [];\r\n        this.priorityFunc = priorityFunc;\r\n    }\r\n    PriorityQueue.prototype.insert = function (data) {\r\n        var score = this.priorityFunc(data);\r\n        this.data.push([score, data]);\r\n    };\r\n    PriorityQueue.prototype.peek = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        return this.data[minIndex][1];\r\n    };\r\n    PriorityQueue.prototype.pop = function () {\r\n        if (this.data.length === 0)\r\n            return undefined;\r\n        var min = Infinity;\r\n        var minIndex = -1;\r\n        this.data.forEach(function (_a, index) {\r\n            var val = _a[0], d = _a[1];\r\n            if (val < min) {\r\n                min = val;\r\n                minIndex = index;\r\n            }\r\n        });\r\n        var popped = this.data.splice(minIndex, 1);\r\n        return popped[0][1];\r\n    };\r\n    PriorityQueue.prototype.size = function () {\r\n        return this.data.length;\r\n    };\r\n    return PriorityQueue;\r\n}());\r\n//# sourceMappingURL=priority-queue.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    Table: Table,\n    PriorityQueue: PriorityQueue\n});\n\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\r\n// Johannes Baage <baagoe@baagoe.com>, 2010\r\nfunction Mash() {\r\n    var n = 0xefc8249d;\r\n    var mash = function (data) {\r\n        data = data.toString();\r\n        for (var i = 0; i < data.length; i++) {\r\n            n += data.charCodeAt(i);\r\n            var h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nvar AleaRNG = /** @class */ (function () {\r\n    function AleaRNG(seed) {\r\n        this.s0 = 0;\r\n        this.s1 = 0;\r\n        this.s2 = 0;\r\n        this.c = 0;\r\n        // Initialize seed if needed\r\n        this.seed = seed === undefined ? new Date().toString() : seed;\r\n        this.reset();\r\n    }\r\n    AleaRNG.prototype.reset = function () {\r\n        var mash = Mash();\r\n        // Initial mashes\r\n        this.s0 = mash(\" \");\r\n        this.s1 = mash(\" \");\r\n        this.s2 = mash(\" \");\r\n        this.c = 1;\r\n        this.s0 -= mash(this.seed);\r\n        this.s1 -= mash(this.seed);\r\n        this.s2 -= mash(this.seed);\r\n        this.sanitize();\r\n    };\r\n    AleaRNG.prototype.sanitize = function () {\r\n        if (this.s0 < 0)\r\n            this.s0 += 1;\r\n        if (this.s1 < 0)\r\n            this.s1 += 1;\r\n        if (this.s2 < 0)\r\n            this.s2 += 1;\r\n    };\r\n    AleaRNG.prototype.step = function () {\r\n        // The dark magic that makes the number generator run\r\n        var t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = t | 0));\r\n    };\r\n    // Returns between [0,1)\r\n    AleaRNG.prototype.nextRand = function () {\r\n        return (this.step() + ((this.step() * 0x200000) | 0) * 1.1102230246251565e-16); // 2^-53\r\n    };\r\n    AleaRNG.prototype.next = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 1; }\r\n        return this.nextRand() * (max - min) + min;\r\n    };\r\n    AleaRNG.prototype.nextInt = function (min, max) {\r\n        if (min === void 0) { min = 0; }\r\n        if (max === void 0) { max = 100; }\r\n        return Math.floor(this.next() * (max - min) + min);\r\n    };\r\n    AleaRNG.prototype.nextBoolean = function () {\r\n        return this.nextRand() > 0.5;\r\n    };\r\n    AleaRNG.prototype.nextItem = function (array) {\r\n        if (array.length === 0)\r\n            return undefined;\r\n        var i = this.nextInt(0, array.length);\r\n        return array[i];\r\n    };\r\n    AleaRNG.prototype.shuffle = function (array) {\r\n        var result = [];\r\n        var clone = array.slice();\r\n        while (clone.length) {\r\n            var index = this.nextInt(0, clone.length);\r\n            result.push(clone.splice(index, 1)[0]);\r\n        }\r\n        return result;\r\n    };\r\n    AleaRNG.prototype.clone = function () {\r\n        var a = new AleaRNG();\r\n        a.s0 = this.s0;\r\n        a.s1 = this.s1;\r\n        a.s2 = this.s2;\r\n        a.c = this.c;\r\n        return a;\r\n    };\r\n    return AleaRNG;\r\n}());\r\n//# sourceMappingURL=alea.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$3 = /*#__PURE__*/Object.freeze({\n    AleaRNG: AleaRNG\n});\n\n/** Contains math for common vector operations. */\r\nvar Vector = /** @class */ (function () {\r\n    function Vector() {\r\n    }\r\n    /**\r\n     * Returns true if two vectors have the same x and y values.\r\n     * @param v1 The first Vector2.\r\n     * @param v2 The second Vector2.\r\n     */\r\n    Vector.areEqual = function (v1, v2) {\r\n        return v1.x === v2.x && v1.y === v2.y;\r\n    };\r\n    /**\r\n     * Returns the distance between two vectors.\r\n     *\r\n     * If no topology is given, diagonal distance is sqrt(2).\r\n     * If topology is four, diagonal distance is 2.\r\n     * If topology is eight, diagonal distance is 1.\r\n     *\r\n     * @param start The starting Vector2.\r\n     * @param end The ending Vector2.\r\n     * @param topology Can use \"four\" or \"eight\" for non-cartesian distances.\r\n     */\r\n    Vector.getDistance = function (start, end, topology) {\r\n        if (topology === \"four\") {\r\n            return Math.abs(start.x - end.x) + Math.abs(start.y - end.y);\r\n        }\r\n        else if (topology === \"eight\") {\r\n            return Math.max(Math.abs(start.x - end.x), Math.abs(start.y - end.y));\r\n        }\r\n        else {\r\n            var a = start.x - end.x;\r\n            var b = start.y - end.y;\r\n            return Math.sqrt(a * a + b * b);\r\n        }\r\n    };\r\n    /**\r\n     * Will find the center of an area by averaging all Vectors in the area.\r\n     * This point may not be in the area itself, for example in a donut shaped area.\r\n     * @param area Vector2\r\n     */\r\n    Vector.getCenter = function (area) {\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find center of empty area\");\r\n        }\r\n        var sx = 0;\r\n        var sy = 0;\r\n        for (var _i = 0, area_1 = area; _i < area_1.length; _i++) {\r\n            var v = area_1[_i];\r\n            sx += v.x;\r\n            sy += v.y;\r\n        }\r\n        return {\r\n            x: sx / area.length,\r\n            y: sy / area.length,\r\n        };\r\n    };\r\n    /**\r\n     * Will find the position in the area closest to the target\r\n     * @param area Vector2[]\r\n     * @param target Vector2\r\n     * @param topology Either 'four' or 'eight'. Default 'four'\r\n     */\r\n    Vector.getClosest = function (area, target, topology) {\r\n        if (topology === void 0) { topology = \"four\"; }\r\n        // Throw an error if area is empty\r\n        if (area.length < 1) {\r\n            throw new Error(\"Error: Trying to find closest position of an empty area\");\r\n        }\r\n        // Keep track of the closest we've found.\r\n        var minDistance = Infinity;\r\n        var closest = area[0];\r\n        for (var _i = 0, area_2 = area; _i < area_2.length; _i++) {\r\n            var v = area_2[_i];\r\n            var distance = Vector.getDistance(target, v, topology);\r\n            // Found exact one, immediately return\r\n            if (distance === 0) {\r\n                return {\r\n                    x: target.x,\r\n                    y: target.y,\r\n                };\r\n            }\r\n            // Closer than currently known\r\n            if (distance < minDistance) {\r\n                minDistance = distance;\r\n                closest = v;\r\n            }\r\n        }\r\n        return closest;\r\n    };\r\n    return Vector;\r\n}());\r\n//# sourceMappingURL=vector.js.map\n\n//# sourceMappingURL=index.js.map\n\nfunction getRing8(originX, originY, range) {\r\n    if (range === 0)\r\n        return [{ x: originX, y: originY }];\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    //Start at the 3 o'clock, (0 degrees), rotate all the way around\r\n    // Top Right Side, no corner\r\n    for (var x = maxX, y = originY; y > minY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top Side, right to left. Include top corners\r\n    for (var x = maxX, y = minY; x >= minX; x--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Left side, no corners\r\n    for (var x = minX, y = minY + 1; y < maxY; y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom side, corners\r\n    for (var x = minX, y = maxY; x <= maxX; x++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Right side back to to 0 degrees, no corner\r\n    for (var x = maxX, y = maxY - 1; y > originY; y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\nfunction getRing4(originX, originY, range) {\r\n    if (range === 0) {\r\n        return [\r\n            {\r\n                x: originX,\r\n                y: originY,\r\n            },\r\n        ];\r\n    }\r\n    var ring = [];\r\n    var maxX = originX + range;\r\n    var minX = originX - range;\r\n    var maxY = originY + range;\r\n    var minY = originY - range;\r\n    // Top right arc\r\n    for (var x = maxX, y = originY; x > originX; x--, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Top left arc\r\n    for (var x = originX, y = minY; x > minX; x--, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom left arc\r\n    for (var x = minX, y = originY; x < originX; x++, y++) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    // Bottom right arc\r\n    for (var x = originX, y = maxY; x < maxX; x++, y--) {\r\n        ring.push({ x: x, y: y });\r\n    }\r\n    return ring;\r\n}\r\n//# sourceMappingURL=get-ring.js.map\n\nvar AStar = /** @class */ (function () {\r\n    /**\r\n     * @param config - General parameters for the AStar Pathfinder\r\n     * @param config.isBlockedCallback - Return true if the position is blocked.\r\n     * @param config.topology - four | eight\r\n     */\r\n    function AStar(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    /**\r\n     * Get all neightbors of a point. Returns orthogonal\r\n     * directions first, then diagonal if topology is 8.\r\n     * Results in more natural looking paths.\r\n     * @param pos - Vector2\r\n     */\r\n    AStar.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    /**\r\n     * @param start Vector2 - The starting position\r\n     * @param end  Vector2 - The ending position\r\n     *\r\n     * @returns Vector2[] | undefined - Returns the path,\r\n     * including start + end, or undefined if no path is found.\r\n     */\r\n    AStar.prototype.compute = function (start, end) {\r\n        var _this = this;\r\n        // openSet is the set of discovered nodes, and more might be found\r\n        var openSet = new PriorityQueue(function (n) { return n.fScore; });\r\n        openSet.insert({\r\n            v: start,\r\n            fScore: Vector.getDistance(start, end, \"eight\"),\r\n        });\r\n        // cameFrom maps a node to the one preceding it with the cheapest path\r\n        var cameFrom = new Map();\r\n        // gScore tracks the cheapest path from start to the node\r\n        // fScore tracks gScore + esimated\r\n        var gScore = new Map();\r\n        gScore.set(start.x + \":\" + start.y, 0);\r\n        while (openSet.size()) {\r\n            var current = openSet.pop().v;\r\n            if (Vector.areEqual(current, end)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.has(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            var currentGScore = gScore.get(current.x + \":\" + current.y);\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                // ToDo - allow the distance to be determined by function\r\n                var tentative_gScore = currentGScore + 1;\r\n                if (gScore.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                    gScore.set(n.x + \":\" + n.y, tentative_gScore);\r\n                    var fScore = tentative_gScore + Vector.getDistance(n, end, \"eight\");\r\n                    openSet.insert({\r\n                        v: n,\r\n                        fScore: fScore,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // We never got current == end\r\n        return undefined;\r\n    };\r\n    return AStar;\r\n}());\r\n//# sourceMappingURL=astar.js.map\n\n/**\r\n * Connects areas of the map to ensure they are all connected.\r\n *\r\n * For instance, if you're using an alive value of 1 for walls,\r\n * then this can connect the dead value of 0 to ensure all\r\n * squares on the map are accessable.\r\n *\r\n * @param value The value to connect (default this.deadValue)\r\n */\r\nfunction connect(table, value) {\r\n    var spacesToConnect = new Set();\r\n    var groups = [];\r\n    var paths = [];\r\n    // Get all spaces with the value\r\n    for (var x = 0; x < table.width; x++) {\r\n        for (var y = 0; y < table.height; y++) {\r\n            if (table.get({ x: x, y: y }) === value) {\r\n                spacesToConnect.add(x + \":\" + y);\r\n            }\r\n        }\r\n    }\r\n    // Figure out which groups there are\r\n    while (spacesToConnect.size > 0) {\r\n        var v = Array.from(spacesToConnect.entries())[0][0];\r\n        var _a = v.split(\":\"), x = _a[0], y = _a[1];\r\n        var position = {\r\n            x: Number.parseInt(x),\r\n            y: Number.parseInt(y),\r\n        };\r\n        // Grab an area, then remove those tiles from the spacesToConnect\r\n        var selection = table.floodFillSelect(position);\r\n        groups.push(selection);\r\n        for (var _i = 0, selection_1 = selection; _i < selection_1.length; _i++) {\r\n            var s = selection_1[_i];\r\n            spacesToConnect.delete(s.x + \":\" + s.y);\r\n        }\r\n    }\r\n    // spacesToConnect is now empty.\r\n    // Each group in groups is an isolated set of tiles\r\n    for (var i = 0; i < groups.length; i++) {\r\n        // Ignore the last group\r\n        if (i === groups.length - 1)\r\n            break;\r\n        var current = groups[i];\r\n        var next = groups[i + 1];\r\n        // Get the center point from each area\r\n        var currentCenter = Vector.getCenter(current);\r\n        var currentPoint = Vector.getClosest(current, currentCenter);\r\n        var nextCenter = Vector.getCenter(next);\r\n        var nextPoint = Vector.getClosest(next, nextCenter);\r\n        // Get two points that are close to the edge for each section\r\n        var closestCurrent = Vector.getClosest(next, currentPoint);\r\n        var closestNext = Vector.getClosest(current, nextPoint);\r\n        var a = new AStar({ topology: \"four\" });\r\n        var connection = a.compute(closestCurrent, closestNext);\r\n        // Connect the paths\r\n        if (!connection)\r\n            throw new Error(\"Error: Could not connect cell areas\");\r\n        for (var _b = 0, connection_1 = connection; _b < connection_1.length; _b++) {\r\n            var v = connection_1[_b];\r\n            table.set(v, value);\r\n        }\r\n        paths.push(connection);\r\n    }\r\n    return {\r\n        groups: groups,\r\n        paths: paths,\r\n    };\r\n}\r\n//# sourceMappingURL=connect.js.map\n\n/** Used to create CellularAutomata Maps. */\r\nvar CellularAutomata = /** @class */ (function () {\r\n    /**\r\n     * Creates a Cellular Automata Map Generator\r\n     *\r\n     * @param width The width of the map.\r\n     * @param height The height of the map.\r\n     * @param options Additional options.\r\n     */\r\n    function CellularAutomata(width, height, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.table = new Table(width, height);\r\n        // Set up defaults\r\n        this.aliveValue =\r\n            options.aliveValue === undefined ? 1 : options.aliveValue;\r\n        this.deadValue =\r\n            options.deadValue === undefined ? 0 : options.deadValue;\r\n        this.rng = options.rng === undefined ? new AleaRNG() : options.rng;\r\n    }\r\n    /**\r\n     * Randomly sets each cell to either alive or dead.\r\n     *\r\n     * @param isAliveChance The chance for a cell to be set to the 'alive' value.\r\n     */\r\n    CellularAutomata.prototype.randomize = function (isAliveChance) {\r\n        if (isAliveChance === void 0) { isAliveChance = 0.6; }\r\n        for (var x = 0; x < this.table.width; x++) {\r\n            for (var y = 0; y < this.table.height; y++) {\r\n                var isAlive = this.rng.next() > isAliveChance;\r\n                if (isAlive) {\r\n                    this.table.set({ x: x, y: y }, this.aliveValue);\r\n                }\r\n                else {\r\n                    this.table.set({ x: x, y: y }, this.deadValue);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CellularAutomata.prototype.countAliveNeighbors = function (x, y) {\r\n        var count = 0;\r\n        for (var i = -1; i < 2; i++) {\r\n            for (var j = -1; j < 2; j++) {\r\n                var neighbor_x = x + i;\r\n                var neighbor_y = y + j;\r\n                if (i == 0 && j == 0) ;\r\n                else if (this.table.isInBounds({ x: neighbor_x, y: neighbor_y }) == false) {\r\n                    count++;\r\n                }\r\n                else if (this.table.get({ x: neighbor_x, y: neighbor_y }) == this.aliveValue) {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    };\r\n    /**\r\n     * Runs a number of simulation steps.\r\n     * Each step generally \"smooths\" the map.\r\n     *\r\n     * @param stepCount The number of steps to run.\r\n     */\r\n    CellularAutomata.prototype.doSimulationStep = function (stepCount) {\r\n        if (stepCount === void 0) { stepCount = 1; }\r\n        for (var step = 0; step < stepCount; step++) {\r\n            var newMap = new Table(this.table.width, this.table.height);\r\n            var oldMap = this.table; //this just renames the table to prevent 'this' all over the place.\r\n            for (var x = 0; x < oldMap.width; x++) {\r\n                for (var y = 0; y < oldMap.height; y++) {\r\n                    var nbs = this.countAliveNeighbors(x, y);\r\n                    if (oldMap.get({ x: x, y: y }) === this.aliveValue) {\r\n                        if (nbs < 4) {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (nbs > 3) {\r\n                            newMap.set({ x: x, y: y }, this.aliveValue);\r\n                        }\r\n                        else {\r\n                            newMap.set({ x: x, y: y }, this.deadValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.table = newMap;\r\n        }\r\n    };\r\n    /**\r\n     * Connects areas of the map to ensure they are all connected.\r\n     *\r\n     * For instance, if you're using an alive value of 1 for walls,\r\n     * then this can connect the dead value of 0 to ensure all\r\n     * squares on the map are accessable.\r\n     *\r\n     * @param value The value to connect (default this.deadValue)\r\n     */\r\n    CellularAutomata.prototype.connect = function (value) {\r\n        if (value === void 0) { value = this.deadValue; }\r\n        return connect(this.table, value);\r\n    };\r\n    return CellularAutomata;\r\n}());\r\n//# sourceMappingURL=cellular-automata.js.map\n\n/** Generator to perform a Drunkard's Walk*/\r\nvar DrunkardsWalk = /** @class */ (function () {\r\n    /**\r\n     * Creates a new DrunkardsWalk Generator\r\n     * @param config - Generator Config\r\n     * @param config.width number - Width of the map\r\n     * @param config.height number - Height of the map\r\n     * @param config.rng IRNG - Optional random number generator\r\n     * @param config.topology \"four\" | \"eight\" - Topology to use. Default four.\r\n     */\r\n    function DrunkardsWalk(config) {\r\n        var _a, _b;\r\n        this._path = [];\r\n        this._steps = 0;\r\n        this._coveredCount = 0;\r\n        this.table = new Table(config.width, config.height);\r\n        this._rng = (_a = config.rng) !== null && _a !== void 0 ? _a : new AleaRNG();\r\n        this._topology = (_b = config.topology) !== null && _b !== void 0 ? _b : \"four\";\r\n        // Initialize Table\r\n        this.table.fill(0);\r\n    }\r\n    /**\r\n     * Returns the path traveled so far.\r\n     */\r\n    DrunkardsWalk.prototype.getPath = function () {\r\n        return this._path;\r\n    };\r\n    /**\r\n     * Returns the last visited location.\r\n     */\r\n    DrunkardsWalk.prototype.getCurrent = function () {\r\n        return this._path[this._path.length - 1];\r\n    };\r\n    /**\r\n     * Returns the total number of steps taken\r\n     */\r\n    DrunkardsWalk.prototype.getSteps = function () {\r\n        return this._steps;\r\n    };\r\n    /**\r\n     * Returns the total number of unique spaces visited\r\n     */\r\n    DrunkardsWalk.prototype.getCoveredCount = function () {\r\n        return this._coveredCount;\r\n    };\r\n    /**\r\n     * Adds a point to the drunkards walk,\r\n     * adjusting path, table, and steps as needed.\r\n     * @param point Vector2 - The point to add\r\n     */\r\n    DrunkardsWalk.prototype.addPoint = function (point) {\r\n        this._steps++;\r\n        if (this.table.get(point) !== 1) {\r\n            this._coveredCount++;\r\n        }\r\n        this.table.set(point, 1);\r\n        this._path.push(point);\r\n    };\r\n    /**\r\n     * Generate a path by walking a number of steps.\r\n     * Can be called multiple times to have the Drunkard 'jump' to a different spot.\r\n     * @param config - The walk configuration\r\n     * @param config.steps number - The number of steps to take.\r\n     * @param config.start Vector2 - The starting position. Default random.\r\n     * @param config.maxCoveredTiles number - Stops walking if the total number of tiles\r\n     * ever covered reaches this limit. Default Infinity.\r\n     */\r\n    DrunkardsWalk.prototype.walkSteps = function (config) {\r\n        var _a, _b;\r\n        // Initialize config\r\n        var maxCoveredTiles = (_a = config.maxCoveredTiles) !== null && _a !== void 0 ? _a : Infinity;\r\n        var steps = config.steps;\r\n        // Set the initial coordinate\r\n        this.addPoint((_b = config.start) !== null && _b !== void 0 ? _b : this.getRandPoint());\r\n        for (var i = 0; i < steps - 1; i++) {\r\n            // Break if we're over the covered limit\r\n            if (this._coveredCount >= maxCoveredTiles) {\r\n                break;\r\n            }\r\n            var current = this._path[this._path.length - 1];\r\n            var next = this.getRandomNeighbor(current);\r\n            this.addPoint(next);\r\n        }\r\n    };\r\n    DrunkardsWalk.prototype.getRandPoint = function () {\r\n        var x = this._rng.nextInt(0, this.table.width);\r\n        var y = this._rng.nextInt(0, this.table.height);\r\n        return { x: x, y: y };\r\n    };\r\n    DrunkardsWalk.prototype.getRandomNeighbor = function (pos) {\r\n        var next = undefined;\r\n        while (next === undefined) {\r\n            // Get next neighbor\r\n            var neighbors = this._topology === \"four\"\r\n                ? getRing4(pos.x, pos.y, 1)\r\n                : getRing8(pos.x, pos.y, 1);\r\n            var n = this._rng.nextItem(neighbors);\r\n            // Check if it is in bounds\r\n            if (this.table.isInBounds(n)) {\r\n                next = n;\r\n            }\r\n        }\r\n        return next;\r\n    };\r\n    return DrunkardsWalk;\r\n}());\r\n//# sourceMappingURL=drunkards-walk.js.map\n\n// export { BSPTreeRect } from \"./bsp-tree\";\r\n//# sourceMappingURL=index.js.map\n\nvar index$4 = /*#__PURE__*/Object.freeze({\n    CellularAutomata: CellularAutomata,\n    DrunkardsWalk: DrunkardsWalk\n});\n\nvar Dijkstra = /** @class */ (function () {\r\n    function Dijkstra(config) {\r\n        this.isBlocked = config.isBlockedCallback;\r\n        this.topology = config.topology;\r\n    }\r\n    Dijkstra.prototype.getNeighbors = function (pos) {\r\n        var neighbors = getRing4(pos.x, pos.y, 1);\r\n        if (this.topology === \"eight\") {\r\n            neighbors.push({ x: pos.x + 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y - 1 });\r\n            neighbors.push({ x: pos.x - 1, y: pos.y + 1 });\r\n            neighbors.push({ x: pos.x + 1, y: pos.y + 1 });\r\n        }\r\n        return neighbors;\r\n    };\r\n    /**\r\n     * Compute processes the distances between start and end goals\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    Dijkstra.prototype.compute = function (initial, goal) {\r\n        var _this = this;\r\n        //unpackage config.\r\n        var cameFrom = new Map();\r\n        var processed = new Set();\r\n        var processing = [initial];\r\n        cameFrom.set(initial.x + \":\" + initial.y, \"\");\r\n        while (processing.length !== 0) {\r\n            //shift the last node off the array.\r\n            var current = processing.shift();\r\n            //short circut\r\n            if (processed.has(current.x + \":\" + current.y)) {\r\n                continue;\r\n            }\r\n            else {\r\n                processed.add(current.x + \":\" + current.y);\r\n            }\r\n            // check to see if the space is where you need to be. If so, exit loop.\r\n            if (Vector.areEqual(current, goal)) {\r\n                var curStr = current.x + \":\" + current.y;\r\n                var totalPath = [current];\r\n                while (cameFrom.get(curStr)) {\r\n                    var prevStr = cameFrom.get(curStr);\r\n                    var _a = prevStr.split(\":\"), x = _a[0], y = _a[1];\r\n                    curStr = prevStr;\r\n                    totalPath.unshift({\r\n                        x: Number.parseInt(x),\r\n                        y: Number.parseInt(y),\r\n                    });\r\n                }\r\n                return totalPath;\r\n            }\r\n            var neighbors = this.getNeighbors(current);\r\n            if (this.isBlocked) {\r\n                neighbors = neighbors.filter(function (v) { return _this.isBlocked(v) === false; });\r\n            }\r\n            for (var _i = 0, neighbors_1 = neighbors; _i < neighbors_1.length; _i++) {\r\n                var n = neighbors_1[_i];\r\n                processing.push(n);\r\n                if (cameFrom.has(n.x + \":\" + n.y) === false) {\r\n                    cameFrom.set(n.x + \":\" + n.y, current.x + \":\" + current.y);\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return Dijkstra;\r\n}());\r\n//# sourceMappingURL=dijkstra.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$5 = /*#__PURE__*/Object.freeze({\n    AStar: AStar,\n    Dijkstra: Dijkstra\n});\n\nfunction box(terminal, options) {\r\n    var x1 = options.x1, x2 = options.x2, y1 = options.y1, y2 = options.y2, title = options.title;\r\n    // Corners\r\n    terminal.drawGlyph({ x: x1, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleDownAndLeft));\r\n    terminal.drawGlyph({ x: x1, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndRight));\r\n    terminal.drawGlyph({ x: x2, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleUpAndLeft));\r\n    // Horizontal Bars\r\n    for (var dx = x1 + 1; dx < x2; dx++) {\r\n        terminal.drawGlyph({ x: dx, y: y1 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n        terminal.drawGlyph({ x: dx, y: y2 }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleHorizontal));\r\n    }\r\n    // Vertical Bars\r\n    for (var dy = y1 + 1; dy < y2; dy++) {\r\n        terminal.drawGlyph({ x: x1, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n        terminal.drawGlyph({ x: x2, y: dy }, Glyph.fromCharCode(CharCode.boxDrawingsDoubleVertical));\r\n    }\r\n    if (title) {\r\n        terminal.writeAt({ x: x1 + 2, y: y1 }, \" \" + title + \" \");\r\n    }\r\n}\r\n//# sourceMappingURL=box.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$6 = /*#__PURE__*/Object.freeze({\n    box: box\n});\n\n/** FOV Algorithm that calculates angles of shadows and merges them together. */\r\nvar PreciseShadowcasting = /** @class */ (function () {\r\n    /**\r\n     * Creates a new PreciseShadowcasting object\r\n     * which can calulate viewsheds.\r\n     *\r\n     * @param config\r\n     * @param config.lightPasses Vector2 => Boolean - Whether a position is visible\r\n     * @param config.topology \"four\" | \"eight\" | \"free\" - The topology to use\r\n     * @param config.returnAll Return all spaces in range, even if not visible. Default false.\r\n     * @param config.cartesianRange If set, will calculate range as a^2 + b^2 = c^2. Results in round shape. Default false.\r\n     */\r\n    function PreciseShadowcasting(config) {\r\n        var _a, _b;\r\n        this.lightPasses = config.lightPasses;\r\n        // free uses an 8 ring topology\r\n        this.getRing = config.topology === \"four\" ? getRing4 : getRing8;\r\n        this.returnAll = (_a = config.returnAll) !== null && _a !== void 0 ? _a : false;\r\n        this.cartesianRange = (_b = config.cartesianRange) !== null && _b !== void 0 ? _b : false;\r\n    }\r\n    /**\r\n     * Calculates an array of visible Vectors. Same as calculateCallback,\r\n     * but returns an Array instead.\r\n     *\r\n     * @param origin Vector2 - The position to start from.\r\n     * @param range Number - The range of vision\r\n     */\r\n    PreciseShadowcasting.prototype.calculateArray = function (origin, range) {\r\n        var v = [];\r\n        this.calculateCallback(origin, range, function (pos, r, visibility) {\r\n            v.push({ pos: pos, r: r, visibility: visibility });\r\n        });\r\n        return v;\r\n    };\r\n    /**\r\n     * Calculates visible positions, and invokes the given callback for each one.\r\n     *\r\n     * @param origin Vector2 - The position to start from\r\n     * @param range Number - The range of vision\r\n     * @param callback (pos: Vector2, range: number, visibility: number) => void - The function to call for each visible tile\r\n     */\r\n    PreciseShadowcasting.prototype.calculateCallback = function (origin, range, callback) {\r\n        // Always call the original\r\n        callback(origin, 0, 1);\r\n        var shadows = [];\r\n        // For all rings\r\n        for (var r = 1; r <= range; r++) {\r\n            var ring = this.getRing(origin.x, origin.y, r);\r\n            // * by 2 here since we're making 2 arcs per tile\r\n            var arcCount = ring.length * 2;\r\n            // For all cells\r\n            for (var i = 0; i < ring.length; i++) {\r\n                var cell = ring[i];\r\n                // If it's the first angle, we shift the negative value to a positive one.\r\n                // i.e. -1/8 -> 7/8\r\n                var lesserN = i === 0 ? arcCount - 1 : 2 * i - 1;\r\n                // ToDo - Fix naming\r\n                var lesserAngle = [lesserN, arcCount];\r\n                var greaterAngle = [2 * i + 1, arcCount];\r\n                var blocks = this.lightPasses(cell) === false;\r\n                var visibility = this.checkVisibility(lesserAngle, greaterAngle, blocks, shadows);\r\n                if (visibility || this.returnAll) {\r\n                    if (this.cartesianRange) {\r\n                        var absRange = Vector.getDistance(origin, cell);\r\n                        if (absRange <= range) {\r\n                            callback(cell, r, visibility);\r\n                        }\r\n                    }\r\n                    else {\r\n                        callback(cell, r, visibility);\r\n                    }\r\n                }\r\n                // ToDo - Short circuit if entirely surrounded\r\n            }\r\n        }\r\n    };\r\n    PreciseShadowcasting.prototype.checkVisibility = function (A1, A2, blocks, shadows) {\r\n        if (A1[0] > A2[0]) {\r\n            /* split into two sub-arcs */\r\n            var v1 = this.checkVisibility(A1, [A1[1], A1[1]], blocks, shadows);\r\n            var v2 = this.checkVisibility([0, 1], A2, blocks, shadows);\r\n            return (v1 + v2) / 2;\r\n        }\r\n        /* index1: first shadow >= A1 */\r\n        var index1 = 0, edge1 = false;\r\n        while (index1 < shadows.length) {\r\n            var old = shadows[index1];\r\n            var diff = old[0] * A1[1] - A1[0] * old[1];\r\n            if (diff >= 0) {\r\n                /* old >= A1 */\r\n                if (diff == 0 && !(index1 % 2)) {\r\n                    edge1 = true;\r\n                }\r\n                break;\r\n            }\r\n            index1++;\r\n        }\r\n        /* index2: last shadow <= A2 */\r\n        var index2 = shadows.length, edge2 = false;\r\n        while (index2--) {\r\n            var old = shadows[index2];\r\n            var diff = A2[0] * old[1] - old[0] * A2[1];\r\n            if (diff >= 0) {\r\n                /* old <= A2 */\r\n                if (diff == 0 && index2 % 2) {\r\n                    edge2 = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        var visible = this.checkShadowVisibility(index1, index2, edge1, edge2);\r\n        if (!visible) {\r\n            return 0;\r\n        } /* fast case: not visible */\r\n        var visibleLength;\r\n        /* compute the length of visible arc, adjust list of shadows (if blocking) */\r\n        var remove = index2 - index1 + 1;\r\n        if (remove % 2) {\r\n            if (index1 % 2) {\r\n                /* first edge within existing shadow, second outside */\r\n                var P = shadows[index1];\r\n                visibleLength = (A2[0] * P[1] - P[0] * A2[1]) / (P[1] * A2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A2);\r\n                }\r\n            }\r\n            else {\r\n                /* second edge within existing shadow, first outside */\r\n                var P = shadows[index2];\r\n                visibleLength = (P[0] * A1[1] - A1[0] * P[1]) / (A1[1] * P[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (index1 % 2) {\r\n                /* both edges within existing shadows */\r\n                var P1 = shadows[index1];\r\n                var P2 = shadows[index2];\r\n                visibleLength = (P2[0] * P1[1] - P1[0] * P2[1]) / (P1[1] * P2[1]);\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove);\r\n                }\r\n            }\r\n            else {\r\n                /* both edges outside existing shadows */\r\n                if (blocks) {\r\n                    shadows.splice(index1, remove, A1, A2);\r\n                }\r\n                return 1; /* whole arc visible! */\r\n            }\r\n        }\r\n        var arcLength = (A2[0] * A1[1] - A1[0] * A2[1]) / (A1[1] * A2[1]);\r\n        return visibleLength / arcLength;\r\n    };\r\n    PreciseShadowcasting.prototype.checkShadowVisibility = function (index1, index2, edge1, edge2) {\r\n        var visible = true;\r\n        if (index1 == index2 && (edge1 || edge2)) {\r\n            /* subset of existing shadow, one of the edges match */\r\n            visible = false;\r\n        }\r\n        else if (edge1 && edge2 && index1 + 1 == index2 && index2 % 2) {\r\n            /* completely equivalent with existing shadow */\r\n            visible = false;\r\n        }\r\n        else if (index1 > index2 && index1 % 2) {\r\n            /* subset of existing shadow, not touching */\r\n            visible = false;\r\n        }\r\n        return visible;\r\n    };\r\n    return PreciseShadowcasting;\r\n}());\r\n//# sourceMappingURL=precise.js.map\n\n//# sourceMappingURL=index.js.map\n\nvar index$7 = /*#__PURE__*/Object.freeze({\n    PreciseShadowcasting: PreciseShadowcasting\n});\n\n//# sourceMappingURL=malwoden.js.map\n\n\n//# sourceMappingURL=malwoden.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uL2Rpc3QvbWFsd29kZW4uZXM1LmpzPzg4OTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsbUJBQW1CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxQkFBcUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvQkFBb0I7QUFDbEQsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsb0JBQW9CO0FBQ2xELDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsYUFBYSxHQUFHLHdDQUF3QztBQUMzRTtBQUNBO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckMsOEJBQThCLFdBQVc7QUFDekMsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUJBQXVCO0FBQ3JELDhCQUE4Qix1QkFBdUI7QUFDckQsdUJBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzQkFBc0I7QUFDNUQ7QUFDQTtBQUNBLG1DQUFtQyw0QkFBNEI7QUFDL0QsbUNBQW1DLDRCQUE0QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxnQ0FBZ0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix5Q0FBeUM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRyxzQkFBc0I7QUFDbEM7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsVUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQsd0JBQXdCLDBCQUEwQjtBQUNsRCx3QkFBd0IsMEJBQTBCO0FBQ2xELHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQSw0QkFBNEIsNkJBQTZCO0FBQ3pELDRCQUE0QiwrQkFBK0I7QUFDM0QsNEJBQTRCLDhCQUE4QjtBQUMxRCw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0EsbURBQW1ELDRCQUE0QixFQUFFO0FBQ2pGO0FBQ0EsdURBQXVELG1DQUFtQyxFQUFFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxRQUFRO0FBQzdDLHdDQUF3QyxRQUFRO0FBQ2hELG9EQUFvRCxhQUFhO0FBQ2pFO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYTtBQUN2QyxpQ0FBaUMsYUFBYTtBQUM5Qyx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3Qjs7QUFFQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQixFQUFFO0FBQ3hDO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGFBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUV3TDtBQUN4TCIsImZpbGUiOiIuLi9kaXN0L21hbHdvZGVuLmVzNS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIENvbG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29sb3IociwgZywgYikge1xyXG4gICAgICAgIHRoaXMuciA9IHI7XHJcbiAgICAgICAgdGhpcy5nID0gZztcclxuICAgICAgICB0aGlzLmIgPSBiO1xyXG4gICAgfVxyXG4gICAgQ29sb3IucHJvdG90eXBlLmlzRXF1YWwgPSBmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yID09PSBjb2xvci5yICYmIHRoaXMuZyA9PT0gY29sb3IuZyAmJiB0aGlzLmIgPT09IGNvbG9yLmI7XHJcbiAgICB9O1xyXG4gICAgQ29sb3IucHJvdG90eXBlLmNzc0NvbG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBcInJnYihcIiArIHRoaXMuciArIFwiLFwiICsgdGhpcy5nICsgXCIsXCIgKyB0aGlzLmIgKyBcIilcIjtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUuc2FuaXRpemVFbGVtZW50ID0gZnVuY3Rpb24gKHJnYikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgubWluKE1hdGgubWF4KHJnYiwgMCksIDI1NSkpO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob3RoZXIsIGZyYWN0aW9uT3RoZXIpIHtcclxuICAgICAgICBpZiAoZnJhY3Rpb25PdGhlciA9PT0gdm9pZCAwKSB7IGZyYWN0aW9uT3RoZXIgPSAxOyB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcih0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLnIgKyBvdGhlci5yICogZnJhY3Rpb25PdGhlciksIHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuZyArIG90aGVyLmcgKiBmcmFjdGlvbk90aGVyKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5iICsgb3RoZXIuYiAqIGZyYWN0aW9uT3RoZXIpKTtcclxuICAgIH07XHJcbiAgICBDb2xvci5wcm90b3R5cGUuYmxlbmQgPSBmdW5jdGlvbiAob3RoZXIsIGZyYWN0aW9uT3RoZXIpIHtcclxuICAgICAgICBpZiAoZnJhY3Rpb25PdGhlciA9PT0gdm9pZCAwKSB7IGZyYWN0aW9uT3RoZXIgPSAwLjU7IH1cclxuICAgICAgICB2YXIgZnJhY3Rpb25UaGlzID0gMS4wIC0gZnJhY3Rpb25PdGhlcjtcclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKHRoaXMuc2FuaXRpemVFbGVtZW50KHRoaXMuciAqIGZyYWN0aW9uVGhpcyArIG90aGVyLnIgKiBmcmFjdGlvbk90aGVyKSwgdGhpcy5zYW5pdGl6ZUVsZW1lbnQodGhpcy5nICogZnJhY3Rpb25UaGlzICsgb3RoZXIuZyAqIGZyYWN0aW9uT3RoZXIpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0aGlzLmIgKiBmcmFjdGlvblRoaXMgKyBvdGhlci5iICogZnJhY3Rpb25PdGhlcikpO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS5ibGVuZFBlcmNlbnQgPSBmdW5jdGlvbiAob3RoZXIsIHBlcmNlbnRPdGhlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJsZW5kKG90aGVyLCBwZXJjZW50T3RoZXIgLyAxMDApO1xyXG4gICAgfTtcclxuICAgIENvbG9yLnByb3RvdHlwZS50b0dyYXlzY2FsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnIgKyB0aGlzLmcgKyB0aGlzLmI7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcih0aGlzLnNhbml0aXplRWxlbWVudCh0b3RhbCAvIDMpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0b3RhbCAvIDMpLCB0aGlzLnNhbml0aXplRWxlbWVudCh0b3RhbCAvIDMpKTtcclxuICAgIH07XHJcbiAgICAvLyBDU1MgRXh0ZW5kZWQgQ29sb3IgUGFsZXR0ZVxyXG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2ViX2NvbG9yc1xyXG4gICAgLy8gUGluayBDb2xvcnNcclxuICAgIENvbG9yLk1lZGl1bVZpb2xldFJlZCA9IG5ldyBDb2xvcigxOTksIDIxLCAxMzMpO1xyXG4gICAgQ29sb3IuRGVlcFBpbmsgPSBuZXcgQ29sb3IoMjU1LCAyMCwgMTQ3KTtcclxuICAgIENvbG9yLlBhbGVWaW9sZXRSZWQgPSBuZXcgQ29sb3IoMjE5LCAxMTIsIDE0Nyk7XHJcbiAgICBDb2xvci5Ib3RQaW5rID0gbmV3IENvbG9yKDI1NSwgMTA1LCAxODApO1xyXG4gICAgQ29sb3IuTGlnaHRQaW5rID0gbmV3IENvbG9yKDI1NSwgMTgyLCAxOTMpO1xyXG4gICAgQ29sb3IuUGluayA9IG5ldyBDb2xvcigyNTUsIDE5MiwgMjAzKTtcclxuICAgIC8vIFJlZCBDb2xvcnNcclxuICAgIENvbG9yLkRhcmtSZWQgPSBuZXcgQ29sb3IoMTM5LCAwLCAwKTtcclxuICAgIENvbG9yLlJlZCA9IG5ldyBDb2xvcigyNTUsIDAsIDApO1xyXG4gICAgQ29sb3IuRmlyZWJyaWNrID0gbmV3IENvbG9yKDE3OCwgMzQsIDM0KTtcclxuICAgIENvbG9yLkNyaW1zb24gPSBuZXcgQ29sb3IoMjIwLCAyMCwgNjApO1xyXG4gICAgQ29sb3IuSW5kaWFuUmVkID0gbmV3IENvbG9yKDIwNSwgOTIsIDkyKTtcclxuICAgIENvbG9yLkxpZ2h0Q29yYWwgPSBuZXcgQ29sb3IoMjQwLCAxMjgsIDEyOCk7XHJcbiAgICBDb2xvci5TYWxtb24gPSBuZXcgQ29sb3IoMjUwLCAxMjgsIDExNCk7XHJcbiAgICBDb2xvci5EYXJrU2FsbW9uID0gbmV3IENvbG9yKDIzMywgMTUwLCAxMjIpO1xyXG4gICAgQ29sb3IuTGlnaHRTYWxtb24gPSBuZXcgQ29sb3IoMjU1LCAxNjAsIDEyMik7XHJcbiAgICAvLyBPcmFuZ2UgQ29sb3JzXHJcbiAgICBDb2xvci5PcmFuZ2VSZWQgPSBuZXcgQ29sb3IoMjU1LCA2OSwgMCk7XHJcbiAgICBDb2xvci5Ub21hdG8gPSBuZXcgQ29sb3IoMjU1LCA5OSwgNzEpO1xyXG4gICAgQ29sb3IuRGFya09yYW5nZSA9IG5ldyBDb2xvcigyNTUsIDE0MCwgMCk7XHJcbiAgICBDb2xvci5Db3JhbCA9IG5ldyBDb2xvcigyNTUsIDEyNywgODApO1xyXG4gICAgQ29sb3IuT3JhbmdlID0gbmV3IENvbG9yKDI1NSwgMTY1LCAwKTtcclxuICAgIC8vIFllbGxvdyBDb2xvcnNcclxuICAgIENvbG9yLkRhcmtLaGFraSA9IG5ldyBDb2xvcigxODksIDE4MywgMTA3KTtcclxuICAgIENvbG9yLkdvbGQgPSBuZXcgQ29sb3IoMjU1LCAyMTUsIDApO1xyXG4gICAgQ29sb3IuS2hha2kgPSBuZXcgQ29sb3IoMjQwLCAyMzAsIDE0MCk7XHJcbiAgICBDb2xvci5QZWFjaFB1ZmYgPSBuZXcgQ29sb3IoMjU1LCAyMTgsIDE4NSk7XHJcbiAgICBDb2xvci5ZZWxsb3cgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDApO1xyXG4gICAgQ29sb3IuUGFsZUdvbGRlbnJvZCA9IG5ldyBDb2xvcigyMzgsIDIzMiwgMTcwKTtcclxuICAgIENvbG9yLk1vY2Nhc2luID0gbmV3IENvbG9yKDI1NSwgMjI4LCAxODEpO1xyXG4gICAgQ29sb3IuUGFwYXlhV2hpcCA9IG5ldyBDb2xvcigyNTUsIDIzOSwgMjEzKTtcclxuICAgIENvbG9yLkxpZ2h0R29sZGVucm9kWWVsbG93ID0gbmV3IENvbG9yKDI1MCwgMjUwLCAyMTApO1xyXG4gICAgQ29sb3IuTGVtb25DaGlmZm9uID0gbmV3IENvbG9yKDI1NSwgMjUwLCAyMDUpO1xyXG4gICAgQ29sb3IuTGlnaHRZZWxsb3cgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDIyNCk7XHJcbiAgICAvLyBCcm93biBDb2xvcnNcclxuICAgIENvbG9yLk1hcm9vbiA9IG5ldyBDb2xvcigxMjgsIDAsIDApO1xyXG4gICAgQ29sb3IuQnJvd24gPSBuZXcgQ29sb3IoMTY1LCA0MiwgNDIpO1xyXG4gICAgQ29sb3IuU2FkZGxlQnJvd24gPSBuZXcgQ29sb3IoMTM5LCA2OSwgMTkpO1xyXG4gICAgQ29sb3IuU2llbm5hID0gbmV3IENvbG9yKDE2MCwgODIsIDQ1KTtcclxuICAgIENvbG9yLkNob2NvbGF0ZSA9IG5ldyBDb2xvcigyMTAsIDEwNSwgMzApO1xyXG4gICAgQ29sb3IuRGFya0dvbGRlbnJvZCA9IG5ldyBDb2xvcigxODQsIDEzNCwgMTEpO1xyXG4gICAgQ29sb3IuUGVydSA9IG5ldyBDb2xvcigyMDUsIDEzMywgNjMpO1xyXG4gICAgQ29sb3IuUm9zeUJyb3duID0gbmV3IENvbG9yKDE4OCwgMTQzLCAxNDMpO1xyXG4gICAgQ29sb3IuR29sZGVucm9kID0gbmV3IENvbG9yKDIxOCwgMTY1LCAzMik7XHJcbiAgICBDb2xvci5TYW5keUJyb3duID0gbmV3IENvbG9yKDI0NCwgMTY0LCA5Nik7XHJcbiAgICBDb2xvci5UYW4gPSBuZXcgQ29sb3IoMjEwLCAxODAsIDE0MCk7XHJcbiAgICBDb2xvci5CdXJseXdvb2QgPSBuZXcgQ29sb3IoMjIyLCAxODQsIDEzNSk7XHJcbiAgICBDb2xvci5XaGVhdCA9IG5ldyBDb2xvcigyNDUsIDIyMiwgMTc5KTtcclxuICAgIENvbG9yLk5hdmFqb1doaXRlID0gbmV3IENvbG9yKDI1NSwgMjIyLCAxNzMpO1xyXG4gICAgQ29sb3IuQmlzcXVlID0gbmV3IENvbG9yKDI1NSwgMjI4LCAxOTYpO1xyXG4gICAgQ29sb3IuQmxhbmNoZWRBbG1vbmQgPSBuZXcgQ29sb3IoMjU1LCAyMzUsIDIwNSk7XHJcbiAgICBDb2xvci5Db3Juc2lsayA9IG5ldyBDb2xvcigyNTUsIDI0OCwgMjIwKTtcclxuICAgIC8vIFB1cnBsZS9WaW9sZXQvTWFnZW50YSBDb2xvcnNcclxuICAgIENvbG9yLkluZGlnbyA9IG5ldyBDb2xvcig3NSwgMCwgMTMwKTtcclxuICAgIENvbG9yLlB1cnBsZSA9IG5ldyBDb2xvcigxMjgsIDAsIDEyOCk7XHJcbiAgICBDb2xvci5EYXJrTWFnZW50YSA9IG5ldyBDb2xvcigxMzksIDksIDEzOSk7XHJcbiAgICBDb2xvci5EYXJrVmlvbGV0ID0gbmV3IENvbG9yKDE0OCwgMCwgMjExKTtcclxuICAgIENvbG9yLkRhcmtTbGF0ZUJsdWUgPSBuZXcgQ29sb3IoNzIsIDYxLCAxMjkpO1xyXG4gICAgQ29sb3IuQmx1ZVZpb2xldCA9IG5ldyBDb2xvcigxMzgsIDQzLCAyMjYpO1xyXG4gICAgQ29sb3IuRGFya09yY2hpZCA9IG5ldyBDb2xvcigxNTMsIDUwLCAyMDQpO1xyXG4gICAgQ29sb3IuRnVjaHNpYSA9IG5ldyBDb2xvcigyNTUsIDAsIDI1NSk7XHJcbiAgICBDb2xvci5NYWdlbnRhID0gbmV3IENvbG9yKDI1NSwgMCwgMjU1KTsgLy8gQWxpYXMgRnVjaHNpYVxyXG4gICAgQ29sb3IuU2xhdGVCbHVlID0gbmV3IENvbG9yKDEwNiwgOTAsIDIwNSk7XHJcbiAgICBDb2xvci5NZWRpdW1TbGF0ZUJsdWUgPSBuZXcgQ29sb3IoMTIzLCAxMDQsIDIzOCk7XHJcbiAgICBDb2xvci5NZWRpdW1PcmNoaWQgPSBuZXcgQ29sb3IoMTg2LCA4NSwgMjExKTtcclxuICAgIENvbG9yLk1lZGl1bVB1cnBsZSA9IG5ldyBDb2xvcigxNDcsIDExMiwgMjE5KTtcclxuICAgIENvbG9yLk9yY2hpZCA9IG5ldyBDb2xvcigyMTgsIDExLCAyMTQpO1xyXG4gICAgQ29sb3IuVmlvbGV0ID0gbmV3IENvbG9yKDIzOCwgMTMwLCAyMzgpO1xyXG4gICAgQ29sb3IuUGx1bSA9IG5ldyBDb2xvcigyMjEsIDE2MCwgMjIxKTtcclxuICAgIENvbG9yLlRoaXN0bGUgPSBuZXcgQ29sb3IoMjE2LCAxOTEsIDIxNik7XHJcbiAgICBDb2xvci5MYXZlbmRlciA9IG5ldyBDb2xvcigyMzAsIDIzMCwgMjUwKTtcclxuICAgIC8vIFdoaXRlIENvbG9yc1xyXG4gICAgQ29sb3IuTWlzdHlSb3NlID0gbmV3IENvbG9yKDI1NSwgMjI4LCAyMjUpO1xyXG4gICAgQ29sb3IuQW50aXF1ZVdoaXRlID0gbmV3IENvbG9yKDI1MCwgMjM1LCAyMTUpO1xyXG4gICAgQ29sb3IuTGluZW4gPSBuZXcgQ29sb3IoMjUwLCAyNDAsIDIzMCk7XHJcbiAgICBDb2xvci5CZWlnZSA9IG5ldyBDb2xvcigyNDUsIDI0NSwgMjIwKTtcclxuICAgIENvbG9yLldoaXRlU21va2UgPSBuZXcgQ29sb3IoMjQ1LCAyNDUsIDI0NSk7XHJcbiAgICBDb2xvci5MYXZlbmRlckJsdXNoID0gbmV3IENvbG9yKDI1NSwgMjQwLCAyNDUpO1xyXG4gICAgQ29sb3IuT2xkTGFjZSA9IG5ldyBDb2xvcigyNTMsIDI0NSwgMjMwKTtcclxuICAgIENvbG9yLkFsaWNlQmx1ZSA9IG5ldyBDb2xvcigyNDAsIDI0OCwgMjU1KTtcclxuICAgIENvbG9yLlNlYXNoZWxsID0gbmV3IENvbG9yKDI1NSwgMjQ1LCAyMzgpO1xyXG4gICAgQ29sb3IuR2hvc3RXaGl0ZSA9IG5ldyBDb2xvcigyNDgsIDI0OCwgMjU1KTtcclxuICAgIENvbG9yLkhvbmV5ZGV3ID0gbmV3IENvbG9yKDI0MCwgMjU1LCAyNDApO1xyXG4gICAgQ29sb3IuRmxvcmFsV2hpdGUgPSBuZXcgQ29sb3IoMjU1LCAyNTAsIDI0MCk7XHJcbiAgICBDb2xvci5BenVyZSA9IG5ldyBDb2xvcigyNDAsIDI1NSwgMjU1KTtcclxuICAgIENvbG9yLk1pbnRDcmVhbSA9IG5ldyBDb2xvcigyNDUsIDI1NSwgMjUwKTtcclxuICAgIENvbG9yLlNub3cgPSBuZXcgQ29sb3IoMjU1LCAyNTAsIDI1MCk7XHJcbiAgICBDb2xvci5Jdm9yeSA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMjQwKTtcclxuICAgIENvbG9yLldoaXRlID0gbmV3IENvbG9yKDI1NSwgMjU1LCAyNTUpO1xyXG4gICAgLy8gR3JleSArIEJsYWNrIENvbG9yc1xyXG4gICAgQ29sb3IuQmxhY2sgPSBuZXcgQ29sb3IoMCwgMCwgMCk7XHJcbiAgICBDb2xvci5EYXJrU2xhdGVHcmF5ID0gbmV3IENvbG9yKDQ3LCA3OSwgNzkpO1xyXG4gICAgQ29sb3IuRGltR3JheSA9IG5ldyBDb2xvcigxMDUsIDEwNSwgMTA1KTtcclxuICAgIENvbG9yLlNsYXRlR3JheSA9IG5ldyBDb2xvcigxMTIsIDEyOCwgMTQ0KTtcclxuICAgIENvbG9yLkdyYXkgPSBuZXcgQ29sb3IoMTI4LCAxMjgsIDEyOCk7XHJcbiAgICBDb2xvci5MaWdodFNsYXRlR3JheSA9IG5ldyBDb2xvcigxMTksIDEzNiwgMTUzKTtcclxuICAgIENvbG9yLkRhcmtHcmF5ID0gbmV3IENvbG9yKDE2OSwgMTY5LCAxNjkpO1xyXG4gICAgQ29sb3IuU2lsdmVyID0gbmV3IENvbG9yKDE5MiwgMTkyLCAxOTIpO1xyXG4gICAgQ29sb3IuTGlnaHRHcmF5ID0gbmV3IENvbG9yKDIxMSwgMjExLCAyMTEpO1xyXG4gICAgQ29sb3IuR2FpbnNib3JvID0gbmV3IENvbG9yKDIyMCwgMjIwLCAyMjApO1xyXG4gICAgLy8gR3JlZW4gQ29sb3JzXHJcbiAgICBDb2xvci5EYXJrR3JlZW4gPSBuZXcgQ29sb3IoMCwgMTAwLCAwKTtcclxuICAgIENvbG9yLkdyZWVuID0gbmV3IENvbG9yKDAsIDEyOCwgMCk7XHJcbiAgICBDb2xvci5EYXJrT2xpdmVHcmVlbiA9IG5ldyBDb2xvcig4NSwgMTA3LCA0Nyk7XHJcbiAgICBDb2xvci5Gb3Jlc3RHcmVlbiA9IG5ldyBDb2xvcigzNCwgMTM5LCAzNCk7XHJcbiAgICBDb2xvci5TZWFHcmVlbiA9IG5ldyBDb2xvcig0NiwgMTM5LCA4Nyk7XHJcbiAgICBDb2xvci5PbGl2ZSA9IG5ldyBDb2xvcigxMjgsIDEyOCwgMCk7XHJcbiAgICBDb2xvci5PbGl2ZURyYWIgPSBuZXcgQ29sb3IoMTA3LCAxNDIsIDM1KTtcclxuICAgIENvbG9yLk1lZGl1bVNlYUdyZWVuID0gbmV3IENvbG9yKDYwLCAxNzksIDExMyk7XHJcbiAgICBDb2xvci5MaW1lR3JlZW4gPSBuZXcgQ29sb3IoNTAsIDIwNSwgNTApO1xyXG4gICAgQ29sb3IuTGltZSA9IG5ldyBDb2xvcigwLCAyNTUsIDApO1xyXG4gICAgQ29sb3IuU3ByaW5nR3JlZW4gPSBuZXcgQ29sb3IoMCwgMjU1LCAxMjcpO1xyXG4gICAgQ29sb3IuTWVkaXVtU3ByaW5nR3JlZW4gPSBuZXcgQ29sb3IoMCwgMjUwLCAxNTQpO1xyXG4gICAgQ29sb3IuRGFya1NlYUdyZWVuID0gbmV3IENvbG9yKDE0MywgMTg4LCAxNDMpO1xyXG4gICAgQ29sb3IuTWVkaXVtQXF1YW1hcmluZSA9IG5ldyBDb2xvcigxMDIsIDIwNSwgMTcwKTtcclxuICAgIENvbG9yLlllbGxvd0dyZWVuID0gbmV3IENvbG9yKDE1NCwgMjA1LCA1MCk7XHJcbiAgICBDb2xvci5MYXduR3JlZW4gPSBuZXcgQ29sb3IoMTI0LCAyNTIsIDApO1xyXG4gICAgQ29sb3IuQ2hhcnRyZXVzZSA9IG5ldyBDb2xvcigxMjcsIDI1NSwgMCk7XHJcbiAgICBDb2xvci5MaWdodEdyZWVuID0gbmV3IENvbG9yKDEzMywgMjM4LCAxNDQpO1xyXG4gICAgQ29sb3IuR3JlZW5ZZWxsb3cgPSBuZXcgQ29sb3IoMTczLCAyNTUsIDQ3KTtcclxuICAgIENvbG9yLlBhbGVHcmVlbiA9IG5ldyBDb2xvcigxNTIsIDI1MSwgMTUyKTtcclxuICAgIC8vIEN5YW4gQ29sb3JzXHJcbiAgICBDb2xvci5UZWFsID0gbmV3IENvbG9yKDAsIDEyOCwgMTI4KTtcclxuICAgIENvbG9yLkRhcmtDeWFuID0gbmV3IENvbG9yKDAsIDEzOSwgMTM5KTtcclxuICAgIENvbG9yLkxpZ2h0U2VhR3JlZW4gPSBuZXcgQ29sb3IoMzIsIDE3OCwgMTcwKTtcclxuICAgIENvbG9yLkNhZGV0Qmx1ZSA9IG5ldyBDb2xvcig5NSwgMTU4LCAxNjApO1xyXG4gICAgQ29sb3IuRGFya1R1cnF1b2lzZSA9IG5ldyBDb2xvcigwLCAyMDYsIDIwOSk7XHJcbiAgICBDb2xvci5NZWRpdW1UdXJxdW9pc2UgPSBuZXcgQ29sb3IoNzIsIDIwOSwgMjA0KTtcclxuICAgIENvbG9yLlR1cnF1b2lzZSA9IG5ldyBDb2xvcig2NCwgMjI0LCAyMDgpO1xyXG4gICAgQ29sb3IuQXF1YSA9IG5ldyBDb2xvcigwLCAyNTUsIDI1NSk7XHJcbiAgICBDb2xvci5DeWFuID0gbmV3IENvbG9yKDAsIDI1NSwgMjU1KTtcclxuICAgIENvbG9yLkFxdWFtYXJpbmUgPSBuZXcgQ29sb3IoMTI3LCAyNTUsIDIxMik7XHJcbiAgICBDb2xvci5QYWxlVHVycXVvaXNlID0gbmV3IENvbG9yKDE3NSwgMjM4LCAyMzgpO1xyXG4gICAgQ29sb3IuTGlnaHRDeWFuID0gbmV3IENvbG9yKDI0NCwgMjU1LCAyNTUpO1xyXG4gICAgLy8gQmx1ZSBDb2xvcnNcclxuICAgIENvbG9yLk5hdnkgPSBuZXcgQ29sb3IoMCwgMCwgMTI4KTtcclxuICAgIENvbG9yLkRhcmtCbHVlID0gbmV3IENvbG9yKDAsIDAsIDEzOSk7XHJcbiAgICBDb2xvci5NZWRpdW1CbHVlID0gbmV3IENvbG9yKDAsIDAsIDIwNSk7XHJcbiAgICBDb2xvci5CbHVlID0gbmV3IENvbG9yKDAsIDAsIDIyNSk7XHJcbiAgICBDb2xvci5NaWRuaWdodEJsdWUgPSBuZXcgQ29sb3IoMjUsIDI1LCAxMTIpO1xyXG4gICAgQ29sb3IuUm95YWxCbHVlID0gbmV3IENvbG9yKDY1LCAxMDUsIDIyNSk7XHJcbiAgICBDb2xvci5TdGVlbEJsdWUgPSBuZXcgQ29sb3IoNzAsIDEzMCwgMTgwKTtcclxuICAgIENvbG9yLkRvZGdlckJsdWUgPSBuZXcgQ29sb3IoMzAsIDE0NCwgMjU1KTtcclxuICAgIENvbG9yLkRlZXBTa3lCbHVlID0gbmV3IENvbG9yKDAsIDE5MSwgMjU1KTtcclxuICAgIENvbG9yLkNvcm5mbG93ZXJCbHVlID0gbmV3IENvbG9yKDEwMCwgMTQ5LCAyMzcpO1xyXG4gICAgQ29sb3IuU2t5Qmx1ZSA9IG5ldyBDb2xvcigxMzUsIDIwNiwgMjM1KTtcclxuICAgIENvbG9yLkxpZ2h0U2t5Qmx1ZSA9IG5ldyBDb2xvcigxMzUsIDIwNiwgMjUwKTtcclxuICAgIENvbG9yLkxpZ2h0U3RlZWxCbHVlID0gbmV3IENvbG9yKDE3NiwgMTk2LCAyMjIpO1xyXG4gICAgQ29sb3IuTGlnaHRCbHVlID0gbmV3IENvbG9yKDE3MywgMjE2LCAyMzApO1xyXG4gICAgQ29sb3IuUG93ZGVyQmx1ZSA9IG5ldyBDb2xvcigxNzYsIDIyNCwgMjMwKTtcclxuICAgIHJldHVybiBDb2xvcjtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3IuanMubWFwXG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgZ2x5cGggdG8gYmUgZHJhd24gdG8gdGhlIHNjcmVlbi5cclxuICovXHJcbnZhciBHbHlwaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIEdseXBoIGZyb20gYSBzaW5nbGUgY2hhcmFjdGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjaGFyIC0gQSBzaW5nbGUgY2hhcmFjdGVyLlxyXG4gICAgICogQHBhcmFtIGZvcmUgLSBBIGZvcmVncm91bmQgY29sb3IgKGRlZmF1bHQgd2hpdGUpXHJcbiAgICAgKiBAcGFyYW0gYmFjayAtIEEgYmFja2dyb3VuZCBjb2xvciAoZGVmYXVsdCBibGFjaylcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gR2x5cGgoY2hhciwgZm9yZSwgYmFjaykge1xyXG4gICAgICAgIGlmIChmb3JlID09PSB2b2lkIDApIHsgZm9yZSA9IENvbG9yLldoaXRlOyB9XHJcbiAgICAgICAgaWYgKGJhY2sgPT09IHZvaWQgMCkgeyBiYWNrID0gQ29sb3IuQmxhY2s7IH1cclxuICAgICAgICB0aGlzLmNoYXIgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgdGhpcy5mb3JlID0gZm9yZTtcclxuICAgICAgICB0aGlzLmJhY2sgPSBiYWNrO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgZ2x5cGggZnJvbSBhIGNoYXJDb2RlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjaGFyIC0gQSBudW1iZXIgcmVwcmVzZW50aW5nIGEgY2hhckNvZGUuXHJcbiAgICAgKiBAcGFyYW0gZm9yZSAtIEEgZm9yZWdyb3VuZCBjb2xvciAoZGVmYXVsdCB3aGl0ZSlcclxuICAgICAqIEBwYXJhbSBiYWNrIC0gQSBiYWNrZ3JvdW5kIGNvbG9yIChkZWZhdWx0IGJsYWNrKVxyXG4gICAgICovXHJcbiAgICBHbHlwaC5mcm9tQ2hhckNvZGUgPSBmdW5jdGlvbiAoY2hhciwgZm9yZSwgYmFjaykge1xyXG4gICAgICAgIGlmIChmb3JlID09PSB2b2lkIDApIHsgZm9yZSA9IENvbG9yLldoaXRlOyB9XHJcbiAgICAgICAgaWYgKGJhY2sgPT09IHZvaWQgMCkgeyBiYWNrID0gQ29sb3IuQmxhY2s7IH1cclxuICAgICAgICByZXR1cm4gbmV3IEdseXBoKFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhciksIGZvcmUsIGJhY2spO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0d28gZ2x5cGhzIGFyZSBlcXVhbC5cclxuICAgICAqIEBwYXJhbSBvdGhlciBHbHlwaCAtIFRoZSBvdGhlciBnbHlwaC5cclxuICAgICAqL1xyXG4gICAgR2x5cGgucHJvdG90eXBlLmlzRXF1YWwgPSBmdW5jdGlvbiAob3RoZXIpIHtcclxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBHbHlwaCA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY2hhciA9PT0gb3RoZXIuY2hhciAmJlxyXG4gICAgICAgICAgICB0aGlzLmZvcmUuaXNFcXVhbChvdGhlci5mb3JlKSAmJlxyXG4gICAgICAgICAgICB0aGlzLmJhY2suaXNFcXVhbChvdGhlci5iYWNrKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEdseXBoO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbHlwaC5qcy5tYXBcblxudmFyIEJhc2VUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2VUZXJtaW5hbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjb25maWcud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZm9yZUNvbG9yID0gKF9hID0gY29uZmlnLmZvcmVDb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogQ29sb3IuV2hpdGU7XHJcbiAgICAgICAgdGhpcy5iYWNrQ29sb3IgPSAoX2IgPSBjb25maWcuYmFja0NvbG9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBDb2xvci5CbGFjaztcclxuICAgIH1cclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICB5OiB0aGlzLmhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5maWxsKHsgeDogMCwgeTogMCB9LCB7IHg6IHRoaXMud2lkdGggLSAxLCB5OiB0aGlzLmhlaWdodCAtIDEgfSwgbmV3IEdseXBoKFwiIFwiKSk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKHYxLCB2MiwgZ2x5cGgpIHtcclxuICAgICAgICBmb3IgKHZhciB4ID0gdjEueDsgeCA8PSB2Mi54OyB4KyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHYxLnk7IHkgPD0gdjIueTsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHbHlwaCh7IHg6IHgsIHk6IHkgfSwgZ2x5cGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJhc2VUZXJtaW5hbC5wcm90b3R5cGUud3JpdGVBdCA9IGZ1bmN0aW9uIChwb3MsIHRleHQsIGZvcmUsIGJhY2spIHtcclxuICAgICAgICBpZiAoZm9yZSA9PT0gdm9pZCAwKSB7IGZvcmUgPSB0aGlzLmZvcmVDb2xvcjsgfVxyXG4gICAgICAgIGlmIChiYWNrID09PSB2b2lkIDApIHsgYmFjayA9IHRoaXMuYmFja0NvbG9yOyB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwb3MueCArIGkgPj0gdGhpcy53aWR0aClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdHbHlwaCh7XHJcbiAgICAgICAgICAgICAgICB4OiBwb3MueCArIGksXHJcbiAgICAgICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgfSwgR2x5cGguZnJvbUNoYXJDb2RlKHRleHQuY2hhckNvZGVBdChpKSwgZm9yZSwgYmFjaykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCYXNlVGVybWluYWwucHJvdG90eXBlLnBvcnQgPSBmdW5jdGlvbiAocG9zLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb3J0VGVybWluYWwocG9zLCB7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfSwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVRlcm1pbmFsLnByb3RvdHlwZS5kcmF3Q2hhckNvZGUgPSBmdW5jdGlvbiAocG9zLCBjaGFyQ29kZSwgZm9yZUNvbG9yLCBiYWNrQ29sb3IpIHtcclxuICAgICAgICBpZiAoZm9yZUNvbG9yID09PSB2b2lkIDApIHsgZm9yZUNvbG9yID0gdGhpcy5mb3JlQ29sb3I7IH1cclxuICAgICAgICBpZiAoYmFja0NvbG9yID09PSB2b2lkIDApIHsgYmFja0NvbG9yID0gdGhpcy5iYWNrQ29sb3I7IH1cclxuICAgICAgICB0aGlzLmRyYXdHbHlwaChwb3MsIEdseXBoLmZyb21DaGFyQ29kZShjaGFyQ29kZSwgZm9yZUNvbG9yLCBiYWNrQ29sb3IpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFzZVRlcm1pbmFsO1xyXG59KCkpO1xyXG52YXIgUmVuZGVyYWJsZVRlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlbmRlcmFibGVUZXJtaW5hbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJlbmRlcmFibGVUZXJtaW5hbCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVuZGVyYWJsZVRlcm1pbmFsO1xyXG59KEJhc2VUZXJtaW5hbCkpO1xyXG52YXIgUG9ydFRlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBvcnRUZXJtaW5hbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBvcnRUZXJtaW5hbChwb3MsIHNpemUsIHJvb3QpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7IHdpZHRoOiBzaXplLngsIGhlaWdodDogc2l6ZS55IH0pIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX3ggPSBwb3MueDtcclxuICAgICAgICBfdGhpcy5feSA9IHBvcy55O1xyXG4gICAgICAgIF90aGlzLnBvcnRTaXplID0gc2l6ZTtcclxuICAgICAgICBfdGhpcy5yb290ID0gcm9vdDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQb3J0VGVybWluYWwucHJvdG90eXBlLmRyYXdHbHlwaCA9IGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgaWYgKHBvcy54IDwgMCB8fCBwb3MueCA+PSB0aGlzLndpZHRoKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHBvcy55IDwgMCB8fCBwb3MueSA+PSB0aGlzLmhlaWdodClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucm9vdC5kcmF3R2x5cGgoeyB4OiB0aGlzLl94ICsgcG9zLngsIHk6IHRoaXMuX3kgKyBwb3MueSB9LCBnbHlwaCk7XHJcbiAgICB9O1xyXG4gICAgUG9ydFRlcm1pbmFsLnByb3RvdHlwZS5wb3J0ID0gZnVuY3Rpb24gKHBvcywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9ydFRlcm1pbmFsKHtcclxuICAgICAgICAgICAgeDogdGhpcy5feCArIHBvcy54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLl95ICsgcG9zLnksXHJcbiAgICAgICAgfSwgeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH0sIHRoaXMucm9vdCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBvcnRUZXJtaW5hbDtcclxufShCYXNlVGVybWluYWwpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVybWluYWwuanMubWFwXG5cbnZhciBUYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRhYmxlKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIC8vIFRvRG8gLSBJbml0aWFsaXplIGVtcHR5IGFycmF5XHJcbiAgICB9XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaXplID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciB4ID0gX2EueCwgeSA9IF9hLnk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5Cb3VuZHMoeyB4OiB4LCB5OiB5IH0pKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBpbmRleCA9IHkgKiB0aGlzLndpZHRoICsgeDtcclxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1tpbmRleF07XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChwb3MsIGl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5pc0luQm91bmRzKHBvcykgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocG9zLnggKyBcIjpcIiArIHBvcy55ICsgXCIgaXMgbm90IGluIGJvdW5kc1wiKTtcclxuICAgICAgICB2YXIgaW5kZXggPSBwb3MueSAqIHRoaXMud2lkdGggKyBwb3MueDtcclxuICAgICAgICBpZiAoaXRlbSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGl0ZW07XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1tpbmRleF07XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmlzSW5Cb3VuZHMgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgeCA9IF9hLngsIHkgPSBfYS55O1xyXG4gICAgICAgIGlmICh4IDwgMCB8fCB4ID49IHRoaXMud2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmdldE5laWdoYm9ycyA9IGZ1bmN0aW9uIChwb3MsIHByZWRpY2F0ZSwgdG9wb2xvZ3kpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0b3BvbG9neSA9PT0gdm9pZCAwKSB7IHRvcG9sb2d5ID0gXCJlaWdodFwiOyB9XHJcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IFtdO1xyXG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSB9KTtcclxuICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54LCB5OiBwb3MueSArIC0xIH0pO1xyXG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAtMSwgeTogcG9zLnkgfSk7XHJcbiAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgIGlmICh0b3BvbG9neSA9PT0gXCJlaWdodFwiKSB7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSAtIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAtMSwgeTogcG9zLnkgKyAtMSB9KTtcclxuICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2goeyB4OiBwb3MueCArIC0xLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5laWdoYm9ycyA9IG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIF90aGlzLmlzSW5Cb3VuZHModik7IH0pO1xyXG4gICAgICAgIGlmIChwcmVkaWNhdGUpIHtcclxuICAgICAgICAgICAgbmVpZ2hib3JzID0gbmVpZ2hib3JzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gcHJlZGljYXRlKHYsIF90aGlzLmdldCh2KSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVpZ2hib3JzO1xyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5mbG9vZEZpbGxTZWxlY3QgPSBmdW5jdGlvbiAocG9zLCB0YXJnZXRWYWx1ZSkge1xyXG4gICAgICAgIGlmICghdGFyZ2V0VmFsdWUpIHtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0aGlzLmdldChwb3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBnaXZlbiBhIHRhcmdldCB2YWx1ZSwgbXVzdCBtYXRjaCBzdGFydCBwb3NpdGlvblxyXG4gICAgICAgIGlmICh0aGlzLmdldChwb3MpICE9PSB0YXJnZXRWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBob3Jpem9uID0gW3Bvc107XHJcbiAgICAgICAgLy8gXCJ4OnlcIiwgZm9yIHF1aWNrIGluZGV4aW5nXHJcbiAgICAgICAgdmFyIGZsb29kRmlsbCA9IG5ldyBTZXQoKTtcclxuICAgICAgICB3aGlsZSAoaG9yaXpvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHBvaW50ID0gaG9yaXpvbi5zaGlmdCgpO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldChwb2ludCk7XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCB0aGUgcmlnaHQgdHlwZSBvZiB2YWx1ZSwgd2UncmUgZG9uZS5cclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0YXJnZXRWYWx1ZSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IG1hcmtlZCB0aGlzIHNwb3RcclxuICAgICAgICAgICAgaWYgKGZsb29kRmlsbC5oYXMocG9pbnQueCArIFwiOlwiICsgcG9pbnQueSkpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgdGhlIHByb3BlciB2YWx1ZSwgY29sbGVjdCBpdFxyXG4gICAgICAgICAgICBmbG9vZEZpbGwuYWRkKHBvaW50LnggKyBcIjpcIiArIHBvaW50LnkpO1xyXG4gICAgICAgICAgICAvLyBUaGUgYWRkIGl0J3MgbmVpZ2hib3JzIHRvIHRoZSBzZWFyY2ggaG9yaXpvblxyXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JzID0gdGhpcy5nZXROZWlnaGJvcnMocG9pbnQsIHVuZGVmaW5lZCwgXCJmb3VyXCIpO1xyXG4gICAgICAgICAgICBob3Jpem9uLnB1c2guYXBwbHkoaG9yaXpvbiwgbmVpZ2hib3JzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbGwgPSBBcnJheS5mcm9tKGZsb29kRmlsbC5rZXlzKCkpLm1hcChmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHN0ci5zcGxpdChcIjpcIiksIHggPSBfYVswXSwgeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgeDogTnVtYmVyLnBhcnNlSW50KHgpLFxyXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLnBhcnNlSW50KHkpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmaWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUYWJsZTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFibGUuanMubWFwXG5cbi8qKiBSZXByZXNlbnRzIGdseXBoIGRhdGEsIGFnbm9zdGljIHRvIGhvdyBpdCBpcyByZW5kZXJlZC4gKi9cclxudmFyIERpc3BsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgRGlzcGxheVxyXG4gICAgICogQHBhcmFtIHdpZHRoIC0gVGhlIG51bWJlciBvZiBnbHlwaHMgd2lkZSB0aGUgZGlzcGxheSBpc1xyXG4gICAgICogQHBhcmFtIGhlaWdodCAtIFRoZSBudW1iZXIgb2YgZ2x5cGhzIHRhbGwgdGhlIGRpc3BsYXkgaXNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gRGlzcGxheSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZ2x5cGhzID0gbmV3IFRhYmxlKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlZEdseXBocyA9IG5ldyBUYWJsZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHdpZHRoL2hlaWdodCBvZiB0aGUgZGlzcGxheS5cclxuICAgICAqL1xyXG4gICAgRGlzcGxheS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4geyB4OiB0aGlzLndpZHRoLCB5OiB0aGlzLmhlaWdodCB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHNpbmdsZSBnbHlwaCBpbiB0aGUgZGlzcGxheS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcG9zIFZlY3RvcjIgLSBUaGUgcG9zaXRpb24gb2YgdGhlIEdseXBoXHJcbiAgICAgKiBAcGFyYW0gZ2x5cGggR2x5cGggLSBUaGUgR2x5cGhcclxuICAgICAqL1xyXG4gICAgRGlzcGxheS5wcm90b3R5cGUuc2V0R2x5cGggPSBmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdseXBocy5pc0luQm91bmRzKHBvcykgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGdseXBoLmlzRXF1YWwodGhpcy5nbHlwaHMuZ2V0KHBvcykpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZEdseXBocy5zZXQocG9zLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkR2x5cGhzLnNldChwb3MsIGdseXBoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxscyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIHgveS9nbHlwaCBwYWlyLlxyXG4gICAgICogVGhlIHRlcm1pbmFsIG5lZWRzIHRvIGRlY2lkZSBob3cgdG8gcmVuZGVyIHRoZSBkaXNwbGF5LlxyXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGNhbGxlZCBib3R0b20gdG8gdG9wLCByaWdodCB0byBsZWZ0LlxyXG4gICAgICovXHJcbiAgICBEaXNwbGF5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gdGhpcy53aWR0aCAtIDE7IHggPj0gMDsgeC0tKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2x5cGggPSB0aGlzLmNoYW5nZWRHbHlwaHMuZ2V0KHsgeDogeCwgeTogeSB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghZ2x5cGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7IHg6IHgsIHk6IHkgfSwgZ2x5cGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbHlwaHMuc2V0KHsgeDogeCwgeTogeSB9LCBnbHlwaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWRHbHlwaHMuc2V0KHsgeDogeCwgeTogeSB9LCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBEaXNwbGF5O1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcFxuXG52YXIgRm9udCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEZvbnQoZmFtaWx5LCBzaXplLCBjaGFyV2lkdGgsIGhlaWdodCwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuZmFtaWx5ID0gZmFtaWx5O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5jaGFyV2lkdGggPSBjaGFyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuICAgIHJldHVybiBGb250O1xyXG59KCkpO1xyXG4vKipcclxuICogUmVuZGVycyBhIGRpc3BsYXkgYnkgd3JpdGluZyBmb250cyB0byBhIGNhbnZhcy5cclxuICovXHJcbnZhciBDYW52YXNUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDYW52YXNUZXJtaW5hbCwgX3N1cGVyKTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDYW52YXNUZXJtaW5hbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZyBmb3IgdGhlIENhbnZhc1Rlcm1pbmFsXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLndpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSB0ZXJtaW5hbCBpbiBjaGFyYWN0ZXJzLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5oZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSB0ZXJtaW5hbCBpbiBjaGFyYWN0ZXJzLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5mb250IEZvbnQgLSBBIGZvbnQgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLm1vdW50Tm9kZSAtIFdpbGwgbW91bnQgdGhlIGNhbnZhcyBhcyBhIGNoaWxkIG9mIHRoaXMgbm9kZSBpZiBwcm92aWRlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ2FudmFzVGVybWluYWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgX3RoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgX3RoaXMuZm9udCA9IGNvbmZpZy5mb250O1xyXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IF90aGlzLmZvbnQuY2hhcldpZHRoICogX3RoaXMuZGlzcGxheS53aWR0aDtcclxuICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gX3RoaXMuZm9udC5saW5lSGVpZ2h0ICogX3RoaXMuZGlzcGxheS5oZWlnaHQ7XHJcbiAgICAgICAgX3RoaXMuY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGggKiBfdGhpcy5zY2FsZTtcclxuICAgICAgICBfdGhpcy5jYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICogX3RoaXMuc2NhbGU7XHJcbiAgICAgICAgX3RoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgX3RoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCArIFwicHhcIjtcclxuICAgICAgICAvLyBNb3VudCB0aGUgY2FudmFzXHJcbiAgICAgICAgaWYgKGNvbmZpZy5tb3VudE5vZGUpIHtcclxuICAgICAgICAgICAgY29uZmlnLm1vdW50Tm9kZS5hcHBlbmRDaGlsZChfdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoX3RoaXMuY2FudmFzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3cyBhIGdseXBoIG9uIHRoZSBkaXNwbGF5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwb3MgVmVjdG9yMiAtIFBvc2l0aW9uIG9mIHRoZSBHbHlwaFxyXG4gICAgICogQHBhcmFtIGdseXBoIEdseXBoIC0gVGhlIEdseXBoIHRvIHJlbmRlclxyXG4gICAgICovXHJcbiAgICBDYW52YXNUZXJtaW5hbC5wcm90b3R5cGUuZHJhd0dseXBoID0gZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXkuc2V0R2x5cGgocG9zLCBnbHlwaCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXJzIHRoZSBkaXNwbGF5IHRvIHRoZSBjYW52YXMuXHJcbiAgICAgKiBVc3VhbGx5IGRyYXduIG9uY2UgcGVyIGFuaW1hdGlvbiBmcmFtZS5cclxuICAgICAqL1xyXG4gICAgQ2FudmFzVGVybWluYWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gdGhpcy5mb250LnNpemUgKiB0aGlzLnNjYWxlICsgXCJweCBcIiArIHRoaXMuZm9udC5mYW1pbHkgKyBcIiwgbW9ub3NwYWNlXCI7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5LnJlbmRlcihmdW5jdGlvbiAocG9zLCBnbHlwaCkge1xyXG4gICAgICAgICAgICAvLyBGaWxsIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gZ2x5cGguYmFjay5jc3NDb2xvcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmZpbGxSZWN0KHBvcy54ICogX3RoaXMuZm9udC5jaGFyV2lkdGggKiBfdGhpcy5zY2FsZSwgcG9zLnkgKiBfdGhpcy5mb250LmxpbmVIZWlnaHQgKiBfdGhpcy5zY2FsZSwgX3RoaXMuZm9udC5jaGFyV2lkdGggKiBfdGhpcy5zY2FsZSwgX3RoaXMuZm9udC5saW5lSGVpZ2h0ICogX3RoaXMuc2NhbGUpO1xyXG4gICAgICAgICAgICAvLyBEb250IGJvdGhlciBkcmF3aW5nIGVtcHR5IGNoYXJhY3RlcnNcclxuICAgICAgICAgICAgaWYgKGdseXBoLmNoYXIgPT09IDAgfHwgXCIgXCIuY2hhckNvZGVBdCgwKSA9PT0gZ2x5cGguY2hhcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZpbGwgdGhlIGNoYXJcclxuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5maWxsU3R5bGUgPSBnbHlwaC5mb3JlLmNzc0NvbG9yKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuZmlsbFRleHQoU3RyaW5nLmZyb21DaGFyQ29kZShnbHlwaC5jaGFyKSwgKHBvcy54ICogX3RoaXMuZm9udC5jaGFyV2lkdGggKyBfdGhpcy5mb250LngpICogX3RoaXMuc2NhbGUsIChwb3MueSAqIF90aGlzLmZvbnQubGluZUhlaWdodCArIF90aGlzLmZvbnQueSkgKiBfdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24gZ2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlLlxyXG4gICAgICovXHJcbiAgICBDYW52YXNUZXJtaW5hbC5wcm90b3R5cGUucGl4ZWxUb0NoYXIgPSBmdW5jdGlvbiAocGl4ZWwpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoKHBpeGVsLnggLSByZWN0LmxlZnQpIC8gdGhpcy5mb250LmNoYXJXaWR0aCksXHJcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKHBpeGVsLnkgLSByZWN0LnRvcCkgLyB0aGlzLmZvbnQubGluZUhlaWdodCksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlbGV0ZXMgdGhlIHRlcm1pbmFsLCByZW1vdmluZyB0aGUgY2FudmFzLlxyXG4gICAgICovXHJcbiAgICBDYW52YXNUZXJtaW5hbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLmNhbnZhcy5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYW52YXNUZXJtaW5hbDtcclxufShSZW5kZXJhYmxlVGVybWluYWwpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FudmFzLXRlcm1pbmFsLmpzLm1hcFxuXG4vLy8gVW5pY29kZSBjb2RlIHBvaW50cyBmb3IgdmFyaW91cyBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCBhbHNvIGV4aXN0IG9uXHJcbi8vLyBbY29kZSBwYWdlIDQzN11bZm9udF0uXHJcbi8vL1xyXG4vLy8gW2ZvbnRdOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvZGVfcGFnZV80MzdcclxudmFyIENoYXJDb2RlO1xyXG4oZnVuY3Rpb24gKENoYXJDb2RlKSB7XHJcbiAgICAvLyAxIC0gMTUuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIndoaXRlU21pbGluZ0ZhY2VcIl0gPSA5Nzg2XSA9IFwid2hpdGVTbWlsaW5nRmFjZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1NtaWxpbmdGYWNlXCJdID0gOTc4N10gPSBcImJsYWNrU21pbGluZ0ZhY2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tIZWFydFN1aXRcIl0gPSA5ODI5XSA9IFwiYmxhY2tIZWFydFN1aXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tEaWFtb25kU3VpdFwiXSA9IDk4MzBdID0gXCJibGFja0RpYW1vbmRTdWl0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrQ2x1YlN1aXRcIl0gPSA5ODI3XSA9IFwiYmxhY2tDbHViU3VpdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1NwYWRlU3VpdFwiXSA9IDk4MjRdID0gXCJibGFja1NwYWRlU3VpdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJidWxsZXRcIl0gPSA4MjI2XSA9IFwiYnVsbGV0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImludmVyc2VCdWxsZXRcIl0gPSA5Njg4XSA9IFwiaW52ZXJzZUJ1bGxldFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ3aGl0ZUNpcmNsZVwiXSA9IDk2NzVdID0gXCJ3aGl0ZUNpcmNsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpbnZlcnNlV2hpdGVDaXJjbGVcIl0gPSA5Njg5XSA9IFwiaW52ZXJzZVdoaXRlQ2lyY2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1hbGVTaWduXCJdID0gOTc5NF0gPSBcIm1hbGVTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZlbWFsZVNpZ25cIl0gPSA5NzkyXSA9IFwiZmVtYWxlU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJlaWdodGhOb3RlXCJdID0gOTgzNF0gPSBcImVpZ2h0aE5vdGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmVhbWVkRWlnaHRoTm90ZXNcIl0gPSA5ODM1XSA9IFwiYmVhbWVkRWlnaHRoTm90ZXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wid2hpdGVTdW5XaXRoUmF5c1wiXSA9IDk3ODhdID0gXCJ3aGl0ZVN1bldpdGhSYXlzXCI7XHJcbiAgICAvLyAxNiAtIDMxLlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJibGFja1JpZ2h0UG9pbnRpbmdQb2ludGVyXCJdID0gOTY1OF0gPSBcImJsYWNrUmlnaHRQb2ludGluZ1BvaW50ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tMZWZ0UG9pbnRpbmdQb2ludGVyXCJdID0gOTY2OF0gPSBcImJsYWNrTGVmdFBvaW50aW5nUG9pbnRlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1cERvd25BcnJvd1wiXSA9IDg1OTddID0gXCJ1cERvd25BcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkb3VibGVFeGNsYW1hdGlvbk1hcmtcIl0gPSA4MjUyXSA9IFwiZG91YmxlRXhjbGFtYXRpb25NYXJrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBpbGNyb3dcIl0gPSAxODJdID0gXCJwaWxjcm93XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInNlY3Rpb25TaWduXCJdID0gMTY3XSA9IFwic2VjdGlvblNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tSZWN0YW5nbGVcIl0gPSA5NjQ0XSA9IFwiYmxhY2tSZWN0YW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widXBEb3duQXJyb3dXaXRoQmFzZVwiXSA9IDg2MTZdID0gXCJ1cERvd25BcnJvd1dpdGhCYXNlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInVwd2FyZHNBcnJvd1wiXSA9IDg1OTNdID0gXCJ1cHdhcmRzQXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZG93bndhcmRzQXJyb3dcIl0gPSA4NTk1XSA9IFwiZG93bndhcmRzQXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHR3YXJkc0Fycm93XCJdID0gODU5NF0gPSBcInJpZ2h0d2FyZHNBcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0d2FyZHNBcnJvd1wiXSA9IDg1OTJdID0gXCJsZWZ0d2FyZHNBcnJvd1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodEFuZ2xlXCJdID0gODczNV0gPSBcInJpZ2h0QW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdFJpZ2h0QXJyb3dcIl0gPSA4NTk2XSA9IFwibGVmdFJpZ2h0QXJyb3dcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tVcFBvaW50aW5nVHJpYW5nbGVcIl0gPSA5NjUwXSA9IFwiYmxhY2tVcFBvaW50aW5nVHJpYW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYmxhY2tEb3duUG9pbnRpbmdUcmlhbmdsZVwiXSA9IDk2NjBdID0gXCJibGFja0Rvd25Qb2ludGluZ1RyaWFuZ2xlXCI7XHJcbiAgICAvLyAzMiAtIDQ3LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzcGFjZVwiXSA9IDMyXSA9IFwic3BhY2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZXhjbGFtYXRpb25Qb2ludFwiXSA9IDMzXSA9IFwiZXhjbGFtYXRpb25Qb2ludFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkb3VibGVRdW90ZVwiXSA9IDM0XSA9IFwiZG91YmxlUXVvdGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibnVtYmVyU2lnblwiXSA9IDM1XSA9IFwibnVtYmVyU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkb2xsYXJTaWduXCJdID0gMzZdID0gXCJkb2xsYXJTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInBlcmNlbnRcIl0gPSAzN10gPSBcInBlcmNlbnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYW1wZXJzYW5kXCJdID0gMzhdID0gXCJhbXBlcnNhbmRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYXBvc3Ryb3BoZVwiXSA9IDM5XSA9IFwiYXBvc3Ryb3BoZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0UGFyZW50aGVzaXNcIl0gPSA0MF0gPSBcImxlZnRQYXJlbnRoZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodFBhcmVudGhlc2lzXCJdID0gNDFdID0gXCJyaWdodFBhcmVudGhlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFzdGVyaXNrXCJdID0gNDJdID0gXCJhc3Rlcmlza1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwbHVzXCJdID0gNDNdID0gXCJwbHVzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNvbW1hXCJdID0gNDRdID0gXCJjb21tYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtaW51c1wiXSA9IDQ1XSA9IFwibWludXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGVyaW9kXCJdID0gNDZdID0gXCJwZXJpb2RcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic2xhc2hcIl0gPSA0N10gPSBcInNsYXNoXCI7XHJcbiAgICAvLyA0OCAtIDYzLlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ6ZXJvXCJdID0gNDhdID0gXCJ6ZXJvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm9uZVwiXSA9IDQ5XSA9IFwib25lXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInR3b1wiXSA9IDUwXSA9IFwidHdvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInRocmVlXCJdID0gNTFdID0gXCJ0aHJlZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmb3VyXCJdID0gNTJdID0gXCJmb3VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImZpdmVcIl0gPSA1M10gPSBcImZpdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic2l4XCJdID0gNTRdID0gXCJzaXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic2V2ZW5cIl0gPSA1NV0gPSBcInNldmVuXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImVpZ2h0XCJdID0gNTZdID0gXCJlaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJuaW5lXCJdID0gNTddID0gXCJuaW5lXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNvbG9uXCJdID0gNThdID0gXCJjb2xvblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzZW1pY29sb25cIl0gPSA1OV0gPSBcInNlbWljb2xvblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZXNzVGhhblwiXSA9IDYwXSA9IFwibGVzc1RoYW5cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZXF1YWxzXCJdID0gNjFdID0gXCJlcXVhbHNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlYXRlclRoYW5cIl0gPSA2Ml0gPSBcImdyZWF0ZXJUaGFuXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInF1ZXN0aW9uTWFya1wiXSA9IDYzXSA9IFwicXVlc3Rpb25NYXJrXCI7XHJcbiAgICAvLyA2NCAtIDk1LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJhdFwiXSA9IDY0XSA9IFwiYXRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYVVwcGVyXCJdID0gNjVdID0gXCJhVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYlVwcGVyXCJdID0gNjZdID0gXCJiVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY1VwcGVyXCJdID0gNjddID0gXCJjVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZFVwcGVyXCJdID0gNjhdID0gXCJkVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZVVwcGVyXCJdID0gNjldID0gXCJlVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZlVwcGVyXCJdID0gNzBdID0gXCJmVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ1VwcGVyXCJdID0gNzFdID0gXCJnVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaFVwcGVyXCJdID0gNzJdID0gXCJoVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaVVwcGVyXCJdID0gNzNdID0gXCJpVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wialVwcGVyXCJdID0gNzRdID0gXCJqVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wia1VwcGVyXCJdID0gNzVdID0gXCJrVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibFVwcGVyXCJdID0gNzZdID0gXCJsVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibVVwcGVyXCJdID0gNzddID0gXCJtVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiblVwcGVyXCJdID0gNzhdID0gXCJuVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wib1VwcGVyXCJdID0gNzldID0gXCJvVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicFVwcGVyXCJdID0gODBdID0gXCJwVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicVVwcGVyXCJdID0gODFdID0gXCJxVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiclVwcGVyXCJdID0gODJdID0gXCJyVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic1VwcGVyXCJdID0gODNdID0gXCJzVXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widFVwcGVyXCJdID0gODRdID0gXCJ0VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widVVwcGVyXCJdID0gODVdID0gXCJ1VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widlVwcGVyXCJdID0gODZdID0gXCJ2VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wid1VwcGVyXCJdID0gODddID0gXCJ3VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wieFVwcGVyXCJdID0gODhdID0gXCJ4VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wieVVwcGVyXCJdID0gODldID0gXCJ5VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wielVwcGVyXCJdID0gOTBdID0gXCJ6VXBwZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGVmdEJyYWNrZXRcIl0gPSA5MV0gPSBcImxlZnRCcmFja2V0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJhY2tTbGFzaFwiXSA9IDkyXSA9IFwiYmFja1NsYXNoXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInJpZ2h0QnJhY2tldFwiXSA9IDkzXSA9IFwicmlnaHRCcmFja2V0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImNhcmV0XCJdID0gOTRdID0gXCJjYXJldFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1bmRlcnNjb3JlXCJdID0gOTVdID0gXCJ1bmRlcnNjb3JlXCI7XHJcbiAgICAvLyA5NiAtIDEyNy5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYWNjZW50XCJdID0gOTZdID0gXCJhY2NlbnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYUxvd2VyXCJdID0gOTddID0gXCJhTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYkxvd2VyXCJdID0gOThdID0gXCJiTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY0xvd2VyXCJdID0gOTldID0gXCJjTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZExvd2VyXCJdID0gMTAwXSA9IFwiZExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImVMb3dlclwiXSA9IDEwMV0gPSBcImVMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmTG93ZXJcIl0gPSAxMDJdID0gXCJmTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ0xvd2VyXCJdID0gMTAzXSA9IFwiZ0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImhMb3dlclwiXSA9IDEwNF0gPSBcImhMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpTG93ZXJcIl0gPSAxMDVdID0gXCJpTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiakxvd2VyXCJdID0gMTA2XSA9IFwiakxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImtMb3dlclwiXSA9IDEwN10gPSBcImtMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsTG93ZXJcIl0gPSAxMDhdID0gXCJsTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibUxvd2VyXCJdID0gMTA5XSA9IFwibUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm5Mb3dlclwiXSA9IDExMF0gPSBcIm5Mb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJvTG93ZXJcIl0gPSAxMTFdID0gXCJvTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicExvd2VyXCJdID0gMTEyXSA9IFwicExvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInFMb3dlclwiXSA9IDExM10gPSBcInFMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyTG93ZXJcIl0gPSAxMTRdID0gXCJyTG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic0xvd2VyXCJdID0gMTE1XSA9IFwic0xvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInRMb3dlclwiXSA9IDExNl0gPSBcInRMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1TG93ZXJcIl0gPSAxMTddID0gXCJ1TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widkxvd2VyXCJdID0gMTE4XSA9IFwidkxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIndMb3dlclwiXSA9IDExOV0gPSBcIndMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ4TG93ZXJcIl0gPSAxMjBdID0gXCJ4TG93ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wieUxvd2VyXCJdID0gMTIxXSA9IFwieUxvd2VyXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInpMb3dlclwiXSA9IDEyMl0gPSBcInpMb3dlclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0QnJhY2VcIl0gPSAxMjNdID0gXCJsZWZ0QnJhY2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGlwZVwiXSA9IDEyNF0gPSBcInBpcGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRCcmFjZVwiXSA9IDEyNV0gPSBcInJpZ2h0QnJhY2VcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1widGlsZGVcIl0gPSAxMjZdID0gXCJ0aWxkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJob3VzZVwiXSA9IDg5NjJdID0gXCJob3VzZVwiO1xyXG4gICAgLy8gMTI4IC0gMTQzLlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJDV2l0aENlZGlsbGFcIl0gPSAxOTldID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJDV2l0aENlZGlsbGFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlclVXaXRoRGlhZXJlc2lzXCJdID0gMjUyXSA9IFwibGF0aW5TbWFsbExldHRlclVXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJFV2l0aEFjdXRlXCJdID0gMjMzXSA9IFwibGF0aW5TbWFsbExldHRlckVXaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFXaXRoQ2lyY3VtZmxleFwiXSA9IDIyNl0gPSBcImxhdGluU21hbGxMZXR0ZXJBV2l0aENpcmN1bWZsZXhcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFXaXRoRGlhZXJlc2lzXCJdID0gMjI4XSA9IFwibGF0aW5TbWFsbExldHRlckFXaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBV2l0aEdyYXZlXCJdID0gMjI0XSA9IFwibGF0aW5TbWFsbExldHRlckFXaXRoR3JhdmVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlckFXaXRoUmluZ0Fib3ZlXCJdID0gMjI5XSA9IFwibGF0aW5TbWFsbExldHRlckFXaXRoUmluZ0Fib3ZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJDV2l0aENlZGlsbGFcIl0gPSAyMzFdID0gXCJsYXRpblNtYWxsTGV0dGVyQ1dpdGhDZWRpbGxhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJFV2l0aENpcmN1bWZsZXhcIl0gPSAyMzRdID0gXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhDaXJjdW1mbGV4XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJFV2l0aERpYWVyZXNpc1wiXSA9IDIzNV0gPSBcImxhdGluU21hbGxMZXR0ZXJFV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyRVdpdGhHcmF2ZVwiXSA9IDIzMl0gPSBcImxhdGluU21hbGxMZXR0ZXJFV2l0aEdyYXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJJV2l0aERpYWVyZXNpc1wiXSA9IDIzOV0gPSBcImxhdGluU21hbGxMZXR0ZXJJV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVySVdpdGhDaXJjdW1mbGV4XCJdID0gMjM4XSA9IFwibGF0aW5TbWFsbExldHRlcklXaXRoQ2lyY3VtZmxleFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVySVdpdGhHcmF2ZVwiXSA9IDIzNl0gPSBcImxhdGluU21hbGxMZXR0ZXJJV2l0aEdyYXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlckFXaXRoRGlhZXJlc2lzXCJdID0gMTk2XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyQVdpdGhSaW5nQWJvdmVcIl0gPSAxOTddID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJBV2l0aFJpbmdBYm92ZVwiO1xyXG4gICAgLy8gMTQ0IC0gMTU5LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJFV2l0aEFjdXRlXCJdID0gMjAxXSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyRVdpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyQWVcIl0gPSAyMzBdID0gXCJsYXRpblNtYWxsTGV0dGVyQWVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5DYXBpdGFsTGV0dGVyQWVcIl0gPSAxOThdID0gXCJsYXRpbkNhcGl0YWxMZXR0ZXJBZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhDaXJjdW1mbGV4XCJdID0gMjQ0XSA9IFwibGF0aW5TbWFsbExldHRlck9XaXRoQ2lyY3VtZmxleFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhEaWFlcmVzaXNcIl0gPSAyNDZdID0gXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlck9XaXRoR3JhdmVcIl0gPSAyNDJdID0gXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhHcmF2ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhDaXJjdW1mbGV4XCJdID0gMjUxXSA9IFwibGF0aW5TbWFsbExldHRlclVXaXRoQ2lyY3VtZmxleFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyVVdpdGhHcmF2ZVwiXSA9IDI0OV0gPSBcImxhdGluU21hbGxMZXR0ZXJVV2l0aEdyYXZlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJZV2l0aERpYWVyZXNpc1wiXSA9IDI1NV0gPSBcImxhdGluU21hbGxMZXR0ZXJZV2l0aERpYWVyZXNpc1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJPV2l0aERpYWVyZXNpc1wiXSA9IDIxNF0gPSBcImxhdGluQ2FwaXRhbExldHRlck9XaXRoRGlhZXJlc2lzXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluQ2FwaXRhbExldHRlclVXaXRoRGlhZXJlc2lzXCJdID0gMjIwXSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyVVdpdGhEaWFlcmVzaXNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiY2VudFNpZ25cIl0gPSAxNjJdID0gXCJjZW50U2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwb3VuZFNpZ25cIl0gPSAxNjNdID0gXCJwb3VuZFNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wieWVuU2lnblwiXSA9IDE2NV0gPSBcInllblNpZ25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicGVzZXRhU2lnblwiXSA9IDgzNTldID0gXCJwZXNldGFTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJGV2l0aEhvb2tcIl0gPSA0MDJdID0gXCJsYXRpblNtYWxsTGV0dGVyRldpdGhIb29rXCI7XHJcbiAgICAvLyAxNjAgLSAxNzUuXHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJBV2l0aEFjdXRlXCJdID0gMjI1XSA9IFwibGF0aW5TbWFsbExldHRlckFXaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlcklXaXRoQWN1dGVcIl0gPSAyMzddID0gXCJsYXRpblNtYWxsTGV0dGVySVdpdGhBY3V0ZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpblNtYWxsTGV0dGVyT1dpdGhBY3V0ZVwiXSA9IDI0M10gPSBcImxhdGluU21hbGxMZXR0ZXJPV2l0aEFjdXRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxhdGluU21hbGxMZXR0ZXJVV2l0aEFjdXRlXCJdID0gMjUwXSA9IFwibGF0aW5TbWFsbExldHRlclVXaXRoQWN1dGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlck5XaXRoVGlsZGVcIl0gPSAyNDFdID0gXCJsYXRpblNtYWxsTGV0dGVyTldpdGhUaWxkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsYXRpbkNhcGl0YWxMZXR0ZXJOV2l0aFRpbGRlXCJdID0gMjA5XSA9IFwibGF0aW5DYXBpdGFsTGV0dGVyTldpdGhUaWxkZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmZW1pbmluZU9yZGluYWxJbmRpY2F0b3JcIl0gPSAxNzBdID0gXCJmZW1pbmluZU9yZGluYWxJbmRpY2F0b3JcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWFzY3VsaW5lT3JkaW5hbEluZGljYXRvclwiXSA9IDE4Nl0gPSBcIm1hc2N1bGluZU9yZGluYWxJbmRpY2F0b3JcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW52ZXJ0ZWRRdWVzdGlvbk1hcmtcIl0gPSAxOTFdID0gXCJpbnZlcnRlZFF1ZXN0aW9uTWFya1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyZXZlcnNlZE5vdFNpZ25cIl0gPSA4OTc2XSA9IFwicmV2ZXJzZWROb3RTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm5vdFNpZ25cIl0gPSAxNzJdID0gXCJub3RTaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInZ1bGdhckZyYWN0aW9uT25lSGFsZlwiXSA9IDE4OV0gPSBcInZ1bGdhckZyYWN0aW9uT25lSGFsZlwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ2dWxnYXJGcmFjdGlvbk9uZVF1YXJ0ZXJcIl0gPSAxODhdID0gXCJ2dWxnYXJGcmFjdGlvbk9uZVF1YXJ0ZXJcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW52ZXJ0ZWRFeGNsYW1hdGlvbk1hcmtcIl0gPSAxNjFdID0gXCJpbnZlcnRlZEV4Y2xhbWF0aW9uTWFya1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZWZ0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtcIl0gPSAxNzFdID0gXCJsZWZ0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wicmlnaHRQb2ludGluZ0RvdWJsZUFuZ2xlUXVvdGF0aW9uTWFya1wiXSA9IDE4N10gPSBcInJpZ2h0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtcIjtcclxuICAgIC8vIDE3NiAtIDE5MS5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGlnaHRTaGFkZVwiXSA9IDk2MTddID0gXCJsaWdodFNoYWRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcIm1lZGl1bVNoYWRlXCJdID0gOTYxOF0gPSBcIm1lZGl1bVNoYWRlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImRhcmtTaGFkZVwiXSA9IDk2MTldID0gXCJkYXJrU2hhZGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsXCJdID0gOTQ3NF0gPSBcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRMZWZ0XCJdID0gOTUwOF0gPSBcImJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZExlZnRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZExlZnREb3VibGVcIl0gPSA5NTY5XSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZExlZnREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZExlZnRTaW5nbGVcIl0gPSA5NTcwXSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZExlZnRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kTGVmdFNpbmdsZVwiXSA9IDk1NThdID0gXCJib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRMZWZ0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93blNpbmdsZUFuZExlZnREb3VibGVcIl0gPSA5NTU3XSA9IFwiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kTGVmdERvdWJsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kTGVmdFwiXSA9IDk1NzFdID0gXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kTGVmdFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsXCJdID0gOTU1M10gPSBcImJveERyYXdpbmdzRG91YmxlVmVydGljYWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kTGVmdFwiXSA9IDk1NTldID0gXCJib3hEcmF3aW5nc0RvdWJsZURvd25BbmRMZWZ0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVXBBbmRMZWZ0XCJdID0gOTU2NV0gPSBcImJveERyYXdpbmdzRG91YmxlVXBBbmRMZWZ0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBEb3VibGVBbmRMZWZ0U2luZ2xlXCJdID0gOTU2NF0gPSBcImJveERyYXdpbmdzVXBEb3VibGVBbmRMZWZ0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBTaW5nbGVBbmRMZWZ0RG91YmxlXCJdID0gOTU2M10gPSBcImJveERyYXdpbmdzVXBTaW5nbGVBbmRMZWZ0RG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHREb3duQW5kTGVmdFwiXSA9IDk0ODhdID0gXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZExlZnRcIjtcclxuICAgIC8vIDE5MiAtIDIwNy5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFVwQW5kUmlnaHRcIl0gPSA5NDkyXSA9IFwiYm94RHJhd2luZ3NMaWdodFVwQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFVwQW5kSG9yaXpvbnRhbFwiXSA9IDk1MjRdID0gXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHREb3duQW5kSG9yaXpvbnRhbFwiXSA9IDk1MTZdID0gXCJib3hEcmF3aW5nc0xpZ2h0RG93bkFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kUmlnaHRcIl0gPSA5NTAwXSA9IFwiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kUmlnaHRcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodEhvcml6b250YWxcIl0gPSA5NDcyXSA9IFwiYm94RHJhd2luZ3NMaWdodEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kSG9yaXpvbnRhbFwiXSA9IDk1MzJdID0gXCJib3hEcmF3aW5nc0xpZ2h0VmVydGljYWxBbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVmVydGljYWxTaW5nbGVBbmRSaWdodERvdWJsZVwiXSA9IDk1NjZdID0gXCJib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kUmlnaHREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZFJpZ2h0U2luZ2xlXCJdID0gOTU2N10gPSBcImJveERyYXdpbmdzVmVydGljYWxEb3VibGVBbmRSaWdodFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVVwQW5kUmlnaHRcIl0gPSA5NTYyXSA9IFwiYm94RHJhd2luZ3NEb3VibGVVcEFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlRG93bkFuZFJpZ2h0XCJdID0gOTU1Nl0gPSBcImJveERyYXdpbmdzRG91YmxlRG93bkFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlVXBBbmRIb3Jpem9udGFsXCJdID0gOTU3N10gPSBcImJveERyYXdpbmdzRG91YmxlVXBBbmRIb3Jpem9udGFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlRG93bkFuZEhvcml6b250YWxcIl0gPSA5NTc0XSA9IFwiYm94RHJhd2luZ3NEb3VibGVEb3duQW5kSG9yaXpvbnRhbFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsQW5kUmlnaHRcIl0gPSA5NTY4XSA9IFwiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZFJpZ2h0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG91YmxlSG9yaXpvbnRhbFwiXSA9IDk1NTJdID0gXCJib3hEcmF3aW5nc0RvdWJsZUhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZEhvcml6b250YWxcIl0gPSA5NTgwXSA9IFwiYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZEhvcml6b250YWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIl0gPSA5NTc1XSA9IFwiYm94RHJhd2luZ3NVcFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIjtcclxuICAgIC8vIDIwOCAtIDIyMy5cclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NVcERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIl0gPSA5NTc2XSA9IFwiYm94RHJhd2luZ3NVcERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZVwiXSA9IDk1NzJdID0gXCJib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRIb3Jpem9udGFsRG91YmxlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzRG93bkRvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIl0gPSA5NTczXSA9IFwiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kSG9yaXpvbnRhbFNpbmdsZVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJib3hEcmF3aW5nc1VwRG91YmxlQW5kUmlnaHRTaW5nbGVcIl0gPSA5NTYxXSA9IFwiYm94RHJhd2luZ3NVcERvdWJsZUFuZFJpZ2h0U2luZ2xlXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzVXBTaW5nbGVBbmRSaWdodERvdWJsZVwiXSA9IDk1NjBdID0gXCJib3hEcmF3aW5nc1VwU2luZ2xlQW5kUmlnaHREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kUmlnaHREb3VibGVcIl0gPSA5NTU0XSA9IFwiYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kUmlnaHREb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kUmlnaHRTaW5nbGVcIl0gPSA5NTU1XSA9IFwiYm94RHJhd2luZ3NEb3duRG91YmxlQW5kUmlnaHRTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIl0gPSA5NTc5XSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIl0gPSA5NTc4XSA9IFwiYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiYm94RHJhd2luZ3NMaWdodFVwQW5kTGVmdFwiXSA9IDk0OTZdID0gXCJib3hEcmF3aW5nc0xpZ2h0VXBBbmRMZWZ0XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJveERyYXdpbmdzTGlnaHREb3duQW5kUmlnaHRcIl0gPSA5NDg0XSA9IFwiYm94RHJhd2luZ3NMaWdodERvd25BbmRSaWdodFwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJmdWxsQmxvY2tcIl0gPSA5NjA4XSA9IFwiZnVsbEJsb2NrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxvd2VySGFsZkJsb2NrXCJdID0gOTYwNF0gPSBcImxvd2VySGFsZkJsb2NrXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImxlZnRIYWxmQmxvY2tcIl0gPSA5NjEyXSA9IFwibGVmdEhhbGZCbG9ja1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJyaWdodEhhbGZCbG9ja1wiXSA9IDk2MTZdID0gXCJyaWdodEhhbGZCbG9ja1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ1cHBlckhhbGZCbG9ja1wiXSA9IDk2MDBdID0gXCJ1cHBlckhhbGZCbG9ja1wiO1xyXG4gICAgLy8gMjI0IC0gMjM5LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyQWxwaGFcIl0gPSA5NDVdID0gXCJncmVla1NtYWxsTGV0dGVyQWxwaGFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibGF0aW5TbWFsbExldHRlclNoYXJwU1wiXSA9IDIyM10gPSBcImxhdGluU21hbGxMZXR0ZXJTaGFycFNcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtDYXBpdGFsTGV0dGVyR2FtbWFcIl0gPSA5MTVdID0gXCJncmVla0NhcGl0YWxMZXR0ZXJHYW1tYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyUGlcIl0gPSA5NjBdID0gXCJncmVla1NtYWxsTGV0dGVyUGlcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtDYXBpdGFsTGV0dGVyU2lnbWFcIl0gPSA5MzFdID0gXCJncmVla0NhcGl0YWxMZXR0ZXJTaWdtYVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla1NtYWxsTGV0dGVyU2lnbWFcIl0gPSA5NjNdID0gXCJncmVla1NtYWxsTGV0dGVyU2lnbWFcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wibWljcm9TaWduXCJdID0gMTgxXSA9IFwibWljcm9TaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJUYXVcIl0gPSA5NjRdID0gXCJncmVla1NtYWxsTGV0dGVyVGF1XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrQ2FwaXRhbExldHRlclBoaVwiXSA9IDkzNF0gPSBcImdyZWVrQ2FwaXRhbExldHRlclBoaVwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVla0NhcGl0YWxMZXR0ZXJUaGV0YVwiXSA9IDkyMF0gPSBcImdyZWVrQ2FwaXRhbExldHRlclRoZXRhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrQ2FwaXRhbExldHRlck9tZWdhXCJdID0gOTM3XSA9IFwiZ3JlZWtDYXBpdGFsTGV0dGVyT21lZ2FcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZ3JlZWtTbWFsbExldHRlckRlbHRhXCJdID0gOTQ4XSA9IFwiZ3JlZWtTbWFsbExldHRlckRlbHRhXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImluZmluaXR5XCJdID0gODczNF0gPSBcImluZmluaXR5XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJQaGlcIl0gPSA5NjZdID0gXCJncmVla1NtYWxsTGV0dGVyUGhpXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImdyZWVrU21hbGxMZXR0ZXJFcHNpbG9uXCJdID0gOTQ5XSA9IFwiZ3JlZWtTbWFsbExldHRlckVwc2lsb25cIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiaW50ZXJzZWN0aW9uXCJdID0gODc0NV0gPSBcImludGVyc2VjdGlvblwiO1xyXG4gICAgLy8gMjQwIC0gMjU0LlxyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJpZGVudGljYWxUb1wiXSA9IDg4MDFdID0gXCJpZGVudGljYWxUb1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJwbHVzTWludXNTaWduXCJdID0gMTc3XSA9IFwicGx1c01pbnVzU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJncmVhdGVyVGhhbk9yRXF1YWxUb1wiXSA9IDg4MDVdID0gXCJncmVhdGVyVGhhbk9yRXF1YWxUb1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJsZXNzVGhhbk9yRXF1YWxUb1wiXSA9IDg4MDRdID0gXCJsZXNzVGhhbk9yRXF1YWxUb1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJ0b3BIYWxmSW50ZWdyYWxcIl0gPSA4OTkyXSA9IFwidG9wSGFsZkludGVncmFsXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJvdHRvbUhhbGZJbnRlZ3JhbFwiXSA9IDg5OTNdID0gXCJib3R0b21IYWxmSW50ZWdyYWxcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wiZGl2aXNpb25TaWduXCJdID0gMjQ3XSA9IFwiZGl2aXNpb25TaWduXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImFsbW9zdEVxdWFsVG9cIl0gPSA4Nzc2XSA9IFwiYWxtb3N0RXF1YWxUb1wiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJkZWdyZWVTaWduXCJdID0gMTc2XSA9IFwiZGVncmVlU2lnblwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJidWxsZXRPcGVyYXRvclwiXSA9IDg3MjldID0gXCJidWxsZXRPcGVyYXRvclwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJtaWRkbGVEb3RcIl0gPSAxODNdID0gXCJtaWRkbGVEb3RcIjtcclxuICAgIENoYXJDb2RlW0NoYXJDb2RlW1wic3F1YXJlUm9vdFwiXSA9IDg3MzBdID0gXCJzcXVhcmVSb290XCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcInN1cGVyc2NyaXB0TGF0aW5TbWFsbExldHRlck5cIl0gPSA4MzE5XSA9IFwic3VwZXJzY3JpcHRMYXRpblNtYWxsTGV0dGVyTlwiO1xyXG4gICAgQ2hhckNvZGVbQ2hhckNvZGVbXCJzdXBlcnNjcmlwdFR3b1wiXSA9IDE3OF0gPSBcInN1cGVyc2NyaXB0VHdvXCI7XHJcbiAgICBDaGFyQ29kZVtDaGFyQ29kZVtcImJsYWNrU3F1YXJlXCJdID0gOTYzMl0gPSBcImJsYWNrU3F1YXJlXCI7XHJcbn0pKENoYXJDb2RlIHx8IChDaGFyQ29kZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXItY29kZS5qcy5tYXBcblxudmFyIF9hO1xyXG52YXIgdW5pY29kZU1hcCA9IChfYSA9IHt9LFxyXG4gICAgLy8gMSAtIDE1LlxyXG4gICAgX2FbQ2hhckNvZGUud2hpdGVTbWlsaW5nRmFjZV0gPSAxLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tTbWlsaW5nRmFjZV0gPSAyLFxyXG4gICAgX2FbQ2hhckNvZGUuYmxhY2tIZWFydFN1aXRdID0gMyxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrRGlhbW9uZFN1aXRdID0gNCxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrQ2x1YlN1aXRdID0gNSxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrU3BhZGVTdWl0XSA9IDYsXHJcbiAgICBfYVtDaGFyQ29kZS5idWxsZXRdID0gNyxcclxuICAgIF9hW0NoYXJDb2RlLmludmVyc2VCdWxsZXRdID0gOCxcclxuICAgIF9hW0NoYXJDb2RlLndoaXRlQ2lyY2xlXSA9IDksXHJcbiAgICBfYVtDaGFyQ29kZS5pbnZlcnNlV2hpdGVDaXJjbGVdID0gMTAsXHJcbiAgICBfYVtDaGFyQ29kZS5tYWxlU2lnbl0gPSAxMSxcclxuICAgIF9hW0NoYXJDb2RlLmZlbWFsZVNpZ25dID0gMTIsXHJcbiAgICBfYVtDaGFyQ29kZS5laWdodGhOb3RlXSA9IDEzLFxyXG4gICAgX2FbQ2hhckNvZGUuYmVhbWVkRWlnaHRoTm90ZXNdID0gMTQsXHJcbiAgICBfYVtDaGFyQ29kZS53aGl0ZVN1bldpdGhSYXlzXSA9IDE1LFxyXG4gICAgLy8gMTYgLSAzMS5cclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrUmlnaHRQb2ludGluZ1BvaW50ZXJdID0gMTYsXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja0xlZnRQb2ludGluZ1BvaW50ZXJdID0gMTcsXHJcbiAgICBfYVtDaGFyQ29kZS51cERvd25BcnJvd10gPSAxOCxcclxuICAgIF9hW0NoYXJDb2RlLmRvdWJsZUV4Y2xhbWF0aW9uTWFya10gPSAxOSxcclxuICAgIF9hW0NoYXJDb2RlLnBpbGNyb3ddID0gMjAsXHJcbiAgICBfYVtDaGFyQ29kZS5zZWN0aW9uU2lnbl0gPSAyMSxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrUmVjdGFuZ2xlXSA9IDIyLFxyXG4gICAgX2FbQ2hhckNvZGUudXBEb3duQXJyb3dXaXRoQmFzZV0gPSAyMyxcclxuICAgIF9hW0NoYXJDb2RlLnVwd2FyZHNBcnJvd10gPSAyNCxcclxuICAgIF9hW0NoYXJDb2RlLmRvd253YXJkc0Fycm93XSA9IDI1LFxyXG4gICAgX2FbQ2hhckNvZGUucmlnaHR3YXJkc0Fycm93XSA9IDI2LFxyXG4gICAgX2FbQ2hhckNvZGUubGVmdHdhcmRzQXJyb3ddID0gMjcsXHJcbiAgICBfYVtDaGFyQ29kZS5yaWdodEFuZ2xlXSA9IDI4LFxyXG4gICAgX2FbQ2hhckNvZGUubGVmdFJpZ2h0QXJyb3ddID0gMjksXHJcbiAgICBfYVtDaGFyQ29kZS5ibGFja1VwUG9pbnRpbmdUcmlhbmdsZV0gPSAzMCxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrRG93blBvaW50aW5nVHJpYW5nbGVdID0gMzEsXHJcbiAgICAvLyAxMjcuXHJcbiAgICBfYVtDaGFyQ29kZS5ob3VzZV0gPSAxMjcsXHJcbiAgICAvLyAxMjggLSAxNDMuXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJDV2l0aENlZGlsbGFdID0gMTI4LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlclVXaXRoRGlhZXJlc2lzXSA9IDEyOSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJFV2l0aEFjdXRlXSA9IDEzMCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBV2l0aENpcmN1bWZsZXhdID0gMTMxLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFXaXRoRGlhZXJlc2lzXSA9IDEzMixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBV2l0aEdyYXZlXSA9IDEzMyxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJBV2l0aFJpbmdBYm92ZV0gPSAxMzQsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQ1dpdGhDZWRpbGxhXSA9IDEzNSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJFV2l0aENpcmN1bWZsZXhdID0gMTM2LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckVXaXRoRGlhZXJlc2lzXSA9IDEzNyxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJFV2l0aEdyYXZlXSA9IDEzOCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJJV2l0aERpYWVyZXNpc10gPSAxMzksXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVySVdpdGhDaXJjdW1mbGV4XSA9IDE0MCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJJV2l0aEdyYXZlXSA9IDE0MSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlckFXaXRoRGlhZXJlc2lzXSA9IDE0MixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlckFXaXRoUmluZ0Fib3ZlXSA9IDE0MyxcclxuICAgIC8vIDE0NCAtIDE1OS5cclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlckVXaXRoQWN1dGVdID0gMTQ0LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckFlXSA9IDE0NSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlckFlXSA9IDE0NixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJPV2l0aENpcmN1bWZsZXhdID0gMTQ3LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlck9XaXRoRGlhZXJlc2lzXSA9IDE0OCxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJPV2l0aEdyYXZlXSA9IDE0OSxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluU21hbGxMZXR0ZXJVV2l0aENpcmN1bWZsZXhdID0gMTUwLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlclVXaXRoR3JhdmVdID0gMTUxLFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlcllXaXRoRGlhZXJlc2lzXSA9IDE1MixcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlck9XaXRoRGlhZXJlc2lzXSA9IDE1MyxcclxuICAgIF9hW0NoYXJDb2RlLmxhdGluQ2FwaXRhbExldHRlclVXaXRoRGlhZXJlc2lzXSA9IDE1NCxcclxuICAgIF9hW0NoYXJDb2RlLmNlbnRTaWduXSA9IDE1NSxcclxuICAgIF9hW0NoYXJDb2RlLnBvdW5kU2lnbl0gPSAxNTYsXHJcbiAgICBfYVtDaGFyQ29kZS55ZW5TaWduXSA9IDE1NyxcclxuICAgIF9hW0NoYXJDb2RlLnBlc2V0YVNpZ25dID0gMTU4LFxyXG4gICAgX2FbQ2hhckNvZGUubGF0aW5TbWFsbExldHRlckZXaXRoSG9va10gPSAxNTksXHJcbiAgICAvLyAxNjAgLSAxNzUuXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyQVdpdGhBY3V0ZV0gPSAxNjAsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVySVdpdGhBY3V0ZV0gPSAxNjEsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyT1dpdGhBY3V0ZV0gPSAxNjIsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyVVdpdGhBY3V0ZV0gPSAxNjMsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyTldpdGhUaWxkZV0gPSAxNjQsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpbkNhcGl0YWxMZXR0ZXJOV2l0aFRpbGRlXSA9IDE2NSxcclxuICAgIF9hW0NoYXJDb2RlLmZlbWluaW5lT3JkaW5hbEluZGljYXRvcl0gPSAxNjYsXHJcbiAgICBfYVtDaGFyQ29kZS5tYXNjdWxpbmVPcmRpbmFsSW5kaWNhdG9yXSA9IDE2NyxcclxuICAgIF9hW0NoYXJDb2RlLmludmVydGVkUXVlc3Rpb25NYXJrXSA9IDE2OCxcclxuICAgIF9hW0NoYXJDb2RlLnJldmVyc2VkTm90U2lnbl0gPSAxNjksXHJcbiAgICBfYVtDaGFyQ29kZS5ub3RTaWduXSA9IDE3MCxcclxuICAgIF9hW0NoYXJDb2RlLnZ1bGdhckZyYWN0aW9uT25lSGFsZl0gPSAxNzEsXHJcbiAgICBfYVtDaGFyQ29kZS52dWxnYXJGcmFjdGlvbk9uZVF1YXJ0ZXJdID0gMTcyLFxyXG4gICAgX2FbQ2hhckNvZGUuaW52ZXJ0ZWRFeGNsYW1hdGlvbk1hcmtdID0gMTczLFxyXG4gICAgX2FbQ2hhckNvZGUubGVmdFBvaW50aW5nRG91YmxlQW5nbGVRdW90YXRpb25NYXJrXSA9IDE3NCxcclxuICAgIF9hW0NoYXJDb2RlLnJpZ2h0UG9pbnRpbmdEb3VibGVBbmdsZVF1b3RhdGlvbk1hcmtdID0gMTc1LFxyXG4gICAgLy8gMTc2IC0gMTkxLlxyXG4gICAgX2FbQ2hhckNvZGUubGlnaHRTaGFkZV0gPSAxNzYsXHJcbiAgICBfYVtDaGFyQ29kZS5tZWRpdW1TaGFkZV0gPSAxNzcsXHJcbiAgICBfYVtDaGFyQ29kZS5kYXJrU2hhZGVdID0gMTc4LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsXSA9IDE3OSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzTGlnaHRWZXJ0aWNhbEFuZExlZnRdID0gMTgwLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZExlZnREb3VibGVdID0gMTgxLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZExlZnRTaW5nbGVdID0gMTgyLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duRG91YmxlQW5kTGVmdFNpbmdsZV0gPSAxODMsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25TaW5nbGVBbmRMZWZ0RG91YmxlXSA9IDE4NCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRMZWZ0XSA9IDE4NSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVmVydGljYWxdID0gMTg2LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVEb3duQW5kTGVmdF0gPSAxODcsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kTGVmdF0gPSAxODgsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwRG91YmxlQW5kTGVmdFNpbmdsZV0gPSAxODksXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwU2luZ2xlQW5kTGVmdERvdWJsZV0gPSAxOTAsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0RG93bkFuZExlZnRdID0gMTkxLFxyXG4gICAgLy8gMTkyIC0gMjA3LlxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFVwQW5kUmlnaHRdID0gMTkyLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFVwQW5kSG9yaXpvbnRhbF0gPSAxOTMsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0RG93bkFuZEhvcml6b250YWxdID0gMTk0LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kUmlnaHRdID0gMTk1LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodEhvcml6b250YWxdID0gMTk2LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFZlcnRpY2FsQW5kSG9yaXpvbnRhbF0gPSAxOTcsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1ZlcnRpY2FsU2luZ2xlQW5kUmlnaHREb3VibGVdID0gMTk4LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZFJpZ2h0U2luZ2xlXSA9IDE5OSxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVXBBbmRSaWdodF0gPSAyMDAsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRSaWdodF0gPSAyMDEsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kSG9yaXpvbnRhbF0gPSAyMDIsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRIb3Jpem9udGFsXSA9IDIwMyxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVmVydGljYWxBbmRSaWdodF0gPSAyMDQsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZUhvcml6b250YWxdID0gMjA1LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVWZXJ0aWNhbEFuZEhvcml6b250YWxdID0gMjA2LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVdID0gMjA3LFxyXG4gICAgLy8gMjA4IC0gMjIzLlxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NVcERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVdID0gMjA4LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kSG9yaXpvbnRhbERvdWJsZV0gPSAyMDksXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0Rvd25Eb3VibGVBbmRIb3Jpem9udGFsU2luZ2xlXSA9IDIxMCxcclxuICAgIF9hW0NoYXJDb2RlLmJveERyYXdpbmdzVXBEb3VibGVBbmRSaWdodFNpbmdsZV0gPSAyMTEsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc1VwU2luZ2xlQW5kUmlnaHREb3VibGVdID0gMjEyLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duU2luZ2xlQW5kUmlnaHREb3VibGVdID0gMjEzLFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NEb3duRG91YmxlQW5kUmlnaHRTaW5nbGVdID0gMjE0LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbERvdWJsZUFuZEhvcml6b250YWxTaW5nbGVdID0gMjE1LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NWZXJ0aWNhbFNpbmdsZUFuZEhvcml6b250YWxEb3VibGVdID0gMjE2LFxyXG4gICAgX2FbQ2hhckNvZGUuYm94RHJhd2luZ3NMaWdodFVwQW5kTGVmdF0gPSAyMTcsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3hEcmF3aW5nc0xpZ2h0RG93bkFuZFJpZ2h0XSA9IDIxOCxcclxuICAgIF9hW0NoYXJDb2RlLmZ1bGxCbG9ja10gPSAyMTksXHJcbiAgICBfYVtDaGFyQ29kZS5sb3dlckhhbGZCbG9ja10gPSAyMjAsXHJcbiAgICBfYVtDaGFyQ29kZS5sZWZ0SGFsZkJsb2NrXSA9IDIyMSxcclxuICAgIF9hW0NoYXJDb2RlLnJpZ2h0SGFsZkJsb2NrXSA9IDIyMixcclxuICAgIF9hW0NoYXJDb2RlLnVwcGVySGFsZkJsb2NrXSA9IDIyMyxcclxuICAgIC8vIDIyNCAtIDIzOS5cclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJBbHBoYV0gPSAyMjQsXHJcbiAgICBfYVtDaGFyQ29kZS5sYXRpblNtYWxsTGV0dGVyU2hhcnBTXSA9IDIyNSxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrQ2FwaXRhbExldHRlckdhbW1hXSA9IDIyNixcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJQaV0gPSAyMjcsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla0NhcGl0YWxMZXR0ZXJTaWdtYV0gPSAyMjgsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyU2lnbWFdID0gMjI5LFxyXG4gICAgX2FbQ2hhckNvZGUubWljcm9TaWduXSA9IDIzMCxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJUYXVdID0gMjMxLFxyXG4gICAgX2FbQ2hhckNvZGUuZ3JlZWtDYXBpdGFsTGV0dGVyUGhpXSA9IDIzMixcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrQ2FwaXRhbExldHRlclRoZXRhXSA9IDIzMyxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrQ2FwaXRhbExldHRlck9tZWdhXSA9IDIzNCxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJEZWx0YV0gPSAyMzUsXHJcbiAgICBfYVtDaGFyQ29kZS5pbmZpbml0eV0gPSAyMzYsXHJcbiAgICBfYVtDaGFyQ29kZS5ncmVla1NtYWxsTGV0dGVyUGhpXSA9IDIzNyxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWVrU21hbGxMZXR0ZXJFcHNpbG9uXSA9IDIzOCxcclxuICAgIF9hW0NoYXJDb2RlLmludGVyc2VjdGlvbl0gPSAyMzksXHJcbiAgICAvLyAyNDAgLSAyNTUuXHJcbiAgICBfYVtDaGFyQ29kZS5pZGVudGljYWxUb10gPSAyNDAsXHJcbiAgICBfYVtDaGFyQ29kZS5wbHVzTWludXNTaWduXSA9IDI0MSxcclxuICAgIF9hW0NoYXJDb2RlLmdyZWF0ZXJUaGFuT3JFcXVhbFRvXSA9IDI0MixcclxuICAgIF9hW0NoYXJDb2RlLmxlc3NUaGFuT3JFcXVhbFRvXSA9IDI0MyxcclxuICAgIF9hW0NoYXJDb2RlLnRvcEhhbGZJbnRlZ3JhbF0gPSAyNDQsXHJcbiAgICBfYVtDaGFyQ29kZS5ib3R0b21IYWxmSW50ZWdyYWxdID0gMjQ1LFxyXG4gICAgX2FbQ2hhckNvZGUuZGl2aXNpb25TaWduXSA9IDI0NixcclxuICAgIF9hW0NoYXJDb2RlLmFsbW9zdEVxdWFsVG9dID0gMjQ3LFxyXG4gICAgX2FbQ2hhckNvZGUuZGVncmVlU2lnbl0gPSAyNDgsXHJcbiAgICBfYVtDaGFyQ29kZS5idWxsZXRPcGVyYXRvcl0gPSAyNDksXHJcbiAgICBfYVtDaGFyQ29kZS5taWRkbGVEb3RdID0gMjUwLFxyXG4gICAgX2FbQ2hhckNvZGUuc3F1YXJlUm9vdF0gPSAyNTEsXHJcbiAgICBfYVtDaGFyQ29kZS5zdXBlcnNjcmlwdExhdGluU21hbGxMZXR0ZXJOXSA9IDI1MixcclxuICAgIF9hW0NoYXJDb2RlLnN1cGVyc2NyaXB0VHdvXSA9IDI1MyxcclxuICAgIF9hW0NoYXJDb2RlLmJsYWNrU3F1YXJlXSA9IDI1NCxcclxuICAgIF9hKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pY29kZW1hcC5qcy5tYXBcblxudmFyIFJldHJvVGVybWluYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmV0cm9UZXJtaW5hbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJldHJvVGVybWluYWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIC8vIEEgY2FjaGUgb2YgdGhlIHRpbnRlZCBmb250IGltYWdlcy4gRWFjaCBrZXkgaXMgYSBjb2xvciwgYW5kIHRoZSBpbWFnZSBpcyB0aGUgZm9udCBpbiB0aGF0IGNvbG9yLlxyXG4gICAgICAgIF90aGlzLl9mb250Q29sb3JDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBfdGhpcy5faW1hZ2VMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5fZGlzcGxheSA9IG5ldyBEaXNwbGF5KGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgX3RoaXMuX2NoYXJXaWR0aCA9IGNvbmZpZy5jaGFyV2lkdGg7XHJcbiAgICAgICAgX3RoaXMuX2NoYXJIZWlnaHQgPSBjb25maWcuY2hhckhlaWdodDtcclxuICAgICAgICBfdGhpcy5fc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAvLyBGb250XHJcbiAgICAgICAgX3RoaXMuX2ZvbnQgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBfdGhpcy5fZm9udC5zcmMgPSBjb25maWcuaW1hZ2VVUkw7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhc1xyXG4gICAgICAgIHZhciBjYW52YXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB2YXIgY2FudmFzV2lkdGggPSBjb25maWcuY2hhcldpZHRoICogY29uZmlnLndpZHRoO1xyXG4gICAgICAgIHZhciBjYW52YXNIZWlnaHQgPSBjb25maWcuY2hhckhlaWdodCAqIGNvbmZpZy5oZWlnaHQ7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGggKiBfdGhpcy5fc2NhbGU7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIF90aGlzLl9zY2FsZTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXNXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIGlmIChjb25maWcubW91bnROb2RlKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5tb3VudE5vZGUuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3RoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgX3RoaXMuX2ZvbnQub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5faW1hZ2VMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJldHJvVGVybWluYWwucHJvdG90eXBlLmRyYXdHbHlwaCA9IGZ1bmN0aW9uIChwb3MsIGdseXBoKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5zZXRHbHlwaChwb3MsIGdseXBoKTtcclxuICAgIH07XHJcbiAgICBSZXRyb1Rlcm1pbmFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMuX2ltYWdlTG9hZGVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5yZW5kZXIoZnVuY3Rpb24gKHBvcywgZ2x5cGgpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXIgPSBnbHlwaC5jaGFyO1xyXG4gICAgICAgICAgICAvLyBSZW1hcCBpdCBpZiBpdCdzIGEgVW5pY29kZSBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgaWYgKHVuaWNvZGVNYXBbY2hhcl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhciA9IHVuaWNvZGVNYXBbY2hhcl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHN4ID0gKGNoYXIgJSAzMikgKiBfdGhpcy5fY2hhcldpZHRoO1xyXG4gICAgICAgICAgICB2YXIgc3kgPSBNYXRoLmZsb29yKGNoYXIgLyAzMikgKiBfdGhpcy5fY2hhckhlaWdodDtcclxuICAgICAgICAgICAgLy8gRmlsbCB0aGUgYmFja2dyb3VuZFxyXG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBnbHlwaC5iYWNrLmNzc0NvbG9yKCk7XHJcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0LmZpbGxSZWN0KHBvcy54ICogX3RoaXMuX2NoYXJXaWR0aCAqIF90aGlzLl9zY2FsZSwgcG9zLnkgKiBfdGhpcy5fY2hhckhlaWdodCAqIF90aGlzLl9zY2FsZSwgX3RoaXMuX2NoYXJXaWR0aCAqIF90aGlzLl9zY2FsZSwgX3RoaXMuX2NoYXJIZWlnaHQgKiBfdGhpcy5fc2NhbGUpO1xyXG4gICAgICAgICAgICAvLyBEb250IGJvdGhlciB3aXRoIGVtcHR5IGNoYXJhY3RlcnNcclxuICAgICAgICAgICAgaWYgKGNoYXIgPT0gMCB8fCBjaGFyID09IENoYXJDb2RlLnNwYWNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBfdGhpcy5nZXRDb2xvckZvbnQoZ2x5cGguZm9yZSk7XHJcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY29sb3IsIHN4LCBzeSwgX3RoaXMuX2NoYXJXaWR0aCwgX3RoaXMuX2NoYXJIZWlnaHQsIHBvcy54ICogX3RoaXMuX2NoYXJXaWR0aCAqIF90aGlzLl9zY2FsZSwgcG9zLnkgKiBfdGhpcy5fY2hhckhlaWdodCAqIF90aGlzLl9zY2FsZSwgX3RoaXMuX2NoYXJXaWR0aCAqIF90aGlzLl9zY2FsZSwgX3RoaXMuX2NoYXJIZWlnaHQgKiBfdGhpcy5fc2NhbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFJldHJvVGVybWluYWwucHJvdG90eXBlLnBpeGVsVG9DaGFyID0gZnVuY3Rpb24gKHBpeGVsKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLl9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogTWF0aC5mbG9vcigocGl4ZWwueCAtIHJlY3QubGVmdCkgLyB0aGlzLl9jaGFyV2lkdGgpLFxyXG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKChwaXhlbC55IC0gcmVjdC50b3ApIC8gdGhpcy5fY2hhckhlaWdodCksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBSZXRyb1Rlcm1pbmFsLnByb3RvdHlwZS5nZXRDb2xvckZvbnQgPSBmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICAvLyBJZiBjYWNoZWQgcmV0dXJuXHJcbiAgICAgICAgdmFyIGNvbG9yTmFtZSA9IGNvbG9yLmNzc0NvbG9yKCk7XHJcbiAgICAgICAgdmFyIGNhY2hlZCA9IHRoaXMuX2ZvbnRDb2xvckNhY2hlLmdldChjb2xvck5hbWUpO1xyXG4gICAgICAgIGlmIChjYWNoZWQpXHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgZm9udCB1c2luZyB0aGUgZ2l2ZW4gY29sb3IuXHJcbiAgICAgICAgdmFyIHRpbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aW50LndpZHRoID0gdGhpcy5fZm9udC53aWR0aDtcclxuICAgICAgICB0aW50LmhlaWdodCA9IHRoaXMuX2ZvbnQuaGVpZ2h0O1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGludC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgLy8gRHJhdyB0aGUgZm9udFxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuX2ZvbnQsIDAsIDApO1xyXG4gICAgICAgIC8vIFRpbnQgaXQgYnkgZmlsbGluZyBpbiB0aGUgZXhpc3RpbmcgYWxwaGEgd2l0aCB0aGUgY29sb3JcclxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yLmNzc0NvbG9yKCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLl9mb250LndpZHRoLCB0aGlzLl9mb250LmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5fZm9udENvbG9yQ2FjaGUuc2V0KGNvbG9yTmFtZSwgdGludCk7XHJcbiAgICAgICAgcmV0dXJuIHRpbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqIERlbGV0ZXMgdGhlIHRlcm1pbmFsLCByZW1vdmluZyB0aGUgY2FudmFzLiAqL1xyXG4gICAgUmV0cm9UZXJtaW5hbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLl9jYW52YXMucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKHRoaXMuX2NhbnZhcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJldHJvVGVybWluYWw7XHJcbn0oUmVuZGVyYWJsZVRlcm1pbmFsKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJvLXRlcm1pbmFsLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIENhbnZhc1Rlcm1pbmFsOiBDYW52YXNUZXJtaW5hbCxcbiAgICBGb250OiBGb250LFxuICAgIFJldHJvVGVybWluYWw6IFJldHJvVGVybWluYWwsXG4gICAgQ29sb3I6IENvbG9yLFxuICAgIEdseXBoOiBHbHlwaCxcbiAgICBnZXQgQ2hhckNvZGUgKCkgeyByZXR1cm4gQ2hhckNvZGU7IH0sXG4gICAgQmFzZVRlcm1pbmFsOiBCYXNlVGVybWluYWwsXG4gICAgUG9ydFRlcm1pbmFsOiBQb3J0VGVybWluYWxcbn0pO1xuXG52YXIgS2V5Q29kZTtcclxuKGZ1bmN0aW9uIChLZXlDb2RlKSB7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJCYWNrc3BhY2VcIl0gPSA4XSA9IFwiQmFja3NwYWNlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUYWJcIl0gPSA5XSA9IFwiVGFiXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFbnRlclwiXSA9IDEzXSA9IFwiRW50ZXJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNoaWZ0XCJdID0gMTZdID0gXCJTaGlmdFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ3RybFwiXSA9IDE3XSA9IFwiQ3RybFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQWx0XCJdID0gMThdID0gXCJBbHRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhdXNlQnJlYWtcIl0gPSAxOV0gPSBcIlBhdXNlQnJlYWtcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNhcHNMb2NrXCJdID0gMjBdID0gXCJDYXBzTG9ja1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRXNjYXBlXCJdID0gMjddID0gXCJFc2NhcGVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNwYWNlXCJdID0gMzJdID0gXCJTcGFjZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGFnZVVwXCJdID0gMzNdID0gXCJQYWdlVXBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhZ2VEb3duXCJdID0gMzRdID0gXCJQYWdlRG93blwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW5kXCJdID0gMzVdID0gXCJFbmRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhvbWVcIl0gPSAzNl0gPSBcIkhvbWVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxlZnRBcnJvd1wiXSA9IDM3XSA9IFwiTGVmdEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVcEFycm93XCJdID0gMzhdID0gXCJVcEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJSaWdodEFycm93XCJdID0gMzldID0gXCJSaWdodEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEb3duQXJyb3dcIl0gPSA0MF0gPSBcIkRvd25BcnJvd1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSW5zZXJ0XCJdID0gNDVdID0gXCJJbnNlcnRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRlbGV0ZVwiXSA9IDQ2XSA9IFwiRGVsZXRlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJaZXJvXCJdID0gNDhdID0gXCJaZXJvXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDbG9zZWRQYXJlblwiXSA9IDQ4XSA9IFwiQ2xvc2VkUGFyZW5cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9uZVwiXSA9IDQ5XSA9IFwiT25lXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFeGNsYW1hdGlvbk1hcmtcIl0gPSA0OV0gPSBcIkV4Y2xhbWF0aW9uTWFya1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVHdvXCJdID0gNTBdID0gXCJUd29cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkF0U2lnblwiXSA9IDUwXSA9IFwiQXRTaWduXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUaHJlZVwiXSA9IDUxXSA9IFwiVGhyZWVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBvdW5kU2lnblwiXSA9IDUxXSA9IFwiUG91bmRTaWduXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJIYXNoXCJdID0gNTFdID0gXCJIYXNoXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGb3VyXCJdID0gNTJdID0gXCJGb3VyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEb2xsYXJTaWduXCJdID0gNTJdID0gXCJEb2xsYXJTaWduXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGaXZlXCJdID0gNTNdID0gXCJGaXZlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQZXJjZW50U2lnblwiXSA9IDUzXSA9IFwiUGVyY2VudFNpZ25cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNpeFwiXSA9IDU0XSA9IFwiU2l4XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDYXJldFwiXSA9IDU0XSA9IFwiQ2FyZXRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhhdFwiXSA9IDU0XSA9IFwiSGF0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTZXZlblwiXSA9IDU1XSA9IFwiU2V2ZW5cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFtcGVyc2FuZFwiXSA9IDU1XSA9IFwiQW1wZXJzYW5kXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFaWdodFwiXSA9IDU2XSA9IFwiRWlnaHRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlN0YXJcIl0gPSA1Nl0gPSBcIlN0YXJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFzdGVyaWtcIl0gPSA1Nl0gPSBcIkFzdGVyaWtcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5pbmVcIl0gPSA1N10gPSBcIk5pbmVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9wZW5QYXJlblwiXSA9IDU3XSA9IFwiT3BlblBhcmVuXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBXCJdID0gNjVdID0gXCJBXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJCXCJdID0gNjZdID0gXCJCXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDXCJdID0gNjddID0gXCJDXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEXCJdID0gNjhdID0gXCJEXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFXCJdID0gNjldID0gXCJFXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGXCJdID0gNzBdID0gXCJGXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJHXCJdID0gNzFdID0gXCJHXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJIXCJdID0gNzJdID0gXCJIXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJJXCJdID0gNzNdID0gXCJJXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJKXCJdID0gNzRdID0gXCJKXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLXCJdID0gNzVdID0gXCJLXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMXCJdID0gNzZdID0gXCJMXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJNXCJdID0gNzddID0gXCJNXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOXCJdID0gNzhdID0gXCJOXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPXCJdID0gNzldID0gXCJPXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQXCJdID0gODBdID0gXCJQXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJRXCJdID0gODFdID0gXCJRXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJSXCJdID0gODJdID0gXCJSXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTXCJdID0gODNdID0gXCJTXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUXCJdID0gODRdID0gXCJUXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVXCJdID0gODVdID0gXCJVXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJWXCJdID0gODZdID0gXCJWXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJXXCJdID0gODddID0gXCJXXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJYXCJdID0gODhdID0gXCJYXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJZXCJdID0gODldID0gXCJZXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJaXCJdID0gOTBdID0gXCJaXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMZWZ0V2luZG93S2V5XCJdID0gOTFdID0gXCJMZWZ0V2luZG93S2V5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJSaWdodFdpbmRvd0tleVwiXSA9IDkyXSA9IFwiUmlnaHRXaW5kb3dLZXlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNlbGVjdEtleVwiXSA9IDkzXSA9IFwiU2VsZWN0S2V5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQwXCJdID0gOTZdID0gXCJOdW1wYWQwXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQxXCJdID0gOTddID0gXCJOdW1wYWQxXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQyXCJdID0gOThdID0gXCJOdW1wYWQyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQzXCJdID0gOTldID0gXCJOdW1wYWQzXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ0XCJdID0gMTAwXSA9IFwiTnVtcGFkNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkNVwiXSA9IDEwMV0gPSBcIk51bXBhZDVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDZcIl0gPSAxMDJdID0gXCJOdW1wYWQ2XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ3XCJdID0gMTAzXSA9IFwiTnVtcGFkN1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkOFwiXSA9IDEwNF0gPSBcIk51bXBhZDhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDlcIl0gPSAxMDVdID0gXCJOdW1wYWQ5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJNdWx0aXBseVwiXSA9IDEwNl0gPSBcIk11bHRpcGx5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBZGRcIl0gPSAxMDddID0gXCJBZGRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlN1YnRyYWN0XCJdID0gMTA5XSA9IFwiU3VidHJhY3RcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRlY2ltYWxQb2ludFwiXSA9IDExMF0gPSBcIkRlY2ltYWxQb2ludFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGl2aWRlXCJdID0gMTExXSA9IFwiRGl2aWRlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMVwiXSA9IDExMl0gPSBcIkYxXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMlwiXSA9IDExM10gPSBcIkYyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGM1wiXSA9IDExNF0gPSBcIkYzXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGNFwiXSA9IDExNV0gPSBcIkY0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGNVwiXSA9IDExNl0gPSBcIkY1XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGNlwiXSA9IDExN10gPSBcIkY2XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGN1wiXSA9IDExOF0gPSBcIkY3XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGOFwiXSA9IDExOV0gPSBcIkY4XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGOVwiXSA9IDEyMF0gPSBcIkY5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTBcIl0gPSAxMjFdID0gXCJGMTBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMVwiXSA9IDEyMl0gPSBcIkYxMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjEyXCJdID0gMTIzXSA9IFwiRjEyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1Mb2NrXCJdID0gMTQ0XSA9IFwiTnVtTG9ja1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2Nyb2xsTG9ja1wiXSA9IDE0NV0gPSBcIlNjcm9sbExvY2tcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNlbWlDb2xvblwiXSA9IDE4Nl0gPSBcIlNlbWlDb2xvblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRXF1YWxzXCJdID0gMTg3XSA9IFwiRXF1YWxzXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDb21tYVwiXSA9IDE4OF0gPSBcIkNvbW1hXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEYXNoXCJdID0gMTg5XSA9IFwiRGFzaFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGVyaW9kXCJdID0gMTkwXSA9IFwiUGVyaW9kXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVbmRlclNjb3JlXCJdID0gMTg5XSA9IFwiVW5kZXJTY29yZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGx1c1NpZ25cIl0gPSAxODddID0gXCJQbHVzU2lnblwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRm9yd2FyZFNsYXNoXCJdID0gMTkxXSA9IFwiRm9yd2FyZFNsYXNoXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUaWxkZVwiXSA9IDE5Ml0gPSBcIlRpbGRlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJHcmF2ZUFjY2VudFwiXSA9IDE5Ml0gPSBcIkdyYXZlQWNjZW50XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPcGVuQnJhY2tldFwiXSA9IDIxOV0gPSBcIk9wZW5CcmFja2V0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDbG9zZWRCcmFja2V0XCJdID0gMjIxXSA9IFwiQ2xvc2VkQnJhY2tldFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUXVvdGVcIl0gPSAyMjJdID0gXCJRdW90ZVwiO1xyXG59KShLZXlDb2RlIHx8IChLZXlDb2RlID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5Y29kZS5qcy5tYXBcblxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBnbG9iYWwga2V5Ym9hcmQuIFdpbGwgbGlrZWx5IG9ubHkgY3JlYXRlIG9uZSBwZXIgYXBwLlxyXG4gKlxyXG4gKiBZb3UgY2FuIGJpbmQvc3dpdGNoIEtleWJvYXJkQ29udGV4dHMgdG8gdGhlIEtleWJvYXJkIGhhbmRsZXJcclxuICogdG8gY2hhbmdlIGlucHV0ICdtb2RlcycuXHJcbiAqL1xyXG52YXIgS2V5Ym9hcmRIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgS2V5Ym9hcmRIYW5kbGVyICovXHJcbiAgICBmdW5jdGlvbiBLZXlib2FyZEhhbmRsZXIoKSB7XHJcbiAgICAgICAgdGhpcy5faXNEb3duID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcEV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgS2V5Ym9hcmRIYW5kbGVyLnByb3RvdHlwZS5vbktleURvd25FdmVudCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy5faXNEb3duLmFkZChlLmtleUNvZGUpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQuZmlyZU9uRG93bihlLmtleUNvZGUpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH07XHJcbiAgICBLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLm9uS2V5VXBFdmVudCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy5faXNEb3duLmRlbGV0ZShlLmtleUNvZGUpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQuZmlyZU9uVXAoZS5rZXlDb2RlKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBhY3RpdmUgY29udGV4dCBvZiB0aGUga2V5Ym9hcmQgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBjb250ZXh0IEtleWJvYXJkQ29udGV4dCAtIFRoZSBjb250ZXh0IHRvIHVzZVxyXG4gICAgICovXHJcbiAgICBLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIGFjdGl2ZSBjb250ZXh0IGZvciB0aGUga2V5Ym9hcmQgaGFuZGxlci5cclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRIYW5kbGVyLnByb3RvdHlwZS5jbGVhckNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGlmIGEga2V5IGlzIGN1cnJlbnRseSBoZWxkIGRvd24uXHJcbiAgICAgKiBAcGFyYW0ga2V5Q29kZSBLZXlDb2RlIHwgbnVtYmVyIC0gVGhlIGtleUNvZGUgdG8gY2hlY2tcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRIYW5kbGVyLnByb3RvdHlwZS5pc0tleURvd24gPSBmdW5jdGlvbiAoa2V5Q29kZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rvd24uaGFzKGtleUNvZGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBLZXlib2FyZEhhbmRsZXI7XHJcbn0oKSk7XHJcbi8qKiBSZXByZXNlbnRzIGEga2V5Ym9hcmQgJ21vZGUnLCBsaWtlIG5hdmlnYXRpbmcgYSBtZW51IG9yIHdvcmxkLiAqL1xyXG52YXIgS2V5Ym9hcmRDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gS2V5Ym9hcmRDb250ZXh0KCkge1xyXG4gICAgICAgIHRoaXMuX29uRG93biA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLl9vblVwID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyBjYWxsYmFjayBvbiBLZXlEb3duXHJcbiAgICAgKiBAcGFyYW0ga2V5IEtleUNvZGUgfCBudW1iZXIgLSBUaGUgS2V5IHRvIG1vbml0b3JcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAoKSA9PiB2b2lkIC0gVGhlIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkQ29udGV4dC5wcm90b3R5cGUub25Eb3duID0gZnVuY3Rpb24gKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9vbkRvd24uc2V0KGtleSwgY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgY2FsbGJhY2sgb24gS2V5VXBcclxuICAgICAqIEBwYXJhbSBrZXkgS2V5Q29kZSB8IG51bWJlciAtIFRoZSBLZXkgdG8gbW9uaXRvclxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrICgpID0+IHZvaWQgLSBUaGUgY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgS2V5Ym9hcmRDb250ZXh0LnByb3RvdHlwZS5vblVwID0gZnVuY3Rpb24gKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9vblVwLnNldChrZXksIGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb2dyYW1tYXRpY2FsbHkgZmlyZSBhIGNhbGxiYWNrIGFzIGlmIGEga2V5IHdhcyBwcmVzc2VkLlxyXG4gICAgICogQHBhcmFtIGtleSBLZXlDb2RlIHwgbnVtYmVyIC0gVGhlIEtleSB0byBtb25pdG9yXHJcbiAgICAgKi9cclxuICAgIEtleWJvYXJkQ29udGV4dC5wcm90b3R5cGUuZmlyZU9uRG93biA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgZm4gPSB0aGlzLl9vbkRvd24uZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGZuKVxyXG4gICAgICAgICAgICBmbigpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJvZ3JhbW1hdGljYWxseSBmaXJlIGEgY2FsbGJhY2sgYXMgaWYgYSBrZXkgd2FzIGxpZnRlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgS2V5Q29kZSB8IG51bWJlciAtIFRoZSBLZXkgdG8gbW9uaXRvclxyXG4gICAgICovXHJcbiAgICBLZXlib2FyZENvbnRleHQucHJvdG90eXBlLmZpcmVPblVwID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBmbiA9IHRoaXMuX29uVXAuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGZuKVxyXG4gICAgICAgICAgICBmbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBLZXlib2FyZENvbnRleHQ7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleWJvYXJkLmpzLm1hcFxuXG4vKiogQWJzdHJhY3RzIGJyb3dzZXIgbW91c2UgaW5wdXQgKi9cclxudmFyIE1vdXNlSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IE1vdXNlIEhhbmRsZXIgKi9cclxuICAgIGZ1bmN0aW9uIE1vdXNlSGFuZGxlcigpIHtcclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgdGhpcy5faXNEb3duID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlVXBkYXRlRXZlbnQuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25Nb3VzZVVwZGF0ZUV2ZW50LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd25FdmVudC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcEV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5vbk1vdXNlRG93bkV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLl9pc0Rvd24uYWRkKGUuYnV0dG9uKTtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gZS5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIHkgPSBlLnBhZ2VZO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2FsbE9uTW91c2VEb3duKHsgeDogeCwgeTogeSB9LCBlLmJ1dHRvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUub25Nb3VzZVVwRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuX2lzRG93bi5kZWxldGUoZS5idXR0b24pO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBlLnBhZ2VYO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGUucGFnZVk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jYWxsT25Nb3VzZVVwKHsgeDogeCwgeTogeSB9LCBlLmJ1dHRvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUub25Nb3VzZVVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLnggPSBlLnBhZ2VYO1xyXG4gICAgICAgIHRoaXMueSA9IGUucGFnZVk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vdXNlIGJ1dHRvbiBpcyBkb3duLlxyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uIG51bWJlciAtIERlZmF1bHQgMCBmb3IgbGVmdCBjbGljay5cclxuICAgICAqL1xyXG4gICAgTW91c2VIYW5kbGVyLnByb3RvdHlwZS5pc01vdXNlRG93biA9IGZ1bmN0aW9uIChtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rvd24uaGFzKG1vdXNlQnV0dG9uKTtcclxuICAgIH07XHJcbiAgICAvKiogR2V0cyB0aGUgY3VycmVudCB3aW5kb3cgcG9zaXRpb24gb2YgdGhlIG1vdXNlICovXHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLmdldFBvcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMueSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWN0aXZlIG1vdXNlIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBjb250ZXh0IE1vdXNlQ29udGV4dFxyXG4gICAgICovXHJcbiAgICBNb3VzZUhhbmRsZXIucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqIENsZWFycyB0aGUgYWN0aXZlIG1vdXNlIGNvbnRleHQgKi9cclxuICAgIE1vdXNlSGFuZGxlci5wcm90b3R5cGUuY2xlYXJDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTW91c2VIYW5kbGVyO1xyXG59KCkpO1xyXG52YXIgTW91c2VDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTW91c2VDb250ZXh0KCkge1xyXG4gICAgICAgIHRoaXMub25Eb3duID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMub25VcCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgZm9yIGEgbW91c2Vkb3duIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBtb3VzZWRvd25cclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gbnVtYmVyLiBEZWZhdWx0IDAgZm9yIGxlZnQgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdGhpcy5vbkRvd24uc2V0KG1vdXNlQnV0dG9uLCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayBmb3IgYSBtb3VzZXVwIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBtb3VzZXVwXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gLSBUaGUgbW91c2UgYnV0dG9uIG51bWJlci4gRGVmYXVsdCAwIGZvciBsZWZ0IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLm9uTW91c2VVcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbW91c2VCdXR0b24pIHtcclxuICAgICAgICBpZiAobW91c2VCdXR0b24gPT09IHZvaWQgMCkgeyBtb3VzZUJ1dHRvbiA9IDA7IH1cclxuICAgICAgICB0aGlzLm9uVXAuc2V0KG1vdXNlQnV0dG9uLCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYSByZWdpc3RlcmVkIGZ1bmN0aW9uIGZvciBtb3VzZWRvd25cclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gdG8gY2xlYXIuIERlZmF1bHQgMCBmb3IgbGVmdCBjbGljay5cclxuICAgICAqL1xyXG4gICAgTW91c2VDb250ZXh0LnByb3RvdHlwZS5jbGVhck1vdXNlRG93biA9IGZ1bmN0aW9uIChtb3VzZUJ1dHRvbikge1xyXG4gICAgICAgIGlmIChtb3VzZUJ1dHRvbiA9PT0gdm9pZCAwKSB7IG1vdXNlQnV0dG9uID0gMDsgfVxyXG4gICAgICAgIHRoaXMub25Eb3duLmRlbGV0ZShtb3VzZUJ1dHRvbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYSByZWdpc3RlcmVkIGZ1bmN0aW9uIGZvciBtb3VzZXVwXHJcbiAgICAgKiBAcGFyYW0gbW91c2VCdXR0b24gLSBUaGUgbW91c2UgYnV0dG9uIHRvIGNsZWFyLiBEZWZhdWx0IDAgZm9yIGxlZnQgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUuY2xlYXJNb3VzZVVwID0gZnVuY3Rpb24gKG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdGhpcy5vblVwLmRlbGV0ZShtb3VzZUJ1dHRvbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIGEgcmVnaXN0ZXJlZCBjYWxsYmFjayBmb3IgbW91c2Vkb3duXHJcbiAgICAgKiBAcGFyYW0gcG9zIFZlY3RvcjIgLSBUaGUgcG9zIGZvciB0aGUgbW91c2VcclxuICAgICAqIEBwYXJhbSBtb3VzZUJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gcHJlc3NlZFxyXG4gICAgICovXHJcbiAgICBNb3VzZUNvbnRleHQucHJvdG90eXBlLmNhbGxPbk1vdXNlRG93biA9IGZ1bmN0aW9uIChwb3MsIG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5vbkRvd24uZ2V0KG1vdXNlQnV0dG9uKTtcclxuICAgICAgICBpZiAoY2FsbGJhY2spXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHBvcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIGEgcmVnaXN0ZXJlZCBjYWxsYmFjayBmb3IgbW91c2V1cFxyXG4gICAgICogQHBhcmFtIHBvc1xyXG4gICAgICogQHBhcmFtIG1vdXNlQnV0dG9uXHJcbiAgICAgKi9cclxuICAgIE1vdXNlQ29udGV4dC5wcm90b3R5cGUuY2FsbE9uTW91c2VVcCA9IGZ1bmN0aW9uIChwb3MsIG1vdXNlQnV0dG9uKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlQnV0dG9uID09PSB2b2lkIDApIHsgbW91c2VCdXR0b24gPSAwOyB9XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5vblVwLmdldChtb3VzZUJ1dHRvbik7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICBjYWxsYmFjayhwb3MpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNb3VzZUNvbnRleHQ7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vdXNlLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDEgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgZ2V0IEtleUNvZGUgKCkgeyByZXR1cm4gS2V5Q29kZTsgfSxcbiAgICBLZXlib2FyZENvbnRleHQ6IEtleWJvYXJkQ29udGV4dCxcbiAgICBLZXlib2FyZEhhbmRsZXI6IEtleWJvYXJkSGFuZGxlcixcbiAgICBNb3VzZUhhbmRsZXI6IE1vdXNlSGFuZGxlcixcbiAgICBNb3VzZUNvbnRleHQ6IE1vdXNlQ29udGV4dFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci5qcy5tYXBcblxuLy8gVG9EbyAtIE1ha2UgdGhpcyBtb3JlIGVmZmljaWVudCB2aWEgaGVhcFxyXG52YXIgUHJpb3JpdHlRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByaW9yaXR5UXVldWUocHJpb3JpdHlGdW5jKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gW107XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eUZ1bmMgPSBwcmlvcml0eUZ1bmM7XHJcbiAgICB9XHJcbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciBzY29yZSA9IHRoaXMucHJpb3JpdHlGdW5jKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5wdXNoKFtzY29yZSwgZGF0YV0pO1xyXG4gICAgfTtcclxuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIG1pbiA9IEluZmluaXR5O1xyXG4gICAgICAgIHZhciBtaW5JbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChfYSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IF9hWzBdLCBkID0gX2FbMV07XHJcbiAgICAgICAgICAgIGlmICh2YWwgPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IHZhbDtcclxuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW21pbkluZGV4XVsxXTtcclxuICAgIH07XHJcbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIG1pbiA9IEluZmluaXR5O1xyXG4gICAgICAgIHZhciBtaW5JbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChfYSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IF9hWzBdLCBkID0gX2FbMV07XHJcbiAgICAgICAgICAgIGlmICh2YWwgPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IHZhbDtcclxuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcG9wcGVkID0gdGhpcy5kYXRhLnNwbGljZShtaW5JbmRleCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHBvcHBlZFswXVsxXTtcclxuICAgIH07XHJcbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcmlvcml0eVF1ZXVlO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmlvcml0eS1xdWV1ZS5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQyID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIFRhYmxlOiBUYWJsZSxcbiAgICBQcmlvcml0eVF1ZXVlOiBQcmlvcml0eVF1ZXVlXG59KTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL25xdWlubGFuL2JldHRlci1yYW5kb20tbnVtYmVycy1mb3ItamF2YXNjcmlwdC1taXJyb3JcclxuLy8gSm9oYW5uZXMgQmFhZ8O4ZSA8YmFhZ29lQGJhYWdvZS5jb20+LCAyMDEwXHJcbmZ1bmN0aW9uIE1hc2goKSB7XHJcbiAgICB2YXIgbiA9IDB4ZWZjODI0OWQ7XHJcbiAgICB2YXIgbWFzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbiArPSBkYXRhLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgIHZhciBoID0gMC4wMjUxOTYwMzI4MjQxNjkzOCAqIG47XHJcbiAgICAgICAgICAgIG4gPSBoID4+PiAwO1xyXG4gICAgICAgICAgICBoIC09IG47XHJcbiAgICAgICAgICAgIGggKj0gbjtcclxuICAgICAgICAgICAgbiA9IGggPj4+IDA7XHJcbiAgICAgICAgICAgIGggLT0gbjtcclxuICAgICAgICAgICAgbiArPSBoICogMHgxMDAwMDAwMDA7IC8vIDJeMzJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChuID4+PiAwKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG1hc2g7XHJcbn1cclxudmFyIEFsZWFSTkcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBbGVhUk5HKHNlZWQpIHtcclxuICAgICAgICB0aGlzLnMwID0gMDtcclxuICAgICAgICB0aGlzLnMxID0gMDtcclxuICAgICAgICB0aGlzLnMyID0gMDtcclxuICAgICAgICB0aGlzLmMgPSAwO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgc2VlZCBpZiBuZWVkZWRcclxuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkID09PSB1bmRlZmluZWQgPyBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkgOiBzZWVkO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIEFsZWFSTkcucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtYXNoID0gTWFzaCgpO1xyXG4gICAgICAgIC8vIEluaXRpYWwgbWFzaGVzXHJcbiAgICAgICAgdGhpcy5zMCA9IG1hc2goXCIgXCIpO1xyXG4gICAgICAgIHRoaXMuczEgPSBtYXNoKFwiIFwiKTtcclxuICAgICAgICB0aGlzLnMyID0gbWFzaChcIiBcIik7XHJcbiAgICAgICAgdGhpcy5jID0gMTtcclxuICAgICAgICB0aGlzLnMwIC09IG1hc2godGhpcy5zZWVkKTtcclxuICAgICAgICB0aGlzLnMxIC09IG1hc2godGhpcy5zZWVkKTtcclxuICAgICAgICB0aGlzLnMyIC09IG1hc2godGhpcy5zZWVkKTtcclxuICAgICAgICB0aGlzLnNhbml0aXplKCk7XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUuc2FuaXRpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuczAgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnMwICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuczEgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnMxICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuczIgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnMyICs9IDE7XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUaGUgZGFyayBtYWdpYyB0aGF0IG1ha2VzIHRoZSBudW1iZXIgZ2VuZXJhdG9yIHJ1blxyXG4gICAgICAgIHZhciB0ID0gMjA5MTYzOSAqIHRoaXMuczAgKyB0aGlzLmMgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxyXG4gICAgICAgIHRoaXMuczAgPSB0aGlzLnMxO1xyXG4gICAgICAgIHRoaXMuczEgPSB0aGlzLnMyO1xyXG4gICAgICAgIHJldHVybiAodGhpcy5zMiA9IHQgLSAodGhpcy5jID0gdCB8IDApKTtcclxuICAgIH07XHJcbiAgICAvLyBSZXR1cm5zIGJldHdlZW4gWzAsMSlcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLm5leHRSYW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5zdGVwKCkgKyAoKHRoaXMuc3RlcCgpICogMHgyMDAwMDApIHwgMCkgKiAxLjExMDIyMzAyNDYyNTE1NjVlLTE2KTsgLy8gMl4tNTNcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgaWYgKG1pbiA9PT0gdm9pZCAwKSB7IG1pbiA9IDA7IH1cclxuICAgICAgICBpZiAobWF4ID09PSB2b2lkIDApIHsgbWF4ID0gMTsgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm5leHRSYW5kKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5uZXh0SW50ID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgaWYgKG1pbiA9PT0gdm9pZCAwKSB7IG1pbiA9IDA7IH1cclxuICAgICAgICBpZiAobWF4ID09PSB2b2lkIDApIHsgbWF4ID0gMTAwOyB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5uZXh0KCkgKiAobWF4IC0gbWluKSArIG1pbik7XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUubmV4dEJvb2xlYW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFJhbmQoKSA+IDAuNTtcclxuICAgIH07XHJcbiAgICBBbGVhUk5HLnByb3RvdHlwZS5uZXh0SXRlbSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLm5leHRJbnQoMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gYXJyYXlbaV07XHJcbiAgICB9O1xyXG4gICAgQWxlYVJORy5wcm90b3R5cGUuc2h1ZmZsZSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgY2xvbmUgPSBhcnJheS5zbGljZSgpO1xyXG4gICAgICAgIHdoaWxlIChjbG9uZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5uZXh0SW50KDAsIGNsb25lLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNsb25lLnNwbGljZShpbmRleCwgMSlbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIEFsZWFSTkcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhID0gbmV3IEFsZWFSTkcoKTtcclxuICAgICAgICBhLnMwID0gdGhpcy5zMDtcclxuICAgICAgICBhLnMxID0gdGhpcy5zMTtcclxuICAgICAgICBhLnMyID0gdGhpcy5zMjtcclxuICAgICAgICBhLmMgPSB0aGlzLmM7XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFsZWFSTkc7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFsZWEuanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXgkMyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBBbGVhUk5HOiBBbGVhUk5HXG59KTtcblxuLyoqIENvbnRhaW5zIG1hdGggZm9yIGNvbW1vbiB2ZWN0b3Igb3BlcmF0aW9ucy4gKi9cclxudmFyIFZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFZlY3RvcigpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHR3byB2ZWN0b3JzIGhhdmUgdGhlIHNhbWUgeCBhbmQgeSB2YWx1ZXMuXHJcbiAgICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IFZlY3RvcjIuXHJcbiAgICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCBWZWN0b3IyLlxyXG4gICAgICovXHJcbiAgICBWZWN0b3IuYXJlRXF1YWwgPSBmdW5jdGlvbiAodjEsIHYyKSB7XHJcbiAgICAgICAgcmV0dXJuIHYxLnggPT09IHYyLnggJiYgdjEueSA9PT0gdjIueTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlY3RvcnMuXHJcbiAgICAgKlxyXG4gICAgICogSWYgbm8gdG9wb2xvZ3kgaXMgZ2l2ZW4sIGRpYWdvbmFsIGRpc3RhbmNlIGlzIHNxcnQoMikuXHJcbiAgICAgKiBJZiB0b3BvbG9neSBpcyBmb3VyLCBkaWFnb25hbCBkaXN0YW5jZSBpcyAyLlxyXG4gICAgICogSWYgdG9wb2xvZ3kgaXMgZWlnaHQsIGRpYWdvbmFsIGRpc3RhbmNlIGlzIDEuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0YXJ0IFRoZSBzdGFydGluZyBWZWN0b3IyLlxyXG4gICAgICogQHBhcmFtIGVuZCBUaGUgZW5kaW5nIFZlY3RvcjIuXHJcbiAgICAgKiBAcGFyYW0gdG9wb2xvZ3kgQ2FuIHVzZSBcImZvdXJcIiBvciBcImVpZ2h0XCIgZm9yIG5vbi1jYXJ0ZXNpYW4gZGlzdGFuY2VzLlxyXG4gICAgICovXHJcbiAgICBWZWN0b3IuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdG9wb2xvZ3kpIHtcclxuICAgICAgICBpZiAodG9wb2xvZ3kgPT09IFwiZm91clwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhzdGFydC54IC0gZW5kLngpICsgTWF0aC5hYnMoc3RhcnQueSAtIGVuZC55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodG9wb2xvZ3kgPT09IFwiZWlnaHRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnMoc3RhcnQueCAtIGVuZC54KSwgTWF0aC5hYnMoc3RhcnQueSAtIGVuZC55KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYSA9IHN0YXJ0LnggLSBlbmQueDtcclxuICAgICAgICAgICAgdmFyIGIgPSBzdGFydC55IC0gZW5kLnk7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBmaW5kIHRoZSBjZW50ZXIgb2YgYW4gYXJlYSBieSBhdmVyYWdpbmcgYWxsIFZlY3RvcnMgaW4gdGhlIGFyZWEuXHJcbiAgICAgKiBUaGlzIHBvaW50IG1heSBub3QgYmUgaW4gdGhlIGFyZWEgaXRzZWxmLCBmb3IgZXhhbXBsZSBpbiBhIGRvbnV0IHNoYXBlZCBhcmVhLlxyXG4gICAgICogQHBhcmFtIGFyZWEgVmVjdG9yMlxyXG4gICAgICovXHJcbiAgICBWZWN0b3IuZ2V0Q2VudGVyID0gZnVuY3Rpb24gKGFyZWEpIHtcclxuICAgICAgICBpZiAoYXJlYS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yOiBUcnlpbmcgdG8gZmluZCBjZW50ZXIgb2YgZW1wdHkgYXJlYVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN4ID0gMDtcclxuICAgICAgICB2YXIgc3kgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgYXJlYV8xID0gYXJlYTsgX2kgPCBhcmVhXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gYXJlYV8xW19pXTtcclxuICAgICAgICAgICAgc3ggKz0gdi54O1xyXG4gICAgICAgICAgICBzeSArPSB2Lnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHN4IC8gYXJlYS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHk6IHN5IC8gYXJlYS5sZW5ndGgsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFdpbGwgZmluZCB0aGUgcG9zaXRpb24gaW4gdGhlIGFyZWEgY2xvc2VzdCB0byB0aGUgdGFyZ2V0XHJcbiAgICAgKiBAcGFyYW0gYXJlYSBWZWN0b3IyW11cclxuICAgICAqIEBwYXJhbSB0YXJnZXQgVmVjdG9yMlxyXG4gICAgICogQHBhcmFtIHRvcG9sb2d5IEVpdGhlciAnZm91cicgb3IgJ2VpZ2h0Jy4gRGVmYXVsdCAnZm91cidcclxuICAgICAqL1xyXG4gICAgVmVjdG9yLmdldENsb3Nlc3QgPSBmdW5jdGlvbiAoYXJlYSwgdGFyZ2V0LCB0b3BvbG9neSkge1xyXG4gICAgICAgIGlmICh0b3BvbG9neSA9PT0gdm9pZCAwKSB7IHRvcG9sb2d5ID0gXCJmb3VyXCI7IH1cclxuICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBhcmVhIGlzIGVtcHR5XHJcbiAgICAgICAgaWYgKGFyZWEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogVHJ5aW5nIHRvIGZpbmQgY2xvc2VzdCBwb3NpdGlvbiBvZiBhbiBlbXB0eSBhcmVhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBjbG9zZXN0IHdlJ3ZlIGZvdW5kLlxyXG4gICAgICAgIHZhciBtaW5EaXN0YW5jZSA9IEluZmluaXR5O1xyXG4gICAgICAgIHZhciBjbG9zZXN0ID0gYXJlYVswXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGFyZWFfMiA9IGFyZWE7IF9pIDwgYXJlYV8yLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdiA9IGFyZWFfMltfaV07XHJcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IFZlY3Rvci5nZXREaXN0YW5jZSh0YXJnZXQsIHYsIHRvcG9sb2d5KTtcclxuICAgICAgICAgICAgLy8gRm91bmQgZXhhY3Qgb25lLCBpbW1lZGlhdGVseSByZXR1cm5cclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHRhcmdldC54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHRhcmdldC55LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDbG9zZXIgdGhhbiBjdXJyZW50bHkga25vd25cclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gdjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvc2VzdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmVjdG9yO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG5mdW5jdGlvbiBnZXRSaW5nOChvcmlnaW5YLCBvcmlnaW5ZLCByYW5nZSkge1xyXG4gICAgaWYgKHJhbmdlID09PSAwKVxyXG4gICAgICAgIHJldHVybiBbeyB4OiBvcmlnaW5YLCB5OiBvcmlnaW5ZIH1dO1xyXG4gICAgdmFyIHJpbmcgPSBbXTtcclxuICAgIHZhciBtYXhYID0gb3JpZ2luWCArIHJhbmdlO1xyXG4gICAgdmFyIG1pblggPSBvcmlnaW5YIC0gcmFuZ2U7XHJcbiAgICB2YXIgbWF4WSA9IG9yaWdpblkgKyByYW5nZTtcclxuICAgIHZhciBtaW5ZID0gb3JpZ2luWSAtIHJhbmdlO1xyXG4gICAgLy9TdGFydCBhdCB0aGUgMyBvJ2Nsb2NrLCAoMCBkZWdyZWVzKSwgcm90YXRlIGFsbCB0aGUgd2F5IGFyb3VuZFxyXG4gICAgLy8gVG9wIFJpZ2h0IFNpZGUsIG5vIGNvcm5lclxyXG4gICAgZm9yICh2YXIgeCA9IG1heFgsIHkgPSBvcmlnaW5ZOyB5ID4gbWluWTsgeS0tKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIFRvcCBTaWRlLCByaWdodCB0byBsZWZ0LiBJbmNsdWRlIHRvcCBjb3JuZXJzXHJcbiAgICBmb3IgKHZhciB4ID0gbWF4WCwgeSA9IG1pblk7IHggPj0gbWluWDsgeC0tKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIExlZnQgc2lkZSwgbm8gY29ybmVyc1xyXG4gICAgZm9yICh2YXIgeCA9IG1pblgsIHkgPSBtaW5ZICsgMTsgeSA8IG1heFk7IHkrKykge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBCb3R0b20gc2lkZSwgY29ybmVyc1xyXG4gICAgZm9yICh2YXIgeCA9IG1pblgsIHkgPSBtYXhZOyB4IDw9IG1heFg7IHgrKykge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBSaWdodCBzaWRlIGJhY2sgdG8gdG8gMCBkZWdyZWVzLCBubyBjb3JuZXJcclxuICAgIGZvciAodmFyIHggPSBtYXhYLCB5ID0gbWF4WSAtIDE7IHkgPiBvcmlnaW5ZOyB5LS0pIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJpbmc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0UmluZzQob3JpZ2luWCwgb3JpZ2luWSwgcmFuZ2UpIHtcclxuICAgIGlmIChyYW5nZSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHg6IG9yaWdpblgsXHJcbiAgICAgICAgICAgICAgICB5OiBvcmlnaW5ZLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICB2YXIgcmluZyA9IFtdO1xyXG4gICAgdmFyIG1heFggPSBvcmlnaW5YICsgcmFuZ2U7XHJcbiAgICB2YXIgbWluWCA9IG9yaWdpblggLSByYW5nZTtcclxuICAgIHZhciBtYXhZID0gb3JpZ2luWSArIHJhbmdlO1xyXG4gICAgdmFyIG1pblkgPSBvcmlnaW5ZIC0gcmFuZ2U7XHJcbiAgICAvLyBUb3AgcmlnaHQgYXJjXHJcbiAgICBmb3IgKHZhciB4ID0gbWF4WCwgeSA9IG9yaWdpblk7IHggPiBvcmlnaW5YOyB4LS0sIHktLSkge1xyXG4gICAgICAgIHJpbmcucHVzaCh7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBUb3AgbGVmdCBhcmNcclxuICAgIGZvciAodmFyIHggPSBvcmlnaW5YLCB5ID0gbWluWTsgeCA+IG1pblg7IHgtLSwgeSsrKSB7XHJcbiAgICAgICAgcmluZy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgIH1cclxuICAgIC8vIEJvdHRvbSBsZWZ0IGFyY1xyXG4gICAgZm9yICh2YXIgeCA9IG1pblgsIHkgPSBvcmlnaW5ZOyB4IDwgb3JpZ2luWDsgeCsrLCB5KyspIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQm90dG9tIHJpZ2h0IGFyY1xyXG4gICAgZm9yICh2YXIgeCA9IG9yaWdpblgsIHkgPSBtYXhZOyB4IDwgbWF4WDsgeCsrLCB5LS0pIHtcclxuICAgICAgICByaW5nLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJpbmc7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LXJpbmcuanMubWFwXG5cbnZhciBBU3RhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIEdlbmVyYWwgcGFyYW1ldGVycyBmb3IgdGhlIEFTdGFyIFBhdGhmaW5kZXJcclxuICAgICAqIEBwYXJhbSBjb25maWcuaXNCbG9ja2VkQ2FsbGJhY2sgLSBSZXR1cm4gdHJ1ZSBpZiB0aGUgcG9zaXRpb24gaXMgYmxvY2tlZC5cclxuICAgICAqIEBwYXJhbSBjb25maWcudG9wb2xvZ3kgLSBmb3VyIHwgZWlnaHRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQVN0YXIoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5pc0Jsb2NrZWQgPSBjb25maWcuaXNCbG9ja2VkQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy50b3BvbG9neSA9IGNvbmZpZy50b3BvbG9neTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBuZWlnaHRib3JzIG9mIGEgcG9pbnQuIFJldHVybnMgb3J0aG9nb25hbFxyXG4gICAgICogZGlyZWN0aW9ucyBmaXJzdCwgdGhlbiBkaWFnb25hbCBpZiB0b3BvbG9neSBpcyA4LlxyXG4gICAgICogUmVzdWx0cyBpbiBtb3JlIG5hdHVyYWwgbG9va2luZyBwYXRocy5cclxuICAgICAqIEBwYXJhbSBwb3MgLSBWZWN0b3IyXHJcbiAgICAgKi9cclxuICAgIEFTdGFyLnByb3RvdHlwZS5nZXROZWlnaGJvcnMgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IGdldFJpbmc0KHBvcy54LCBwb3MueSwgMSk7XHJcbiAgICAgICAgaWYgKHRoaXMudG9wb2xvZ3kgPT09IFwiZWlnaHRcIikge1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgLSAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54IC0gMSwgeTogcG9zLnkgLSAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54IC0gMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgICAgICBuZWlnaGJvcnMucHVzaCh7IHg6IHBvcy54ICsgMSwgeTogcG9zLnkgKyAxIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVpZ2hib3JzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHN0YXJ0IFZlY3RvcjIgLSBUaGUgc3RhcnRpbmcgcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSBlbmQgIFZlY3RvcjIgLSBUaGUgZW5kaW5nIHBvc2l0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgVmVjdG9yMltdIHwgdW5kZWZpbmVkIC0gUmV0dXJucyB0aGUgcGF0aCxcclxuICAgICAqIGluY2x1ZGluZyBzdGFydCArIGVuZCwgb3IgdW5kZWZpbmVkIGlmIG5vIHBhdGggaXMgZm91bmQuXHJcbiAgICAgKi9cclxuICAgIEFTdGFyLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIG9wZW5TZXQgaXMgdGhlIHNldCBvZiBkaXNjb3ZlcmVkIG5vZGVzLCBhbmQgbW9yZSBtaWdodCBiZSBmb3VuZFxyXG4gICAgICAgIHZhciBvcGVuU2V0ID0gbmV3IFByaW9yaXR5UXVldWUoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uZlNjb3JlOyB9KTtcclxuICAgICAgICBvcGVuU2V0Lmluc2VydCh7XHJcbiAgICAgICAgICAgIHY6IHN0YXJ0LFxyXG4gICAgICAgICAgICBmU2NvcmU6IFZlY3Rvci5nZXREaXN0YW5jZShzdGFydCwgZW5kLCBcImVpZ2h0XCIpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNhbWVGcm9tIG1hcHMgYSBub2RlIHRvIHRoZSBvbmUgcHJlY2VkaW5nIGl0IHdpdGggdGhlIGNoZWFwZXN0IHBhdGhcclxuICAgICAgICB2YXIgY2FtZUZyb20gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLy8gZ1Njb3JlIHRyYWNrcyB0aGUgY2hlYXBlc3QgcGF0aCBmcm9tIHN0YXJ0IHRvIHRoZSBub2RlXHJcbiAgICAgICAgLy8gZlNjb3JlIHRyYWNrcyBnU2NvcmUgKyBlc2ltYXRlZFxyXG4gICAgICAgIHZhciBnU2NvcmUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZ1Njb3JlLnNldChzdGFydC54ICsgXCI6XCIgKyBzdGFydC55LCAwKTtcclxuICAgICAgICB3aGlsZSAob3BlblNldC5zaXplKCkpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBvcGVuU2V0LnBvcCgpLnY7XHJcbiAgICAgICAgICAgIGlmIChWZWN0b3IuYXJlRXF1YWwoY3VycmVudCwgZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1clN0ciA9IGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUGF0aCA9IFtjdXJyZW50XTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChjYW1lRnJvbS5oYXMoY3VyU3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2U3RyID0gY2FtZUZyb20uZ2V0KGN1clN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcHJldlN0ci5zcGxpdChcIjpcIiksIHggPSBfYVswXSwgeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clN0ciA9IHByZXZTdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYXRoLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIucGFyc2VJbnQoeCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE51bWJlci5wYXJzZUludCh5KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIG5laWdoYm9ycyA9IG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIF90aGlzLmlzQmxvY2tlZCh2KSA9PT0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50R1Njb3JlID0gZ1Njb3JlLmdldChjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbmVpZ2hib3JzXzEgPSBuZWlnaGJvcnM7IF9pIDwgbmVpZ2hib3JzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5laWdoYm9yc18xW19pXTtcclxuICAgICAgICAgICAgICAgIC8vIFRvRG8gLSBhbGxvdyB0aGUgZGlzdGFuY2UgdG8gYmUgZGV0ZXJtaW5lZCBieSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbnRhdGl2ZV9nU2NvcmUgPSBjdXJyZW50R1Njb3JlICsgMTtcclxuICAgICAgICAgICAgICAgIGlmIChnU2NvcmUuaGFzKG4ueCArIFwiOlwiICsgbi55KSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobi54ICsgXCI6XCIgKyBuLnksIGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55KTtcclxuICAgICAgICAgICAgICAgICAgICBnU2NvcmUuc2V0KG4ueCArIFwiOlwiICsgbi55LCB0ZW50YXRpdmVfZ1Njb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZlNjb3JlID0gdGVudGF0aXZlX2dTY29yZSArIFZlY3Rvci5nZXREaXN0YW5jZShuLCBlbmQsIFwiZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlblNldC5pbnNlcnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiBuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmU2NvcmU6IGZTY29yZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXZSBuZXZlciBnb3QgY3VycmVudCA9PSBlbmRcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBU3RhcjtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0YXIuanMubWFwXG5cbi8qKlxyXG4gKiBDb25uZWN0cyBhcmVhcyBvZiB0aGUgbWFwIHRvIGVuc3VyZSB0aGV5IGFyZSBhbGwgY29ubmVjdGVkLlxyXG4gKlxyXG4gKiBGb3IgaW5zdGFuY2UsIGlmIHlvdSdyZSB1c2luZyBhbiBhbGl2ZSB2YWx1ZSBvZiAxIGZvciB3YWxscyxcclxuICogdGhlbiB0aGlzIGNhbiBjb25uZWN0IHRoZSBkZWFkIHZhbHVlIG9mIDAgdG8gZW5zdXJlIGFsbFxyXG4gKiBzcXVhcmVzIG9uIHRoZSBtYXAgYXJlIGFjY2Vzc2FibGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29ubmVjdCAoZGVmYXVsdCB0aGlzLmRlYWRWYWx1ZSlcclxuICovXHJcbmZ1bmN0aW9uIGNvbm5lY3QodGFibGUsIHZhbHVlKSB7XHJcbiAgICB2YXIgc3BhY2VzVG9Db25uZWN0ID0gbmV3IFNldCgpO1xyXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xyXG4gICAgdmFyIHBhdGhzID0gW107XHJcbiAgICAvLyBHZXQgYWxsIHNwYWNlcyB3aXRoIHRoZSB2YWx1ZVxyXG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB0YWJsZS53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0YWJsZS5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICBpZiAodGFibGUuZ2V0KHsgeDogeCwgeTogeSB9KSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHNwYWNlc1RvQ29ubmVjdC5hZGQoeCArIFwiOlwiICsgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGdyb3VwcyB0aGVyZSBhcmVcclxuICAgIHdoaWxlIChzcGFjZXNUb0Nvbm5lY3Quc2l6ZSA+IDApIHtcclxuICAgICAgICB2YXIgdiA9IEFycmF5LmZyb20oc3BhY2VzVG9Db25uZWN0LmVudHJpZXMoKSlbMF1bMF07XHJcbiAgICAgICAgdmFyIF9hID0gdi5zcGxpdChcIjpcIiksIHggPSBfYVswXSwgeSA9IF9hWzFdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgeDogTnVtYmVyLnBhcnNlSW50KHgpLFxyXG4gICAgICAgICAgICB5OiBOdW1iZXIucGFyc2VJbnQoeSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBHcmFiIGFuIGFyZWEsIHRoZW4gcmVtb3ZlIHRob3NlIHRpbGVzIGZyb20gdGhlIHNwYWNlc1RvQ29ubmVjdFxyXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0YWJsZS5mbG9vZEZpbGxTZWxlY3QocG9zaXRpb24pO1xyXG4gICAgICAgIGdyb3Vwcy5wdXNoKHNlbGVjdGlvbik7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBzZWxlY3Rpb25fMSA9IHNlbGVjdGlvbjsgX2kgPCBzZWxlY3Rpb25fMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHMgPSBzZWxlY3Rpb25fMVtfaV07XHJcbiAgICAgICAgICAgIHNwYWNlc1RvQ29ubmVjdC5kZWxldGUocy54ICsgXCI6XCIgKyBzLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNwYWNlc1RvQ29ubmVjdCBpcyBub3cgZW1wdHkuXHJcbiAgICAvLyBFYWNoIGdyb3VwIGluIGdyb3VwcyBpcyBhbiBpc29sYXRlZCBzZXQgb2YgdGlsZXNcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gSWdub3JlIHRoZSBsYXN0IGdyb3VwXHJcbiAgICAgICAgaWYgKGkgPT09IGdyb3Vwcy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB2YXIgY3VycmVudCA9IGdyb3Vwc1tpXTtcclxuICAgICAgICB2YXIgbmV4dCA9IGdyb3Vwc1tpICsgMV07XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjZW50ZXIgcG9pbnQgZnJvbSBlYWNoIGFyZWFcclxuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IFZlY3Rvci5nZXRDZW50ZXIoY3VycmVudCk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRQb2ludCA9IFZlY3Rvci5nZXRDbG9zZXN0KGN1cnJlbnQsIGN1cnJlbnRDZW50ZXIpO1xyXG4gICAgICAgIHZhciBuZXh0Q2VudGVyID0gVmVjdG9yLmdldENlbnRlcihuZXh0KTtcclxuICAgICAgICB2YXIgbmV4dFBvaW50ID0gVmVjdG9yLmdldENsb3Nlc3QobmV4dCwgbmV4dENlbnRlcik7XHJcbiAgICAgICAgLy8gR2V0IHR3byBwb2ludHMgdGhhdCBhcmUgY2xvc2UgdG8gdGhlIGVkZ2UgZm9yIGVhY2ggc2VjdGlvblxyXG4gICAgICAgIHZhciBjbG9zZXN0Q3VycmVudCA9IFZlY3Rvci5nZXRDbG9zZXN0KG5leHQsIGN1cnJlbnRQb2ludCk7XHJcbiAgICAgICAgdmFyIGNsb3Nlc3ROZXh0ID0gVmVjdG9yLmdldENsb3Nlc3QoY3VycmVudCwgbmV4dFBvaW50KTtcclxuICAgICAgICB2YXIgYSA9IG5ldyBBU3Rhcih7IHRvcG9sb2d5OiBcImZvdXJcIiB9KTtcclxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IGEuY29tcHV0ZShjbG9zZXN0Q3VycmVudCwgY2xvc2VzdE5leHQpO1xyXG4gICAgICAgIC8vIENvbm5lY3QgdGhlIHBhdGhzXHJcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogQ291bGQgbm90IGNvbm5lY3QgY2VsbCBhcmVhc1wiKTtcclxuICAgICAgICBmb3IgKHZhciBfYiA9IDAsIGNvbm5lY3Rpb25fMSA9IGNvbm5lY3Rpb247IF9iIDwgY29ubmVjdGlvbl8xLmxlbmd0aDsgX2IrKykge1xyXG4gICAgICAgICAgICB2YXIgdiA9IGNvbm5lY3Rpb25fMVtfYl07XHJcbiAgICAgICAgICAgIHRhYmxlLnNldCh2LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhdGhzLnB1c2goY29ubmVjdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdyb3VwczogZ3JvdXBzLFxyXG4gICAgICAgIHBhdGhzOiBwYXRocyxcclxuICAgIH07XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdC5qcy5tYXBcblxuLyoqIFVzZWQgdG8gY3JlYXRlIENlbGx1bGFyQXV0b21hdGEgTWFwcy4gKi9cclxudmFyIENlbGx1bGFyQXV0b21hdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBDZWxsdWxhciBBdXRvbWF0YSBNYXAgR2VuZXJhdG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgbWFwLlxyXG4gICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSBtYXAuXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENlbGx1bGFyQXV0b21hdGEod2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XHJcbiAgICAgICAgdGhpcy50YWJsZSA9IG5ldyBUYWJsZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAvLyBTZXQgdXAgZGVmYXVsdHNcclxuICAgICAgICB0aGlzLmFsaXZlVmFsdWUgPVxyXG4gICAgICAgICAgICBvcHRpb25zLmFsaXZlVmFsdWUgPT09IHVuZGVmaW5lZCA/IDEgOiBvcHRpb25zLmFsaXZlVmFsdWU7XHJcbiAgICAgICAgdGhpcy5kZWFkVmFsdWUgPVxyXG4gICAgICAgICAgICBvcHRpb25zLmRlYWRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gMCA6IG9wdGlvbnMuZGVhZFZhbHVlO1xyXG4gICAgICAgIHRoaXMucm5nID0gb3B0aW9ucy5ybmcgPT09IHVuZGVmaW5lZCA/IG5ldyBBbGVhUk5HKCkgOiBvcHRpb25zLnJuZztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmFuZG9tbHkgc2V0cyBlYWNoIGNlbGwgdG8gZWl0aGVyIGFsaXZlIG9yIGRlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlzQWxpdmVDaGFuY2UgVGhlIGNoYW5jZSBmb3IgYSBjZWxsIHRvIGJlIHNldCB0byB0aGUgJ2FsaXZlJyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgQ2VsbHVsYXJBdXRvbWF0YS5wcm90b3R5cGUucmFuZG9taXplID0gZnVuY3Rpb24gKGlzQWxpdmVDaGFuY2UpIHtcclxuICAgICAgICBpZiAoaXNBbGl2ZUNoYW5jZSA9PT0gdm9pZCAwKSB7IGlzQWxpdmVDaGFuY2UgPSAwLjY7IH1cclxuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMudGFibGUud2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMudGFibGUuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0FsaXZlID0gdGhpcy5ybmcubmV4dCgpID4gaXNBbGl2ZUNoYW5jZTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0FsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZS5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuYWxpdmVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5kZWFkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENlbGx1bGFyQXV0b21hdGEucHJvdG90eXBlLmNvdW50QWxpdmVOZWlnaGJvcnMgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IC0xOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAtMTsgaiA8IDI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5laWdoYm9yX3ggPSB4ICsgaTtcclxuICAgICAgICAgICAgICAgIHZhciBuZWlnaGJvcl95ID0geSArIGo7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAwICYmIGogPT0gMCkgO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50YWJsZS5pc0luQm91bmRzKHsgeDogbmVpZ2hib3JfeCwgeTogbmVpZ2hib3JfeSB9KSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRhYmxlLmdldCh7IHg6IG5laWdoYm9yX3gsIHk6IG5laWdoYm9yX3kgfSkgPT0gdGhpcy5hbGl2ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSdW5zIGEgbnVtYmVyIG9mIHNpbXVsYXRpb24gc3RlcHMuXHJcbiAgICAgKiBFYWNoIHN0ZXAgZ2VuZXJhbGx5IFwic21vb3Roc1wiIHRoZSBtYXAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0ZXBDb3VudCBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIHJ1bi5cclxuICAgICAqL1xyXG4gICAgQ2VsbHVsYXJBdXRvbWF0YS5wcm90b3R5cGUuZG9TaW11bGF0aW9uU3RlcCA9IGZ1bmN0aW9uIChzdGVwQ291bnQpIHtcclxuICAgICAgICBpZiAoc3RlcENvdW50ID09PSB2b2lkIDApIHsgc3RlcENvdW50ID0gMTsgfVxyXG4gICAgICAgIGZvciAodmFyIHN0ZXAgPSAwOyBzdGVwIDwgc3RlcENvdW50OyBzdGVwKyspIHtcclxuICAgICAgICAgICAgdmFyIG5ld01hcCA9IG5ldyBUYWJsZSh0aGlzLnRhYmxlLndpZHRoLCB0aGlzLnRhYmxlLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHZhciBvbGRNYXAgPSB0aGlzLnRhYmxlOyAvL3RoaXMganVzdCByZW5hbWVzIHRoZSB0YWJsZSB0byBwcmV2ZW50ICd0aGlzJyBhbGwgb3ZlciB0aGUgcGxhY2UuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgb2xkTWFwLndpZHRoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgb2xkTWFwLmhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5icyA9IHRoaXMuY291bnRBbGl2ZU5laWdoYm9ycyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkTWFwLmdldCh7IHg6IHgsIHk6IHkgfSkgPT09IHRoaXMuYWxpdmVWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmJzIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFwLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5kZWFkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFwLnNldCh7IHg6IHgsIHk6IHkgfSwgdGhpcy5hbGl2ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5icyA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hcC5zZXQoeyB4OiB4LCB5OiB5IH0sIHRoaXMuYWxpdmVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXAuc2V0KHsgeDogeCwgeTogeSB9LCB0aGlzLmRlYWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZSA9IG5ld01hcDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25uZWN0cyBhcmVhcyBvZiB0aGUgbWFwIHRvIGVuc3VyZSB0aGV5IGFyZSBhbGwgY29ubmVjdGVkLlxyXG4gICAgICpcclxuICAgICAqIEZvciBpbnN0YW5jZSwgaWYgeW91J3JlIHVzaW5nIGFuIGFsaXZlIHZhbHVlIG9mIDEgZm9yIHdhbGxzLFxyXG4gICAgICogdGhlbiB0aGlzIGNhbiBjb25uZWN0IHRoZSBkZWFkIHZhbHVlIG9mIDAgdG8gZW5zdXJlIGFsbFxyXG4gICAgICogc3F1YXJlcyBvbiB0aGUgbWFwIGFyZSBhY2Nlc3NhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29ubmVjdCAoZGVmYXVsdCB0aGlzLmRlYWRWYWx1ZSlcclxuICAgICAqL1xyXG4gICAgQ2VsbHVsYXJBdXRvbWF0YS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gdGhpcy5kZWFkVmFsdWU7IH1cclxuICAgICAgICByZXR1cm4gY29ubmVjdCh0aGlzLnRhYmxlLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENlbGx1bGFyQXV0b21hdGE7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNlbGx1bGFyLWF1dG9tYXRhLmpzLm1hcFxuXG4vKiogR2VuZXJhdG9yIHRvIHBlcmZvcm0gYSBEcnVua2FyZCdzIFdhbGsqL1xyXG52YXIgRHJ1bmthcmRzV2FsayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBEcnVua2FyZHNXYWxrIEdlbmVyYXRvclxyXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIEdlbmVyYXRvciBDb25maWdcclxuICAgICAqIEBwYXJhbSBjb25maWcud2lkdGggbnVtYmVyIC0gV2lkdGggb2YgdGhlIG1hcFxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5oZWlnaHQgbnVtYmVyIC0gSGVpZ2h0IG9mIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBjb25maWcucm5nIElSTkcgLSBPcHRpb25hbCByYW5kb20gbnVtYmVyIGdlbmVyYXRvclxyXG4gICAgICogQHBhcmFtIGNvbmZpZy50b3BvbG9neSBcImZvdXJcIiB8IFwiZWlnaHRcIiAtIFRvcG9sb2d5IHRvIHVzZS4gRGVmYXVsdCBmb3VyLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBEcnVua2FyZHNXYWxrKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgdGhpcy5fcGF0aCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3N0ZXBzID0gMDtcclxuICAgICAgICB0aGlzLl9jb3ZlcmVkQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGFibGUgPSBuZXcgVGFibGUoY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLl9ybmcgPSAoX2EgPSBjb25maWcucm5nKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgQWxlYVJORygpO1xyXG4gICAgICAgIHRoaXMuX3RvcG9sb2d5ID0gKF9iID0gY29uZmlnLnRvcG9sb2d5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcImZvdXJcIjtcclxuICAgICAgICAvLyBJbml0aWFsaXplIFRhYmxlXHJcbiAgICAgICAgdGhpcy50YWJsZS5maWxsKDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBwYXRoIHRyYXZlbGVkIHNvIGZhci5cclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxhc3QgdmlzaXRlZCBsb2NhdGlvbi5cclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aFt0aGlzLl9wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIHN0ZXBzIHRha2VuXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldFN0ZXBzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGVwcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiB1bmlxdWUgc3BhY2VzIHZpc2l0ZWRcclxuICAgICAqL1xyXG4gICAgRHJ1bmthcmRzV2Fsay5wcm90b3R5cGUuZ2V0Q292ZXJlZENvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb3ZlcmVkQ291bnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgcG9pbnQgdG8gdGhlIGRydW5rYXJkcyB3YWxrLFxyXG4gICAgICogYWRqdXN0aW5nIHBhdGgsIHRhYmxlLCBhbmQgc3RlcHMgYXMgbmVlZGVkLlxyXG4gICAgICogQHBhcmFtIHBvaW50IFZlY3RvcjIgLSBUaGUgcG9pbnQgdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XHJcbiAgICAgICAgdGhpcy5fc3RlcHMrKztcclxuICAgICAgICBpZiAodGhpcy50YWJsZS5nZXQocG9pbnQpICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvdmVyZWRDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhYmxlLnNldChwb2ludCwgMSk7XHJcbiAgICAgICAgdGhpcy5fcGF0aC5wdXNoKHBvaW50KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgcGF0aCBieSB3YWxraW5nIGEgbnVtYmVyIG9mIHN0ZXBzLlxyXG4gICAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byBoYXZlIHRoZSBEcnVua2FyZCAnanVtcCcgdG8gYSBkaWZmZXJlbnQgc3BvdC5cclxuICAgICAqIEBwYXJhbSBjb25maWcgLSBUaGUgd2FsayBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnN0ZXBzIG51bWJlciAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gdGFrZS5cclxuICAgICAqIEBwYXJhbSBjb25maWcuc3RhcnQgVmVjdG9yMiAtIFRoZSBzdGFydGluZyBwb3NpdGlvbi4gRGVmYXVsdCByYW5kb20uXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLm1heENvdmVyZWRUaWxlcyBudW1iZXIgLSBTdG9wcyB3YWxraW5nIGlmIHRoZSB0b3RhbCBudW1iZXIgb2YgdGlsZXNcclxuICAgICAqIGV2ZXIgY292ZXJlZCByZWFjaGVzIHRoaXMgbGltaXQuIERlZmF1bHQgSW5maW5pdHkuXHJcbiAgICAgKi9cclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLndhbGtTdGVwcyA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgY29uZmlnXHJcbiAgICAgICAgdmFyIG1heENvdmVyZWRUaWxlcyA9IChfYSA9IGNvbmZpZy5tYXhDb3ZlcmVkVGlsZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5O1xyXG4gICAgICAgIHZhciBzdGVwcyA9IGNvbmZpZy5zdGVwcztcclxuICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgY29vcmRpbmF0ZVxyXG4gICAgICAgIHRoaXMuYWRkUG9pbnQoKF9iID0gY29uZmlnLnN0YXJ0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmdldFJhbmRQb2ludCgpKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXBzIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIEJyZWFrIGlmIHdlJ3JlIG92ZXIgdGhlIGNvdmVyZWQgbGltaXRcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvdmVyZWRDb3VudCA+PSBtYXhDb3ZlcmVkVGlsZXMpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fcGF0aFt0aGlzLl9wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHRoaXMuZ2V0UmFuZG9tTmVpZ2hib3IoY3VycmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERydW5rYXJkc1dhbGsucHJvdG90eXBlLmdldFJhbmRQb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuX3JuZy5uZXh0SW50KDAsIHRoaXMudGFibGUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5fcm5nLm5leHRJbnQoMCwgdGhpcy50YWJsZS5oZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcclxuICAgIH07XHJcbiAgICBEcnVua2FyZHNXYWxrLnByb3RvdHlwZS5nZXRSYW5kb21OZWlnaGJvciA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICB2YXIgbmV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB3aGlsZSAobmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBuZXh0IG5laWdoYm9yXHJcbiAgICAgICAgICAgIHZhciBuZWlnaGJvcnMgPSB0aGlzLl90b3BvbG9neSA9PT0gXCJmb3VyXCJcclxuICAgICAgICAgICAgICAgID8gZ2V0UmluZzQocG9zLngsIHBvcy55LCAxKVxyXG4gICAgICAgICAgICAgICAgOiBnZXRSaW5nOChwb3MueCwgcG9zLnksIDEpO1xyXG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuX3JuZy5uZXh0SXRlbShuZWlnaGJvcnMpO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyBpbiBib3VuZHNcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUuaXNJbkJvdW5kcyhuKSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9IG47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERydW5rYXJkc1dhbGs7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRydW5rYXJkcy13YWxrLmpzLm1hcFxuXG4vLyBleHBvcnQgeyBCU1BUcmVlUmVjdCB9IGZyb20gXCIuL2JzcC10cmVlXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG52YXIgaW5kZXgkNCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBDZWxsdWxhckF1dG9tYXRhOiBDZWxsdWxhckF1dG9tYXRhLFxuICAgIERydW5rYXJkc1dhbGs6IERydW5rYXJkc1dhbGtcbn0pO1xuXG52YXIgRGlqa3N0cmEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEaWprc3RyYShjb25maWcpIHtcclxuICAgICAgICB0aGlzLmlzQmxvY2tlZCA9IGNvbmZpZy5pc0Jsb2NrZWRDYWxsYmFjaztcclxuICAgICAgICB0aGlzLnRvcG9sb2d5ID0gY29uZmlnLnRvcG9sb2d5O1xyXG4gICAgfVxyXG4gICAgRGlqa3N0cmEucHJvdG90eXBlLmdldE5laWdoYm9ycyA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICB2YXIgbmVpZ2hib3JzID0gZ2V0UmluZzQocG9zLngsIHBvcy55LCAxKTtcclxuICAgICAgICBpZiAodGhpcy50b3BvbG9neSA9PT0gXCJlaWdodFwiKSB7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSAtIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggLSAxLCB5OiBwb3MueSAtIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggLSAxLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHsgeDogcG9zLnggKyAxLCB5OiBwb3MueSArIDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZWlnaGJvcnM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlIHByb2Nlc3NlcyB0aGUgZGlzdGFuY2VzIGJldHdlZW4gc3RhcnQgYW5kIGVuZCBnb2Fsc1xyXG4gICAgICogQHBhcmFtIGluaXRpYWxcclxuICAgICAqIEBwYXJhbSBnb2FsXHJcbiAgICAgKi9cclxuICAgIERpamtzdHJhLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24gKGluaXRpYWwsIGdvYWwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vdW5wYWNrYWdlIGNvbmZpZy5cclxuICAgICAgICB2YXIgY2FtZUZyb20gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdmFyIHByb2Nlc3NlZCA9IG5ldyBTZXQoKTtcclxuICAgICAgICB2YXIgcHJvY2Vzc2luZyA9IFtpbml0aWFsXTtcclxuICAgICAgICBjYW1lRnJvbS5zZXQoaW5pdGlhbC54ICsgXCI6XCIgKyBpbml0aWFsLnksIFwiXCIpO1xyXG4gICAgICAgIHdoaWxlIChwcm9jZXNzaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICAvL3NoaWZ0IHRoZSBsYXN0IG5vZGUgb2ZmIHRoZSBhcnJheS5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBwcm9jZXNzaW5nLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIC8vc2hvcnQgY2lyY3V0XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzZWQuaGFzKGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55KSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQuYWRkKGN1cnJlbnQueCArIFwiOlwiICsgY3VycmVudC55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhlIHNwYWNlIGlzIHdoZXJlIHlvdSBuZWVkIHRvIGJlLiBJZiBzbywgZXhpdCBsb29wLlxyXG4gICAgICAgICAgICBpZiAoVmVjdG9yLmFyZUVxdWFsKGN1cnJlbnQsIGdvYWwpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyU3RyID0gY3VycmVudC54ICsgXCI6XCIgKyBjdXJyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxQYXRoID0gW2N1cnJlbnRdO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNhbWVGcm9tLmdldChjdXJTdHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZTdHIgPSBjYW1lRnJvbS5nZXQoY3VyU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBwcmV2U3RyLnNwbGl0KFwiOlwiKSwgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyU3RyID0gcHJldlN0cjtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhdGgudW5zaGlmdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE51bWJlci5wYXJzZUludCh4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogTnVtYmVyLnBhcnNlSW50KHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JzID0gdGhpcy5nZXROZWlnaGJvcnMoY3VycmVudCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgbmVpZ2hib3JzID0gbmVpZ2hib3JzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuaXNCbG9ja2VkKHYpID09PSBmYWxzZTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBuZWlnaGJvcnNfMSA9IG5laWdoYm9yczsgX2kgPCBuZWlnaGJvcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gbmVpZ2hib3JzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZy5wdXNoKG4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhuLnggKyBcIjpcIiArIG4ueSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG4ueCArIFwiOlwiICsgbi55LCBjdXJyZW50LnggKyBcIjpcIiArIGN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGlqa3N0cmE7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpamtzdHJhLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDUgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgQVN0YXI6IEFTdGFyLFxuICAgIERpamtzdHJhOiBEaWprc3RyYVxufSk7XG5cbmZ1bmN0aW9uIGJveCh0ZXJtaW5hbCwgb3B0aW9ucykge1xyXG4gICAgdmFyIHgxID0gb3B0aW9ucy54MSwgeDIgPSBvcHRpb25zLngyLCB5MSA9IG9wdGlvbnMueTEsIHkyID0gb3B0aW9ucy55MiwgdGl0bGUgPSBvcHRpb25zLnRpdGxlO1xyXG4gICAgLy8gQ29ybmVyc1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDEsIHk6IHkxIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRSaWdodCkpO1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IHkxIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZURvd25BbmRMZWZ0KSk7XHJcbiAgICB0ZXJtaW5hbC5kcmF3R2x5cGgoeyB4OiB4MSwgeTogeTIgfSwgR2x5cGguZnJvbUNoYXJDb2RlKENoYXJDb2RlLmJveERyYXdpbmdzRG91YmxlVXBBbmRSaWdodCkpO1xyXG4gICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IHkyIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVVwQW5kTGVmdCkpO1xyXG4gICAgLy8gSG9yaXpvbnRhbCBCYXJzXHJcbiAgICBmb3IgKHZhciBkeCA9IHgxICsgMTsgZHggPCB4MjsgZHgrKykge1xyXG4gICAgICAgIHRlcm1pbmFsLmRyYXdHbHlwaCh7IHg6IGR4LCB5OiB5MSB9LCBHbHlwaC5mcm9tQ2hhckNvZGUoQ2hhckNvZGUuYm94RHJhd2luZ3NEb3VibGVIb3Jpem9udGFsKSk7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogZHgsIHk6IHkyIH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZUhvcml6b250YWwpKTtcclxuICAgIH1cclxuICAgIC8vIFZlcnRpY2FsIEJhcnNcclxuICAgIGZvciAodmFyIGR5ID0geTEgKyAxOyBkeSA8IHkyOyBkeSsrKSB7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDEsIHk6IGR5IH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsKSk7XHJcbiAgICAgICAgdGVybWluYWwuZHJhd0dseXBoKHsgeDogeDIsIHk6IGR5IH0sIEdseXBoLmZyb21DaGFyQ29kZShDaGFyQ29kZS5ib3hEcmF3aW5nc0RvdWJsZVZlcnRpY2FsKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGl0bGUpIHtcclxuICAgICAgICB0ZXJtaW5hbC53cml0ZUF0KHsgeDogeDEgKyAyLCB5OiB5MSB9LCBcIiBcIiArIHRpdGxlICsgXCIgXCIpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJveC5qcy5tYXBcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbnZhciBpbmRleCQ2ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGJveDogYm94XG59KTtcblxuLyoqIEZPViBBbGdvcml0aG0gdGhhdCBjYWxjdWxhdGVzIGFuZ2xlcyBvZiBzaGFkb3dzIGFuZCBtZXJnZXMgdGhlbSB0b2dldGhlci4gKi9cclxudmFyIFByZWNpc2VTaGFkb3djYXN0aW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFByZWNpc2VTaGFkb3djYXN0aW5nIG9iamVjdFxyXG4gICAgICogd2hpY2ggY2FuIGNhbHVsYXRlIHZpZXdzaGVkcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLmxpZ2h0UGFzc2VzIFZlY3RvcjIgPT4gQm9vbGVhbiAtIFdoZXRoZXIgYSBwb3NpdGlvbiBpcyB2aXNpYmxlXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnRvcG9sb2d5IFwiZm91clwiIHwgXCJlaWdodFwiIHwgXCJmcmVlXCIgLSBUaGUgdG9wb2xvZ3kgdG8gdXNlXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnJldHVybkFsbCBSZXR1cm4gYWxsIHNwYWNlcyBpbiByYW5nZSwgZXZlbiBpZiBub3QgdmlzaWJsZS4gRGVmYXVsdCBmYWxzZS5cclxuICAgICAqIEBwYXJhbSBjb25maWcuY2FydGVzaWFuUmFuZ2UgSWYgc2V0LCB3aWxsIGNhbGN1bGF0ZSByYW5nZSBhcyBhXjIgKyBiXjIgPSBjXjIuIFJlc3VsdHMgaW4gcm91bmQgc2hhcGUuIERlZmF1bHQgZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFByZWNpc2VTaGFkb3djYXN0aW5nKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgdGhpcy5saWdodFBhc3NlcyA9IGNvbmZpZy5saWdodFBhc3NlcztcclxuICAgICAgICAvLyBmcmVlIHVzZXMgYW4gOCByaW5nIHRvcG9sb2d5XHJcbiAgICAgICAgdGhpcy5nZXRSaW5nID0gY29uZmlnLnRvcG9sb2d5ID09PSBcImZvdXJcIiA/IGdldFJpbmc0IDogZ2V0UmluZzg7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5BbGwgPSAoX2EgPSBjb25maWcucmV0dXJuQWxsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhcnRlc2lhblJhbmdlID0gKF9iID0gY29uZmlnLmNhcnRlc2lhblJhbmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBhbiBhcnJheSBvZiB2aXNpYmxlIFZlY3RvcnMuIFNhbWUgYXMgY2FsY3VsYXRlQ2FsbGJhY2ssXHJcbiAgICAgKiBidXQgcmV0dXJucyBhbiBBcnJheSBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcmlnaW4gVmVjdG9yMiAtIFRoZSBwb3NpdGlvbiB0byBzdGFydCBmcm9tLlxyXG4gICAgICogQHBhcmFtIHJhbmdlIE51bWJlciAtIFRoZSByYW5nZSBvZiB2aXNpb25cclxuICAgICAqL1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNhbGN1bGF0ZUFycmF5ID0gZnVuY3Rpb24gKG9yaWdpbiwgcmFuZ2UpIHtcclxuICAgICAgICB2YXIgdiA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQ2FsbGJhY2sob3JpZ2luLCByYW5nZSwgZnVuY3Rpb24gKHBvcywgciwgdmlzaWJpbGl0eSkge1xyXG4gICAgICAgICAgICB2LnB1c2goeyBwb3M6IHBvcywgcjogciwgdmlzaWJpbGl0eTogdmlzaWJpbGl0eSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgdmlzaWJsZSBwb3NpdGlvbnMsIGFuZCBpbnZva2VzIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgZWFjaCBvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9yaWdpbiBWZWN0b3IyIC0gVGhlIHBvc2l0aW9uIHRvIHN0YXJ0IGZyb21cclxuICAgICAqIEBwYXJhbSByYW5nZSBOdW1iZXIgLSBUaGUgcmFuZ2Ugb2YgdmlzaW9uXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKHBvczogVmVjdG9yMiwgcmFuZ2U6IG51bWJlciwgdmlzaWJpbGl0eTogbnVtYmVyKSA9PiB2b2lkIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmlzaWJsZSB0aWxlXHJcbiAgICAgKi9cclxuICAgIFByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jYWxjdWxhdGVDYWxsYmFjayA9IGZ1bmN0aW9uIChvcmlnaW4sIHJhbmdlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIC8vIEFsd2F5cyBjYWxsIHRoZSBvcmlnaW5hbFxyXG4gICAgICAgIGNhbGxiYWNrKG9yaWdpbiwgMCwgMSk7XHJcbiAgICAgICAgdmFyIHNoYWRvd3MgPSBbXTtcclxuICAgICAgICAvLyBGb3IgYWxsIHJpbmdzXHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gcmFuZ2U7IHIrKykge1xyXG4gICAgICAgICAgICB2YXIgcmluZyA9IHRoaXMuZ2V0UmluZyhvcmlnaW4ueCwgb3JpZ2luLnksIHIpO1xyXG4gICAgICAgICAgICAvLyAqIGJ5IDIgaGVyZSBzaW5jZSB3ZSdyZSBtYWtpbmcgMiBhcmNzIHBlciB0aWxlXHJcbiAgICAgICAgICAgIHZhciBhcmNDb3VudCA9IHJpbmcubGVuZ3RoICogMjtcclxuICAgICAgICAgICAgLy8gRm9yIGFsbCBjZWxsc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gcmluZ1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgdGhlIGZpcnN0IGFuZ2xlLCB3ZSBzaGlmdCB0aGUgbmVnYXRpdmUgdmFsdWUgdG8gYSBwb3NpdGl2ZSBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBpLmUuIC0xLzggLT4gNy84XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVzc2VyTiA9IGkgPT09IDAgPyBhcmNDb3VudCAtIDEgOiAyICogaSAtIDE7XHJcbiAgICAgICAgICAgICAgICAvLyBUb0RvIC0gRml4IG5hbWluZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlc3NlckFuZ2xlID0gW2xlc3Nlck4sIGFyY0NvdW50XTtcclxuICAgICAgICAgICAgICAgIHZhciBncmVhdGVyQW5nbGUgPSBbMiAqIGkgKyAxLCBhcmNDb3VudF07XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tzID0gdGhpcy5saWdodFBhc3NlcyhjZWxsKSA9PT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlzaWJpbGl0eSA9IHRoaXMuY2hlY2tWaXNpYmlsaXR5KGxlc3NlckFuZ2xlLCBncmVhdGVyQW5nbGUsIGJsb2Nrcywgc2hhZG93cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlzaWJpbGl0eSB8fCB0aGlzLnJldHVybkFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcnRlc2lhblJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYnNSYW5nZSA9IFZlY3Rvci5nZXREaXN0YW5jZShvcmlnaW4sIGNlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzUmFuZ2UgPD0gcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNlbGwsIHIsIHZpc2liaWxpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjZWxsLCByLCB2aXNpYmlsaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUb0RvIC0gU2hvcnQgY2lyY3VpdCBpZiBlbnRpcmVseSBzdXJyb3VuZGVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNoZWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChBMSwgQTIsIGJsb2Nrcywgc2hhZG93cykge1xyXG4gICAgICAgIGlmIChBMVswXSA+IEEyWzBdKSB7XHJcbiAgICAgICAgICAgIC8qIHNwbGl0IGludG8gdHdvIHN1Yi1hcmNzICovXHJcbiAgICAgICAgICAgIHZhciB2MSA9IHRoaXMuY2hlY2tWaXNpYmlsaXR5KEExLCBbQTFbMV0sIEExWzFdXSwgYmxvY2tzLCBzaGFkb3dzKTtcclxuICAgICAgICAgICAgdmFyIHYyID0gdGhpcy5jaGVja1Zpc2liaWxpdHkoWzAsIDFdLCBBMiwgYmxvY2tzLCBzaGFkb3dzKTtcclxuICAgICAgICAgICAgcmV0dXJuICh2MSArIHYyKSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGluZGV4MTogZmlyc3Qgc2hhZG93ID49IEExICovXHJcbiAgICAgICAgdmFyIGluZGV4MSA9IDAsIGVkZ2UxID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKGluZGV4MSA8IHNoYWRvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBvbGQgPSBzaGFkb3dzW2luZGV4MV07XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gb2xkWzBdICogQTFbMV0gLSBBMVswXSAqIG9sZFsxXTtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyogb2xkID49IEExICovXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiA9PSAwICYmICEoaW5kZXgxICUgMikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRleDErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogaW5kZXgyOiBsYXN0IHNoYWRvdyA8PSBBMiAqL1xyXG4gICAgICAgIHZhciBpbmRleDIgPSBzaGFkb3dzLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSAoaW5kZXgyLS0pIHtcclxuICAgICAgICAgICAgdmFyIG9sZCA9IHNoYWRvd3NbaW5kZXgyXTtcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSBBMlswXSAqIG9sZFsxXSAtIG9sZFswXSAqIEEyWzFdO1xyXG4gICAgICAgICAgICBpZiAoZGlmZiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBvbGQgPD0gQTIgKi9cclxuICAgICAgICAgICAgICAgIGlmIChkaWZmID09IDAgJiYgaW5kZXgyICUgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2UyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB2aXNpYmxlID0gdGhpcy5jaGVja1NoYWRvd1Zpc2liaWxpdHkoaW5kZXgxLCBpbmRleDIsIGVkZ2UxLCBlZGdlMik7XHJcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0gLyogZmFzdCBjYXNlOiBub3QgdmlzaWJsZSAqL1xyXG4gICAgICAgIHZhciB2aXNpYmxlTGVuZ3RoO1xyXG4gICAgICAgIC8qIGNvbXB1dGUgdGhlIGxlbmd0aCBvZiB2aXNpYmxlIGFyYywgYWRqdXN0IGxpc3Qgb2Ygc2hhZG93cyAoaWYgYmxvY2tpbmcpICovXHJcbiAgICAgICAgdmFyIHJlbW92ZSA9IGluZGV4MiAtIGluZGV4MSArIDE7XHJcbiAgICAgICAgaWYgKHJlbW92ZSAlIDIpIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgICAgIC8qIGZpcnN0IGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgc2Vjb25kIG91dHNpZGUgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQID0gc2hhZG93c1tpbmRleDFdO1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZUxlbmd0aCA9IChBMlswXSAqIFBbMV0gLSBQWzBdICogQTJbMV0pIC8gKFBbMV0gKiBBMlsxXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIHNlY29uZCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIGZpcnN0IG91dHNpZGUgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQID0gc2hhZG93c1tpbmRleDJdO1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZUxlbmd0aCA9IChQWzBdICogQTFbMV0gLSBBMVswXSAqIFBbMV0pIC8gKEExWzFdICogUFsxXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgICAgIC8qIGJvdGggZWRnZXMgd2l0aGluIGV4aXN0aW5nIHNoYWRvd3MgKi9cclxuICAgICAgICAgICAgICAgIHZhciBQMSA9IHNoYWRvd3NbaW5kZXgxXTtcclxuICAgICAgICAgICAgICAgIHZhciBQMiA9IHNoYWRvd3NbaW5kZXgyXTtcclxuICAgICAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSAoUDJbMF0gKiBQMVsxXSAtIFAxWzBdICogUDJbMV0pIC8gKFAxWzFdICogUDJbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd3Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93cy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExLCBBMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTsgLyogd2hvbGUgYXJjIHZpc2libGUhICovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFyY0xlbmd0aCA9IChBMlswXSAqIEExWzFdIC0gQTFbMF0gKiBBMlsxXSkgLyAoQTFbMV0gKiBBMlsxXSk7XHJcbiAgICAgICAgcmV0dXJuIHZpc2libGVMZW5ndGggLyBhcmNMZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNoZWNrU2hhZG93VmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChpbmRleDEsIGluZGV4MiwgZWRnZTEsIGVkZ2UyKSB7XHJcbiAgICAgICAgdmFyIHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmRleDEgPT0gaW5kZXgyICYmIChlZGdlMSB8fCBlZGdlMikpIHtcclxuICAgICAgICAgICAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgb25lIG9mIHRoZSBlZGdlcyBtYXRjaCAqL1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVkZ2UxICYmIGVkZ2UyICYmIGluZGV4MSArIDEgPT0gaW5kZXgyICYmIGluZGV4MiAlIDIpIHtcclxuICAgICAgICAgICAgLyogY29tcGxldGVseSBlcXVpdmFsZW50IHdpdGggZXhpc3Rpbmcgc2hhZG93ICovXHJcbiAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5kZXgxID4gaW5kZXgyICYmIGluZGV4MSAlIDIpIHtcclxuICAgICAgICAgICAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgbm90IHRvdWNoaW5nICovXHJcbiAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByZWNpc2VTaGFkb3djYXN0aW5nO1xyXG59KCkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVjaXNlLmpzLm1hcFxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxudmFyIGluZGV4JDcgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgUHJlY2lzZVNoYWRvd2Nhc3Rpbmc6IFByZWNpc2VTaGFkb3djYXN0aW5nXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFsd29kZW4uanMubWFwXG5cbmV4cG9ydCB7IGluZGV4IGFzIFRlcm1pbmFsLCBpbmRleCQxIGFzIElucHV0LCBpbmRleCQ0IGFzIEdlbmVyYXRpb24sIGluZGV4JDUgYXMgUGF0aGZpbmRpbmcsIGluZGV4JDYgYXMgR1VJLCBpbmRleCQzIGFzIFJhbmQsIGluZGV4JDIgYXMgVXRpbCwgaW5kZXgkNyBhcyBGT1YsIENoYXJDb2RlLCBHbHlwaCwgQ29sb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbHdvZGVuLmVzNS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../dist/malwoden.es5.js\n");

/***/ })

})